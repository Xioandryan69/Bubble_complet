!function(){"use strict";function i(t){return function(){return t}}function t(t){return t}function e(){return a}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(t,e,n){t.execCommand("UL"===e?"InsertUnorderedList":"InsertOrderedList",!1,!1===n?null:{"list-style-type":n})},c=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){t=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return t?t.split(/[ ,]/):[]},o=function(t){t=t.getParam("advlist_bullet_styles","default,circle,square");return t?t.split(/[ ,]/):[]},l=i(!1),s=i(!0),a={fold:function(t,e){return t()},isSome:l,isNone:s,getOr:t,getOrThunk:d,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:t,orThunk:d,map:e,each:function(){},bind:e,exists:l,forall:s,filter:function(){return a},toArray:function(){return[]},toString:i("none()")};function d(t){return t()}function f(n){function t(){return o}function e(t){return t(n)}var r=i(n),o={fold:function(t,e){return e(n)},isSome:s,isNone:l,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:t,orThunk:t,map:function(t){return f(t(n))},each:function(t){t(n)},bind:e,exists:e,forall:e,filter:function(t){return t(n)?o:a},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o}function g(t){return t&&/^(TH|TD)$/.test(t.nodeName)}function m(u,l){return function(i){function t(t){var e,n,r,o;i.setActive((e=u,n=l,o=-1!==(o=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}((t=t).parents,g))?t.parents.slice(0,o):t.parents,0<(t=c.grep(o,(r=e,function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(t=t,r.$.contains(r.getBody(),t))}))).length&&t[0].nodeName===n))}return u.on("NodeChange",t),function(){return u.off("NodeChange",t)}}}function p(r,t,e,n,o,i){r.ui.registry.addSplitButton(t,{tooltip:e,icon:"OL"===o?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(t){t(c.map(i,function(t){return{type:"choiceitem",value:"default"===t?"":t,icon:"list-"+("OL"===o?"num":"bull")+"-"+("disc"===t||"decimal"===t?"default":t),text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()})}}))},onAction:function(){return r.execCommand(n)},onItemAction:function(t,e){u(r,o,e)},select:function(e){var t,n;return n=(t=r).dom.getParent(t.selection.getNode(),"ol,ul"),t=t.dom.getStyle(n,"listStyleType"),y(t).map(function(t){return e===t}).getOr(!1)},onSetup:m(r,o)})}var y=function(t){return null==t?a:f(t)},h=function(t,e,n,r,o,i){var u,l;1<i.length?p(t,e,n,r,o,i):(l=r,(u=t).ui.registry.addToggleButton(e,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:m(u,o),onAction:function(){return u.execCommand(l)}}))};n.add("advlist",function(t){var n,e;t.hasPlugin("lists")?(h(e=t,"numlist","Numbered list","InsertOrderedList","OL",r(e)),h(e,"bullist","Bullet list","InsertUnorderedList","UL",o(e)),(n=t).addCommand("ApplyUnorderedListStyle",function(t,e){u(n,"UL",e["list-style-type"])}),n.addCommand("ApplyOrderedListStyle",function(t,e){u(n,"OL",e["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();