!function(){"use strict";function a(e){var t;return null===e?"null":void 0===e?"undefined":"object"==(t=typeof e)&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t}function c(e){return{eq:e}}function s(s){return c(function(e,t){var n,r=Object.keys(e),o=Object.keys(t);if(!x(T(D),function(e){return w(e,n)}).eq(r,o))return!1;for(var i=r.length,a=0;a<i;a++){var u=r[a];if(!s.eq(e[u],t[u]))return!1}return!0})}function d(n){return function(e){return t=typeof(e=e),(null===e?"null":"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t)===n;var t}}function m(t){return function(e){return typeof e===t}}function g(t){return function(e){return t===e}}function p(e,t){return e===t}var w=function(e,t){return Array.prototype.slice.call(e).sort(t)},x=function(n,r){return c(function(e,t){return n.eq(r(e),r(t))})},D=c(function(e,t){return e===t}),T=function(o){return c(function(e,t){if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(!o.eq(e[r],t[r]))return!1;return!0})},O=c(function(e,t){var n;return e===t||(n=a(e))===a(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?e===t:"array"===n?T(O).eq(e,t):"object"===n&&s(O).eq(e,t))}),W=d("string"),B=d("object"),P=d("array"),L=g(null),I=m("boolean"),M=g(void 0),ae=function(e){return null==e},Z=function(e){return!ae(e)},k=m("function"),F=m("number"),ne=function(){},U=function(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(r.apply(null,e))}},z=function(t,n){return function(e){return t(n(e))}},K=function(e){return function(){return e}},H=function(e){return e};function h(r){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}}function j(t){return function(e){return!t(e)}}function V(e){return e()}function $(e){e()}function ue(){return ce}var l=K(!1),se=K(!0),ce={fold:function(e,t){return e()},isSome:l,isNone:se,getOr:t=H,getOrThunk:le,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(void 0),or:t,orThunk:le,map:ue,each:ne,bind:ue,exists:l,forall:se,filter:function(){return ce},toArray:function(){return[]},toString:K("none()")};function le(e){return e()}function fe(n){function e(){return o}function t(e){return e(n)}var r=K(n),o={fold:function(e,t){return t(n)},isSome:se,isNone:l,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return fe(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:ce},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o}function de(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function me(e,n,r){return de(e,function(e,t){r=n(r,e,t)}),r}function ge(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return N.some(i);if(n(i,r))break}return N.none()}function pe(e,t){return b(e,function(e){return!Oe(t,e)})}function he(e,t){return 0<=t&&t<e.length?N.some(e[t]):N.none()}function ve(e,n){return Xe(e,function(e,t){return{k:t,v:n(e,t)}})}function be(n){return function(e,t){n[t]=e}}function ye(e,n,r,o){Y(e,function(e,t){(n(e,t)?r:o)(e,t)})}function Ce(e){return n=H,r=[],Y(e,function(e,t){r.push(n(e,t))}),r;var n,r}function we(e,t){return ee(e,t)&&void 0!==e[t]&&null!==e[t]}function xe(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(ee(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0}function Se(n,r){var o=[];return xe(n,function(e,t){o.push(r(e,t,n))}),o}function Ne(n,r){var o=[];return xe(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o}function Ee(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function ke(e,t,n,r){for(var o=M(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o}function _e(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1}var N={some:fe,none:ue,from:function(e){return null==e?ce:fe(e)}},Ae=Array.prototype.slice,Re=Array.prototype.indexOf,De=Array.prototype.push,Te=function(e,t){return Re.call(e,t)},Oe=function(e,t){return-1<Te(e,t)},Be=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1},v=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},X=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},Pe=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}},b=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Le=function(e,n,r){return X(e,function(e,t){r=n(r,e,t)}),r},Ie=function(e,t){return ge(e,t,l)},Me=function(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return N.some(n);return N.none()},Fe=function(e,t){for(var n=v(e,t),r=[],o=0,i=n.length;o<i;++o){if(!P(n[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+n);De.apply(r,n[o])}return r},Ue=function(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0},ze=function(e){e=Ae.call(e,0);return e.reverse(),e},He=function(e,t){e=Ae.call(e,0);return e.sort(t),e},je=function(e){return he(e,0)},Ve=function(e){return he(e,e.length-1)},qe=k(Array.from)?Array.from:function(e){return Ae.call(e)},$e=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return N.none()},We=Object.keys,Ke=Object.hasOwnProperty,Y=function(e,t){for(var n=We(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}},Xe=function(e,n){var r={};return Y(e,function(e,t){e=n(e,t);r[e.k]=e.v}),r},Ye=function(e,t){var n={};return ye(e,t,be(n),ne),n},Ge=function(e,t){return ee(e,t)?N.from(e[t]):N.none()},ee=function(e,t){return Ke.call(e,t)},Je=Array.isArray,Qe=function(e){return e[e.length-1]},y=function(){return(y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ze(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function et(n){var r,o=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o||(o=!0,r=n.apply(null,e)),r}}function tt(){return nn(0,0)}function nt(t){return function(e){return e.replace(t,"")}}function rt(e){return 0<e.length}function ot(e){return!rt(e)}function it(t){return function(e){return un(e,t)}}function at(e){function t(e){return function(){return n===e}}var n=e.current,e=e.version;return{current:n,version:e,isEdge:t(mn),isChrome:t(gn),isIE:t(pn),isOpera:t(hn),isFirefox:t(vn),isSafari:t(bn)}}function ut(e){function t(e){return function(){return n===e}}var n=e.current,e=e.version;return{current:n,version:e,isWindows:t(wn),isiOS:t(xn),isAndroid:t(Sn),isOSX:t(En),isLinux:t(Nn),isSolaris:t(kn),isFreeBSD:t(_n),isChromeOS:t(An)}}function st(e){return window.matchMedia(e).matches}function ct(e){return null==e?"":(""+e).replace(In,"")}function lt(e,t){return t?!("array"!==t||!Je(e))||typeof e===t:void 0!==e}function ft(e,n,r,o){o=o||this,e&&(r&&(e=e[r]),xe(e,function(e,t){if(!1===n.call(o,e,t,r))return!1;ft(e,n,r,o)}))}function dt(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:e}}function mt(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}function gt(e,t){if((e=e.dom).nodeType!==Mn)return!1;if(void 0!==e.matches)return e.matches(t);if(void 0!==e.msMatchesSelector)return e.msMatchesSelector(t);if(void 0!==e.webkitMatchesSelector)return e.webkitMatchesSelector(t);if(void 0!==e.mozMatchesSelector)return e.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}function pt(e){return e.nodeType!==Mn&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function ht(e){return e.dom.nodeType}function vt(t){return function(e){return ht(e)===t}}function bt(e){return J.fromDom(e.dom.ownerDocument)}function yt(e){return J.fromDom(Xn(e).dom.defaultView)}function Ct(e){return N.from(e.dom.previousSibling).map(J.fromDom)}function wt(e){return ze(mt(e,Ct))}function xt(e){return mt(e,Jn)}function St(e){return Zn(e,0)}function Nt(e){return Zn(e,e.dom.childNodes.length-1)}function Et(e){return J.fromDom(e.dom.host)}function kt(e,t){Jn(e).fold(function(){Yn(e).each(function(e){ur(e,t)})},function(e){ar(e,t)})}function _t(t,n){St(t).fold(function(){ur(t,n)},function(e){t.dom.insertBefore(n.dom,e.dom)})}function At(t,e){X(e,function(e){ur(t,e)})}function Rt(e){e.dom.textContent="",X(Qn(e),function(e){cr(e)})}function Dt(e){var t=Qn(e);0<t.length&&sr(e,t),cr(e)}function Tt(n,r){return{left:n,top:r,translate:function(e,t){return Tt(n+e,r+t)}}}function Ot(e,t){return void 0!==e?e:void 0!==t?t:0}function Bt(e){var t=e.dom,n=t.ownerDocument.body;return n===t?fr(n.offsetLeft,n.offsetTop):lr(e)?dr(t):fr(0,0)}function Pt(e,t,n){(n=(void 0!==n?n.dom:document).defaultView)&&n.scrollTo(e,t)}function Lt(e,t){Bn().browser.isSafari()&&k(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)}function It(e){var n=void 0===e?window:e,e=n.document,r=mr(J.fromDom(e));return gr(n).fold(function(){var e=n.document.documentElement,t=e.clientWidth,e=e.clientHeight;return pr(r.left,r.top,t,e)},function(e){return pr(Math.max(e.pageLeft,r.left),Math.max(e.pageTop,r.top),e.width,e.height)})}function Mt(t){return function(e){return!!e&&e.nodeType===t}}function Ft(e){return!!e&&!Object.getPrototypeOf(e)}function Ut(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){return!(!e||!e.nodeName)&&(e=e.nodeName.toLowerCase(),Oe(t,e))}}function zt(r,e){var o=e.toLowerCase().split(" ");return function(e){if(Q(e))for(var t=0;t<o.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(r):null)===o[t])return!0}return!1}}function Ht(t){return function(e){return Q(e)&&e.hasAttribute(t)}}function jt(e){return Q(e)&&e.hasAttribute("data-mce-bogus")}function Vt(e){return Q(e)&&"TABLE"===e.tagName}function qt(t){return function(e){if(Q(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}function $t(e,t,n){return e.isSome()&&t.isSome()?N.some(n(e.getOrDie(),t.getOrDie())):N.none()}function Wt(e){return void 0!==e.style&&k(e.style.getPropertyValue)}function Kt(e,t){e.dom.removeAttribute(t)}function Xt(e,t){var r=e.dom;Y(t,function(e,t){var n=r;if(!W(e))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",e,":: Element ",n),new Error("CSS value must be a string: "+e);Wt(n)&&n.style.setProperty(t,e)})}function Yt(e){var t={},n=e.dom;if(Wt(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}function Gt(e){return Ie(e,Vn)}function Jt(e){function r(e){t()?i(e):o.push(e)}function t(){return n.isSome()}var n=N.none(),o=[],i=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){t()||(n=N.some(e),X(o,i),o=[])}),{get:r,map:function(n){return Jt(function(t){r(function(e){t(n(e))})})},isReady:t}}function Qt(a,e){return e(function(r){var o=[],i=0;0===a.length?r([]):X(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})})}function Zt(n){return{isValue:se,isError:l,getOr:K(n),getOrThunk:K(n),getOrDie:K(n),or:function(e){return Zt(n)},orThunk:function(e){return Zt(n)},fold:function(e,t){return t(n)},map:function(e){return Zt(e(n))},mapError:function(e){return Zt(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return N.some(n)}}}function en(n){return{isValue:l,isError:se,getOr:H,getOrThunk:function(e){return e()},getOrDie:function(){throw e=String(n),new Error(e);var e},or:H,orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return en(n)},mapError:function(e){return en(e(n))},each:ne,bind:function(e){return en(n)},exists:l,forall:se,toOptional:N.none}}var tn=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},nn=function(e,t){return{major:e,minor:t}},rn={nu:nn,detect:function(e,t){var n,r,t=String(t).toLowerCase();return 0===e.length?tt():(r=tn(e=e,n=t))?nn((e=function(e){return Number(n.replace(r,"$"+e))})(1),e(2)):{major:0,minor:0}},unknown:tt},on=function(e,t){var n=String(t).toLowerCase();return Ie(e,function(e){return e.search(n)})},an=function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t},un=function(e,t){return-1!==e.indexOf(t)},sn=function(e,t){return an(e,t,0)},cn=nt(/^\s+|\s+$/g),ln=nt(/^\s+/g),fn=nt(/\s+$/g),t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,t=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return un(e,"edge/")&&un(e,"chrome")&&un(e,"safari")&&un(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,t],search:function(e){return un(e,"chrome")&&!un(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return un(e,"msie")||un(e,"trident")}},{name:"Opera",versionRegexes:[t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:it("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:it("firefox")},{name:"Safari",versionRegexes:[t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(un(e,"safari")||un(e,"mobile/"))&&un(e,"applewebkit")}}],e=[{name:"Windows",search:it("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return un(e,"iphone")||un(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:it("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:it("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:it("linux"),versionRegexes:[]},{name:"Solaris",search:it("sunos"),versionRegexes:[]},{name:"FreeBSD",search:it("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:it("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],dn={browsers:K(t),oses:K(e)},mn="Edge",gn="Chrome",pn="IE",hn="Opera",vn="Firefox",bn="Safari",yn=function(){return at({current:void 0,version:rn.unknown()})},Cn=at,wn=(K(mn),K(gn),K(pn),K(hn),K(vn),K(bn),"Windows"),xn="iOS",Sn="Android",Nn="Linux",En="OSX",kn="Solaris",_n="FreeBSD",An="ChromeOS",Rn=function(){return ut({current:void 0,version:rn.unknown()})},Dn=ut,Tn=(K(wn),K(xn),K(Sn),K(Nn),K(En),K(kn),K(_n),K(An),function(e,t,n){var r,o,i,a,u,s,c,l=dn.browsers(),f=dn.oses(),t=t.bind(function(e){return r=l,$e(e.brands,function(t){var n=t.brand.toLowerCase();return Ie(r,function(e){return n===(null==(e=e.brand)?void 0:e.toLowerCase())}).map(function(e){return{current:e.name,version:rn.nu(parseInt(t.version,10),0)}})});var r}).orThunk(function(){return on(l,n=e).map(function(e){var t=rn.detect(e.versionRegexes,n);return{current:e.name,version:t}});var n}).fold(yn,Cn),f=on(f,r=e).map(function(e){var t=rn.detect(e.versionRegexes,r);return{current:e.name,version:t}}).fold(Rn,Dn),d=(i=t,a=e,n=n,d=(o=f).isiOS()&&!0===/ipad/i.test(a),u=o.isiOS()&&!d,s=o.isiOS()||o.isAndroid(),c=s||n("(pointer:coarse)"),n=d||!u&&s&&n("(min-device-width:768px)"),s=u||s&&!n,i=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),a=!s&&!n&&!i,{isiPad:K(d),isiPhone:K(u),isTablet:K(n),isPhone:K(s),isTouch:K(c),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:K(i),isDesktop:K(a)});return{browser:t,os:f,deviceType:d}}),On=et(function(){return Tn(navigator.userAgent,N.from(navigator.userAgentData),st)}),Bn=function(){return On()},t=navigator.userAgent,e=Bn(),n=e.browser,r=e.os,e=e.deviceType,Pn=/WebKit/.test(t)&&!n.isEdge(),Ln="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,t=-1!==t.indexOf("Windows Phone"),G={opera:n.isOpera(),webkit:Pn,ie:!(!n.isIE()&&!n.isEdge())&&n.version.major,gecko:n.isFirefox(),mac:r.isOSX()||r.isiOS(),iOS:e.isiPad()||e.isiPhone(),android:r.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:n.isIE()?document.documentMode||7:10,fileApi:Ln,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!n.isIE(),desktop:e.isDesktop(),windowsPhone:t,browser:{current:n.current,version:n.version,isChrome:n.isChrome,isEdge:n.isEdge,isFirefox:n.isFirefox,isIE:n.isIE,isOpera:n.isOpera,isSafari:n.isSafari},os:{current:r.current,version:r.version,isAndroid:r.isAndroid,isChromeOS:r.isChromeOS,isFreeBSD:r.isFreeBSD,isiOS:r.isiOS,isLinux:r.isLinux,isOSX:r.isOSX,isSolaris:r.isSolaris,isWindows:r.isWindows},deviceType:{isDesktop:e.isDesktop,isiPad:e.isiPad,isiPhone:e.isiPhone,isPhone:e.isPhone,isTablet:e.isTablet,isTouch:e.isTouch,isWebView:e.isWebView}},In=/^\s*|\s*$/g,re={trim:ct,isArray:Je,is:lt,toArray:function(e){if(Je(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||",",n=n||{},r=(e="string"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:xe,map:Se,grep:Ne,inArray:Ee,hasOwn:ee,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i,a=t[r];for(o in a)ee(a,o)&&void 0!==(i=a[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,a=this,u=0,s=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],c=a.createNS(e[3].replace(/\.\w+$/,""),n);c[s]||("static"===e[2]?(c[s]=t,this.onCreate&&this.onCreate(e[2],e[3],c[s])):(t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t.static,function(e,t){c[s][t]=e})))},walk:ft,createNS:function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||lt(e,"array")?e:Se(e.split(t||","),ct)},_addCacheSuffix:function(e){var t=G.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},J={fromHtml:function(e,t){t=(t||document).createElement("div");if(t.innerHTML=e,!t.hasChildNodes()||1<t.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return dt(t.childNodes[0])},fromTag:function(e,t){t=(t||document).createElement(e);return dt(t)},fromText:function(e,t){t=(t||document).createTextNode(e);return dt(t)},fromDom:dt,fromPoint:function(e,t,n){return N.from(e.dom.elementFromPoint(t,n)).map(dt)}},Mn=1,Fn=function(e,t){t=void 0===t?document:t.dom;return pt(t)?[]:v(t.querySelectorAll(e),J.fromDom)},S=function(e,t){return e.dom===t.dom},Un=function(e,t){e=e.dom,t=t.dom;return e!==t&&e.contains(t)},zn=function(e,t){return e=e.dom,t=t.dom,n=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(e.compareDocumentPosition(t)&n);var n},Hn=function(e,t){return(Bn().browser.isIE()?zn:Un)(e,t)},jn=("undefined"!=typeof window||Function("return this;")(),function(e){return e.dom.nodeName.toLowerCase()}),Vn=vt(Mn),qn=vt(3),$n=vt(9),Wn=vt(11),Kn=function(t){return function(e){return Vn(e)&&jn(e)===t}},Xn=function(e){return $n(e)?e:bt(e)},Yn=function(e){return N.from(e.dom.parentNode).map(J.fromDom)},Gn=function(t){return Yn(t).map(Qn).map(function(e){return b(e,function(e){return!S(t,e)})}).getOr([])},Jn=function(e){return N.from(e.dom.nextSibling).map(J.fromDom)},Qn=function(e){return v(e.dom.childNodes,J.fromDom)},Zn=function(e,t){e=e.dom.childNodes;return N.from(e[t]).map(J.fromDom)},er=function(e){return e.dom.childNodes.length},tr=function(e){return Wn(e)&&Z(e.dom.host)},Pn=k(Element.prototype.attachShadow)&&k(Node.prototype.getRootNode),nr=K(Pn),rr=Pn?function(e){return J.fromDom(e.dom.getRootNode())}:Xn,or=function(e){if(tr(e))return e;e=Xn(e);if(null==(e=e.dom.head))throw new Error("Head is not available yet");return J.fromDom(e)},ir=function(e){if(nr()&&Z(e.target)){var t=J.fromDom(e.target);if(Vn(t)&&Z(t.dom.shadowRoot)&&(e.composed&&e.composedPath)){t=e.composedPath();if(t)return je(t)}}return N.from(e.target)},ar=function(t,n){Yn(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})},ur=function(e,t){e.dom.appendChild(t.dom)},sr=function(t,e){X(e,function(e){ar(t,e)})},cr=function(e){e=e.dom;null!==e.parentNode&&e.parentNode.removeChild(e)},lr=function(e){var t,n=qn(e)?e.dom.parentNode:e.dom;return null!=n&&null!==n.ownerDocument&&(t=n.ownerDocument,function(e){e=rr(e);return tr(e)?N.some(e):N.none()}(J.fromDom(n)).fold(function(){return t.body.contains(n)},z(lr,Et)))},fr=Tt,dr=function(e){e=e.getBoundingClientRect();return fr(e.left,e.top)},mr=function(e){var e=void 0!==e?e.dom:document,t=e.body.scrollLeft||e.documentElement.scrollLeft,e=e.body.scrollTop||e.documentElement.scrollTop;return fr(t,e)},gr=function(e){e=void 0===e?window:e;return Bn().browser.isFirefox()?N.none():N.from(e.visualViewport)},pr=function(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}},Q=Mt(1),hr=Ut(["textarea","input"]),_=Mt(3),vr=Mt(8),br=Mt(9),yr=Mt(11),A=Ut(["br"]),Cr=Ut(["img"]),wr=qt("true"),E=qt("false"),xr=Ut(["td","th"]),Sr=Ut(["video","audio","object","embed"]),Nr=function(e,t,n){return void 0===n&&(n=p),e.exists(function(e){return n(e,t)})},Er=function(e,t,n){if(!(W(n)||I(n)||F(n)))throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},kr=function(e,t,n){Er(e.dom,t,n)},_r=function(e,t){var n=e.dom;Y(t,function(e,t){Er(n,t,e)})},Ar=function(e,t){e=e.dom.getAttribute(t);return null===e?void 0:e},Rr=function(e,t){return N.from(Ar(e,t))},Dr=function(e,t){e=e.dom;return!(!e||!e.hasAttribute)&&e.hasAttribute(t)},Tr=function(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return""!==r||lr(e)?r:Or(n,t)},Or=function(e,t){return Wt(e)?e.style.getPropertyValue(t):""},Br=function(e,t){e=e.dom,e=Or(e,t);return N.from(e).filter(function(e){return 0<e.length})},Pr=function(e){return e.dom.offsetWidth},Lr=Bn().browser,Ir=function(e){return Lr.isFirefox()&&"table"===jn(e)?Gt(Qn(e)).filter(function(e){return"caption"===jn(e)}).bind(function(r){return Gt(xt(r)).map(function(e){var e=e.dom.offsetTop,t=r.dom.offsetTop,n=r.dom.offsetHeight;return e<=t?-n:0})}).getOr(0):0},Mr=function(e,t){return e.children&&Oe(e.children,t)},Fr={},Ur={exports:Fr},zr=(!function(e){var t,n;t=this,n=function(){var t,e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n={exports:{}};function r(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function o(n,r){for(;3===n._state;)n=n._value;0===n._state?n._deferreds.push(r):(n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null===t)(1===n._state?a:u)(r.promise,n._value);else{try{e=t(n._value)}catch(e){return void u(r.promise,e)}a(r.promise,e)}}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void s(t);if("function"==typeof n)return void l((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,s(t)}catch(e){u(t,e)}var r,o}function u(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function c(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){n||(n=!0,u(t,e))}}f=n,e=e,t=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new c(e,t,n)),n},i.all=function(e){var u=Array.prototype.slice.call(e);return new i(function(o,i){if(0===u.length)return o([]);var a=u.length;for(var e=0;e<u.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return void r.call(e,function(e){t(n,e)},i)}u[n]=e,0==--a&&o(u)}catch(e){i(e)}}(e,u[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){t(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},f.exports?f.exports=i:e.Promise||(e.Promise=i);var f=n.exports;return{boltExport:("undefined"!=typeof window?window:Function("return this;")()).Promise||f}},"object"==typeof Fr&&void 0!==Ur?Ur.exports=n():"function"==typeof e&&e.amd?e(n):(t="undefined"!=typeof globalThis?globalThis:t||self).EphoxContactWrapper=n()}(void 0),Ur.exports.boltExport),Hr={nu:Jt,pure:function(t){return Jt(function(e){e(t)})}},jr=function(e){setTimeout(function(){throw e},0)},Vr=function(n){function e(e){n().then(e,jr)}return{map:function(e){return Vr(function(){return n().then(e)})},bind:function(t){return Vr(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return Vr(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return Hr.nu(e)},toCached:function(){var e=null;return Vr(function(){return e=null===e?n():e})},toPromise:n,get:e}},qr={nu:function(e){return Vr(function(){return new zr(e)})},pure:function(e){return Vr(function(){return zr.resolve(e)})}},$r=function(e){return Qt(e,qr.nu)},Wr={value:Zt,error:en,fromOption:function(e,t){return e.fold(function(){return en(t)},Zt)}},Ln=function(a){if(!P(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var u=[],n={};return X(a,function(e,r){var t=We(e);if(1!==t.length)throw new Error("one and only one name per case");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error("duplicate key detected:"+o);if("cata"===o)throw new Error("cannot have a case named cata (sorry)");if(!P(i))throw new Error("case arguments must be an array");u.push(o),n[o]=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t!==i.length)throw new Error("Wrong number of arguments to case "+o+". Expected "+i.length+" ("+i+"), got "+t);return{fold:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+e.length);return e[r].apply(null,n)},match:function(e){var t=We(e);if(u.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+"\nActual: "+t.join(","));if(Ue(u,function(e){return Oe(t,e)}))return e[o].apply(null,n);throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+u.join(", "))},log:function(e){console.log(e,{constructors:u,constructor:o,params:n})}}}}),n},Kr=(Ln([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(H,H)});function Xr(e,t,n,r,o){return e(n,r)?N.some(n):k(o)&&o(n)?N.none():t(n,r,o)}function Yr(e,t,n){for(var r=e.dom,o=k(n)?n:l;r.parentNode;){var r=r.parentNode,i=J.fromDom(r);if(t(i))return N.some(i);if(o(i))break}return N.none()}function Gr(e,t,n){return Xr(function(e,t){return t(e)},Yr,e,t,n)}function Jr(t,n){var r,e=t.dom;return e.parentNode?(e=J.fromDom(e.parentNode),r=function(e){return!S(t,e)&&n(e)},Ie(e.dom.childNodes,function(e){return r(J.fromDom(e))}).map(J.fromDom)):N.none()}function Qr(e,t,n){return Yr(e,function(e){return gt(e,t)},n)}function Zr(e,t){for(var n=window.requestAnimationFrame,r=["ms","moz","webkit"],o=0;o<r.length&&!n;o++)n=window[r[o]+"RequestAnimationFrame"];(n=n||function(e){window.setTimeout(e,0)})(e,t)}function eo(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)}function to(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)}function no(n,r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(o),o=eo(function(){n.apply(this,e)},r)}var o;return e.stop=function(){clearTimeout(o)},e}function ro(l,f){function r(t){return qr.nu(function(e){n(t,U(e,K(Wr.value(t))),U(e,K(Wr.error(t))))})}function t(e){var n=re._addCacheSuffix(e);Ge(m,n).each(function(e){var t;0==--e.count&&(delete m[n],e=e.id,t=or(g),ao(t,"#"+e).each(cr))})}void 0===f&&(f={});var d=0,m={},g=J.fromDom(l),p=Xn(g),h=f.maxLoadTime||5e3,n=function(e,t,n){function r(e,t){for(var n=e.length;n--;)e[n]();s.status=t,s.passed=[],s.failed=[],a&&(a.onload=null,a.onerror=null,a=null)}function o(){r(s.passed,2)}function i(){var e;e=i,function(){for(var e=l.styleSheets,t=e.length;t--;){var n=e[t].ownerNode;if(n&&n.id===a.id)return o(),1}}()||(Date.now()-u<h?co.setTimeout(e):c())}var a,u,e=re._addCacheSuffix(e),s=Ge(m,e).getOrThunk(function(){return{id:"mce-u"+d++,passed:[],failed:[],count:0}}),c=((m[e]=s).count++,function(){return r(s.failed,3)});t&&s.passed.push(t),n&&s.failed.push(n),1!==s.status&&(2===s.status?o():3===s.status?c():(s.status=1,t=J.fromTag("link",p.dom),_r(t,{rel:"stylesheet",type:"text/css",id:s.id}),u=Date.now(),f.contentCssCors&&kr(t,"crossOrigin","anonymous"),f.referrerPolicy&&kr(t,"referrerpolicy",f.referrerPolicy),(a=t.dom).onload=i,a.onerror=c,n=t,ur(or(g),n),kr(t,"href",e)))};return{load:n,loadAll:function(e,t,n){$r(v(e,r)).get(function(e){e=Pe(e,function(e){return e.isValue()});0<e.fail.length?n(e.fail.map(Kr)):t(e.pass.map(Kr))})},unload:t,unloadAll:function(e){X(e,function(e){t(e)})},_setReferrerPolicy:function(e){f.referrerPolicy=e}}}var oo,io,ao=function(e,t){return e=void 0===e?document:e.dom,pt(e)?N.none():N.from(e.querySelector(t)).map(J.fromDom)},uo=function(e,t,n){return Xr(gt,Qr,e,t,n)},so=window.Promise||zr,co={requestAnimationFrame:function(e,t){oo?oo.then(e):oo=new so(function(e){t=t||document.body,Zr(e,t)}).then(e)},setTimeout:eo,setInterval:to,setEditorTimeout:function(e,t,n){return eo(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=to(function(){e.removed?clearInterval(r):t()},n);return r},debounce:no,throttle:no,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},lo=(io=new WeakMap,{forElement:function(e,t){var n=rr(e).dom;return N.from(io.get(n)).getOrThunk(function(){var e=ro(n,t);return io.set(n,e),e})}}),fo=(mo.prototype.current=function(){return this.node},mo.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},mo.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},mo.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},mo.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},mo.prototype.findPreviousNode=function(e,t,n,r){var o;if(e&&(n=e[n],!this.rootNode||n!==this.rootNode)){if(n){if(!r)for(o=n[t];o;o=o[t])if(!o[t])return o;return n}return(r=e.parentNode)&&r!==this.rootNode?r:void 0}},mo);function mo(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function go(t){var n;return function(e){return n=n||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(t,se),ee(n,jn(e))}}function po(e){return Vn(e)&&!Io(e)}function ho(e,t,n){(e=t.ownerDocument.createElement(e)).setAttribute("data-mce-caret",n?"before":"after"),e.setAttribute("data-mce-bogus","all"),e.appendChild(((r=document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var r=t.parentNode;return n?r.insertBefore(e,t):t.nextSibling?r.insertBefore(e,t.nextSibling):r.appendChild(e),e}function vo(e){return Go(e)&&e.data[0]===Wo}function bo(e){return Go(e)&&e.data[e.data.length-1]===Wo}function yo(e){return!di(e)&&(si(e)?!ci(e.parentNode):li(e)||ui(e)||fi(e)||gi(e))}function Co(e,t){var n,t=J.fromDom(t);return e=e=J.fromDom(e),n="pre,code",t=h(S,t),Qr(e,n,t).isSome()}function wo(e,t){return Z(e)&&(bi(e,t)||po(J.fromDom(e)))}function xo(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Pi[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}}function So(e,t){return e.replace(t?Ri:Di,function(e){return Pi[e]||e})}function No(e,t){return e.replace(t?Ri:Di,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Pi[e]||"&#"+e.charCodeAt(0)+";"})}function Eo(e,t,n){return n=n||Ii,e.replace(t?Ri:Di,function(e){return Pi[e]||n[e]||e})}function ko(e){return Wi("td th li dt dd figcaption caption details summary",e.getTextBlockElements())}function _o(b,e){for(var s,c,y=this,C=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,w=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,x=/\s*([^:]+):\s*([^;]+);?/g,S=/\s+$/,N={},E=qo,t=(b=b||{},e&&(s=e.getValidStyles(),c=e.getInvalidStyles()),("\\\" \\' \\; \\: ; : "+E).split(" ")),k=0;k<t.length;k++)N[t[k]]=E+k,N[E+k]=t[k];return{toHex:function(e){return e.replace(C,Gi)},parse:function(e){function t(e,t,n){var r=d[e+"-top"+t];if(r){var o=d[e+"-right"+t];if(o){var i=d[e+"-bottom"+t];if(i){var a=d[e+"-left"+t];if(a){var u=[r,o,i,a];for(k=u.length-1;k--&&u[k]===u[k+1];);-1<k&&n||(d[e+t]=-1===k?u[0]:u.join(" "),delete d[e+"-top"+t],delete d[e+"-right"+t],delete d[e+"-bottom"+t],delete d[e+"-left"+t])}}}}}function n(e){return u=!0,N[e]}function r(e){return e.replace(/\\[0-9a-f]+/gi,v)}function o(e,t,n,r,o,i){if(o=o||i)return"'"+(o=h(o)).replace(/\'/g,"\\'")+"'";if(t=h(t||n||r),!b.allow_script_urls){i=t.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(i))return"";if(!b.allow_svg_data_urls&&/^data:image\/svg/i.test(i))return""}return"url('"+(t=m?m.call(g,t,"style"):t).replace(/\'/g,"\\'")+"')"}var i,a,u,s,c,l,f,d={},m=b.url_converter,g=b.url_converter_scope||y,p=function(e){var t,n=d[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return d[e]=n[0],!0}},h=function(e,t){return u&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return N[e]})),e=t?e:e.replace(/\\([\'\";:])/g,"$1")},v=function(e){return String.fromCharCode(parseInt(e.slice(1),16))};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,n).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,n)});a=x.exec(e);)x.lastIndex=a.index+a[0].length,i=a[1].replace(S,"").toLowerCase(),a=a[2].replace(S,""),i&&a&&(i=r(i),a=r(a),-1===i.indexOf(E))&&-1===i.indexOf('"')&&(b.allow_script_urls||"behavior"!==i&&!/expression\s*\(|\/\*|\*\//.test(a))&&("font-weight"===i&&"700"===a?a="bold":"color"!==i&&"background-color"!==i||(a=a.toLowerCase()),a=(a=a.replace(C,Gi)).replace(w,o),d[i]=u?h(a,!0):a);t("border","",!0),t("border","-width"),t("border","-color"),t("border","-style"),t("padding",""),t("margin",""),s="border",l="border-style",f="border-color",p(c="border-width")&&p(l)&&p(f)&&(d[s]=d[c]+" "+d[l]+" "+d[f],delete d[c],delete d[l],delete d[f]),"medium none"===d.border&&delete d.border,"none"===d["border-image"]&&delete d["border-image"]}return d},serialize:function(i,a){function e(e){var t,n=s[e];if(n)for(var r=0,o=n.length;r<o;r++)e=n[r],(t=i[e])&&(u+=(0<u.length?" ":"")+e+": "+t+";")}var u="";return a&&s?(e("*"),e(a)):Y(i,function(e,t){var n,r,o;!e||c&&(n=t,r=a,(o=c["*"])&&o[n]||(o=c[r])&&o[n])||(u+=(0<u.length?" ":"")+t+": "+e+";")}),u}}}function Ao(e,t,n,r){var o=ta(t,r);return o.type=e,ae(o.target)&&(o.target=null!=(r=o.srcElement)?r:n),ea(t)&&(o.preventDefault=function(){o.defaultPrevented=!0,o.isDefaultPrevented=se,k(t.preventDefault)?t.preventDefault():Qi(t)&&(t.returnValue=!1)},o.stopPropagation=function(){o.cancelBubble=!0,o.isPropagationStopped=se,k(t.stopPropagation)?t.stopPropagation():Qi(t)&&(t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=se,o.stopPropagation()},Zi(o)||(o.isDefaultPrevented=!0===o.defaultPrevented?se:l,o.isPropagationStopped=!0===o.cancelBubble?se:l,o.isImmediatePropagationStopped=l)),o}function Ro(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)}function Do(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)}function To(e,t){var n,r,o,t=Ao(e.type,e,document,t);return Z(o=e)&&na.test(o.type)&&M(e.pageX)&&!M(e.clientX)&&(n=(o=t.target.ownerDocument||document).documentElement,o=o.body,(r=t).pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),r.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),M(t.metaKey)&&(t.metaKey=!1),t}function Oo(e,t,n){var r,o=e.document,i={type:"ready"};n.domLoaded?t(i):(r=function(){Do(e,"DOMContentLoaded",r),Do(e,"load",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},"complete"===o.readyState||"interactive"===o.readyState&&o.body?r():Ro(e,"DOMContentLoaded",r),n.domLoaded||Ro(e,"load",r))}var Bo,Po,Lo=go(["h1","h2","h3","h4","h5","h6"]),Io=go(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Mo=function(e){return Vn(e)&&"br"===jn(e)},Fo=go(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Uo=go(["ul","ol","dl"]),zo=go(["li","dd","dt"]),Ho=go(["thead","tbody","tfoot"]),jo=go(["td","th"]),Vo=go(["pre","script","textarea","style"]),qo="\ufeff",$o=" ",Wo=qo,Ko=function(e){return e===qo},Xo=function(e){return e.replace(/\uFEFF/g,"")},Yo=Q,Go=_,Jo=function(e){return Go(e)&&(e=e.parentNode),Yo(e)&&e.hasAttribute("data-mce-caret")},Qo=function(e){return Go(e)&&Ko(e.data)},Zo=function(e){return Jo(e)||Qo(e)},ei=function(e){return e.firstChild!==e.lastChild||!A(e.firstChild)},ti=function(e){var t=e.container();return!!_(t)&&(t.data.charAt(e.offset())===Wo||e.isAtStart()&&Qo(t.previousSibling))},ni=function(e){var t=e.container();return!!_(t)&&(t.data.charAt(e.offset()-1)===Wo||e.isAtEnd()&&Qo(t.nextSibling))},ri=function(e){var t;return e&&e.hasAttribute("data-mce-caret")?(t=(t=(t=e).getElementsByTagName("br"))[t.length-1],jt(t)&&t.parentNode.removeChild(t),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},oi=function(e){return Jo(e.startContainer)},ii=wr,ai=E,ui=A,si=_,ci=Ut(["script","style","textarea"]),li=Ut(["img","input","textarea","hr","iframe","video","audio","object","embed"]),fi=Ut(["table"]),di=Zo,mi=function(e){return Q(e)&&"true"===e.getAttribute("unselectable")},gi=function(e){return!1===mi(e)&&ai(e)},pi=function(e,t){return yo(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(gi(e))return!1;if(ii(e))return!0}return!0}(e,t)},hi=/^[ \t\r\n]*$/,vi=function(e){return hi.test(e)},bi=function(e,t){return yo(e)&&!1===(t=t,_(n=e)&&vi(n.data)&&!1===Co(n,t))||Q(n=e)&&"A"===n.nodeName&&!n.hasAttribute("href")&&(n.hasAttribute("name")||n.hasAttribute("id"))||yi(e);var n},yi=Ht("data-mce-bookmark"),Ci=Ht("data-mce-bogus"),wi=(Bo="data-mce-bogus",Po="all",function(e){return Q(e)&&e.getAttribute(Bo)===Po}),xi=function(e,t){var n=e.dom,r=t=void 0===t||t,o=0;if(bi(n,n))return!1;var i=n.firstChild;if(!i)return!0;var a=new fo(i,n);do{if(r){if(wi(i)){i=a.next(!0);continue}if(Ci(i)){i=a.next();continue}}if(A(i))o++;else if(bi(i,n))return!1;i=a.next()}while(i);return o<=1},Si=function(e){return"span"===e.nodeName.toLowerCase()&&"bookmark"===e.getAttribute("data-mce-type")},Ni=function(e,t){return _(e)&&0<e.data.length&&(n=new fo(e=e,t=t).prev(!1),e=new fo(e,t).next(!1),n=M(n)||wo(n,t),e=M(e)||wo(e,t),n)&&e;var n},Ei=function(e){return!!Q(e)&&0<e.childNodes.length},ki=function(e){return yr(e)||br(e)},_i=function(e,t,n){var r=n||t;if(!Q(t)||!Si(t)){for(var o=t.childNodes,i=o.length-1;0<=i;i--)_i(e,o[i],r);Q(t)&&1===(n=t.childNodes).length&&Si(n[0])&&t.parentNode.insertBefore(n[0],t),ki(t)||bi(t,r)||Ei(t)||Ni(t,r)||e.remove(t)}return t},Ai=re.makeMap,Ri=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Di=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ti=/[<>&\"\']/g,Oi=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Bi={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Pi={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Li={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Ii=xo("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Mi={encodeRaw:So,encodeAllRaw:function(e){return(""+e).replace(Ti,function(e){return Pi[e]||e})},encodeNumeric:No,encodeNamed:Eo,getEncodeFunc:function(e,t){var n=xo(t)||Ii,e=Ai(e.replace(/\+/g,","));return e.named&&e.numeric?function(e,t){return e.replace(t?Ri:Di,function(e){return void 0!==Pi[e]?Pi[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:e.named?t?function(e,t){return Eo(e,t,n)}:Eo:e.numeric?No:So},decode:function(e){return e.replace(Oi,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Bi[t]||String.fromCharCode(t):Li[e]||Ii[e]||(t=e,(e=J.fromTag("div").dom).innerHTML=t,e.textContent)||e.innerText||t})}},Fi={},Ui={},zi=re.makeMap,Hi=re.each,ji=re.extend,Vi=re.explode,qi=re.inArray,$i=function(e,t){return(e=re.trim(e))?e.split(t||" "):[]},Wi=function(e,t){e=zi(e," ",zi(e.toUpperCase()," "));return ji(e,t)},Ki=function(e){function t(e,t,n){for(var r,o=function(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n},i=(t=t||"","string"==typeof(n=n||[])&&(n=$i(n)),$i(e)),a=i.length;a--;)r={attributes:o(r=$i([u,t].join(" "))),attributesOrder:r,children:o(n,Ui)},s[i[a]]=r}function n(e,t){for(var n,r,o,i=$i(e),a=i.length,u=$i(t);a--;)for(n=s[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])}var u,r,o,i,a,s={};return Fi[e]||(u="id accesskey class dir lang style tabindex title role",r="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",o="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(u+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",r+=" article aside details dialog figure main header footer hgroup section nav",o+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(u+=" xml:lang",o=[o,a="acronym applet basefont big font strike tt"].join(" "),Hi($i(a),function(e){t(e,"",o)}),r=[r,a="center dir isindex noframes"].join(" "),i=[r,o].join(" "),Hi($i(a),function(e){t(e,"",i)})),i=i||[r,o].join(" "),t("html","manifest","head body"),t("head","","base command link meta noscript script style title"),t("title hr noscript br"),t("base","href target"),t("link","href rel media hreflang type sizes hreflang"),t("meta","name http-equiv content charset"),t("style","media type scoped"),t("script","src async defer type charset"),t("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),t("address dt dd div caption","",i),t("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",o),t("blockquote","cite",i),t("ol","reversed start type","li"),t("ul","","li"),t("li","value",i),t("dl","","dt dd"),t("a","href target rel media hreflang type",o),t("q","cite",o),t("ins del","cite datetime",i),t("img","src sizes srcset alt usemap ismap width height"),t("iframe","src name width height",i),t("embed","src type width height"),t("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),t("param","name value"),t("map","name",[i,"area"].join(" ")),t("area","alt coords shape href target rel media hreflang type"),t("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),t("colgroup","span","col"),t("col","span"),t("tbody thead tfoot","","tr"),t("tr","","td th"),t("td","colspan rowspan headers",i),t("th","colspan rowspan headers scope abbr",i),t("form","accept-charset action autocomplete enctype method name novalidate target",i),t("fieldset","disabled form name",[i,"legend"].join(" ")),t("label","form for",o),t("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),t("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:o),t("select","disabled form multiple name required size","option optgroup"),t("optgroup","disabled label","option"),t("option","disabled label selected value"),t("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),t("menu","type label",[i,"li"].join(" ")),t("noscript","",i),"html4"!==e&&(t("wbr"),t("ruby","",[o,"rt rp"].join(" ")),t("figcaption","",i),t("mark rt rp summary bdi","",o),t("canvas","width height",i),t("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),t("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),t("picture","","img source"),t("source","src srcset type media sizes"),t("track","kind src srclang label default"),t("datalist","",[o,"option"].join(" ")),t("article section nav aside main header footer","",i),t("hgroup","","h1 h2 h3 h4 h5 h6"),t("figure","",[i,"figcaption"].join(" ")),t("time","datetime",o),t("dialog","open",i),t("command","type label icon disabled checked radiogroup command"),t("output","for form name",o),t("progress","value max",o),t("meter","value min max low high optimum",o),t("details","open",[i,"summary"].join(" ")),t("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(n("script","language xml:space"),n("style","xml:space"),n("object","declare classid code codebase codetype archive standby align border hspace vspace"),n("embed","align name hspace vspace"),n("param","valuetype type"),n("a","charset name rev shape coords"),n("br","clear"),n("applet","codebase archive code object alt name width height align hspace vspace"),n("img","name longdesc align border hspace vspace"),n("iframe","longdesc frameborder marginwidth marginheight scrolling align"),n("font basefont","size color face"),n("input","usemap align"),n("select"),n("textarea"),n("h1 h2 h3 h4 h5 h6 div p legend caption","align"),n("ul","type compact"),n("li","type"),n("ol dl menu dir","compact"),n("pre","width xml:space"),n("hr","align noshade size width"),n("isindex","prompt"),n("table","summary width frame rules cellspacing cellpadding align bgcolor"),n("col","width align char charoff valign"),n("colgroup","width align char charoff valign"),n("thead","align char charoff valign"),n("tr","align char charoff valign bgcolor"),n("th","axis align char charoff valign nowrap bgcolor width height"),n("form","accept"),n("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),n("tfoot","align char charoff valign"),n("tbody","align char charoff valign"),n("area","nohref"),n("body","background bgcolor text link vlink alink")),"html4"!==e&&(n("input button select textarea","autofocus"),n("input textarea","placeholder"),n("a","download"),n("link script img","crossorigin"),n("img","loading"),n("iframe","sandbox seamless allowfullscreen loading")),Hi($i("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Fi[e]=s)},Xi=function(e,n){var r;return e&&(r={},Hi(e="string"==typeof e?{"*":e}:e,function(e,t){r[t]=r[t.toUpperCase()]=("map"===n?zi:Vi)(e,/[, ]/)})),r},Yi=function(o){function e(e,t,n){var r=o[e];return r?r=zi(r,/[, ]/,zi(r.toUpperCase(),/[, ]/)):(r=Fi[e])||(r=Wi(t,n),Fi[e]=r),r}function t(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,w=/[*?+]/;if(e){var x=$i(e,",");for(S["@"]&&(h=S["@"].attributes,v=S["@"].attributesOrder),t=0,n=x.length;t<n;t++)if(i=y.exec(x[t])){if(g=i[1],c=i[2],p=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},"#"===g&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),h&&(Y(h,function(e,t){d[t]=e}),m.push.apply(m,v)),s)for(r=0,o=(s=$i(s,"|")).length;r<o;r++)(i=C.exec(s[r]))&&(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),g=i[3],b=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f?(delete d[l],m.splice(qi(m,l),1)):(g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),u.defaultValue=b),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),u.forcedValue=b),"<"===g)&&(u.validValues=zi(b,"?")),w.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=E(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)));h||"@"!==c||(h=d,v=m),p&&(a.outputName=c,S[p]=a),w.test(c)?(a.pattern=E(c),N.push(a)):S[c]=a}}}function n(e){S={},N=[],t(e),Hi(l,function(e,t){u[t]=e.children})}function r(e){var o=/^(~)?(.+)$/;e&&(Fi.text_block_elements=Fi.block_elements=null,Hi($i(e,","),function(e){var e=o.exec(e),t="~"===e[1],n=t?"span":"div",r=e[2];u[r]=u[n],s[r]=n,t||(w[r.toUpperCase()]={},w[r]={}),S[r]||(e=S[n],delete(e=ji({},e)).removeEmptyAttrs,delete e.removeEmpty,S[r]=e),Hi(u,function(e,t){e[n]&&(u[t]=e=ji({},u[t]),e[r]=e[n])})}))}function i(e){var r=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Fi[o.schema]=null,e&&Hi($i(e,","),function(e){var t,n,e=r.exec(e);e&&(n=e[1],t=n?u[e[2]]:u[e[2]]={"#comment":{}},t=u[e[2]],Hi($i(e[3],"|"),function(e){"-"===n?delete t[e]:t[e]={}}))})}function a(e){var t,n=S[e];if(n)return n;for(t=N.length;t--;)if((n=N[t]).pattern.test(e))return n}var S={},u={},N=[],s={},c={},l=Ki((o=o||{}).schema),f=(!1===o.verify_html&&(o.valid_elements="*[*]"),Xi(o.valid_styles)),d=Xi(o.invalid_styles,"map"),m=Xi(o.valid_classes,"map"),g=e("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=e("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=e("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),v=e("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),b="td th iframe video audio object script code",y=e("non_empty_elements",b+" pre",h),b=e("move_caret_before_on_enter_elements",b+" table",h),C=e("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),w=e("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",C),x=e("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),E=(Hi((o.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){c[e]=new RegExp("</"+e+"[^>]*>","gi")}),function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")}),f=(o.valid_elements?n(o.valid_elements):(Hi(l,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},u[t]=e.children}),"html5"!==o.schema&&Hi($i("strong/b em/i"),function(e){e=$i(e,"/");S[e[1]].outputName=e[0]}),Hi(x,function(e,t){S[t]&&(o.padd_empty_block_inline_children&&(S[t].paddInEmptyBlock=!0),S[t].removeEmpty=!0)}),Hi($i("ol ul blockquote a table tbody"),function(e){S[e]&&(S[e].removeEmpty=!0)}),Hi($i("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){S[e].paddEmpty=!0}),Hi($i("span"),function(e){S[e].removeEmptyAttrs=!0})),r(o.custom_elements),i(o.valid_children),t(o.extended_valid_elements),i("+ol[ul|ol],+ul[ul|ol]"),Hi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){S[t]&&(S[t].parentsRequired=$i(e))}),o.invalid_elements&&Hi(Vi(o.invalid_elements),function(e){S[e]&&delete S[e]}),a("span")||t("span[!data-mce-type|*]"),K(f)),d=K(d),m=K(m),v=K(v),k=K(w),C=K(C),x=K(x),h=K(h),p=K(p),y=K(y),b=K(b),g=K(g),_=K(c),A=K(s);return{children:u,elements:S,getValidStyles:f,getValidClasses:m,getBlockElements:k,getInvalidStyles:d,getShortEndedElements:h,getTextBlockElements:C,getTextInlineElements:x,getBoolAttrs:v,getElementRule:a,getSelfClosingElements:p,getNonEmptyElements:y,getMoveCaretBeforeOnEnterElements:b,getWhiteSpaceElements:g,getSpecialElements:_,isValidChild:function(e,t){e=u[e.toLowerCase()];return!(!e||!e[t.toLowerCase()])},isValid:function(e,t){var n,r,o=a(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:A,addValidElements:t,setValidElements:n,addCustomElements:r,addValidChildren:i}},Gi=function(e,t,n,r){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+o(t)+o(n)+o(r)},Ji={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Qi=function(e){return e instanceof Event||k(e.initEvent)},Zi=function(e){return e.isDefaultPrevented===se||e.isDefaultPrevented===l},ea=function(e){return ae(e.preventDefault)||Qi(e)},ta=function(e,t){var n,r=null!=t?t:{};for(n in e)ee(Ji,n)||(r[n]=e[n]);return Z(r.composedPath)&&(r.composedPath=function(){return e.composedPath()}),r},na=/^(?:mouse|contextmenu)|click/,ra=(oa.prototype.bind=function(e,t,n,r){function o(e){f.executeHandlers(To(e||d.event),i)}var i,a,u,s,c,l,f=this,d=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?i=e[f.expando]:(i=f.count++,e[f.expando]=i,f.events[i]={}),r=r||e;for(var m=t.split(" "),g=m.length;g--;)c=o,s=l=!1,"DOMContentLoaded"===(u=m[g])&&(u="ready"),f.domLoaded&&"ready"===u&&"complete"===e.readyState?n.call(r,To({type:u})):(f.hasMouseEnterLeave||(s=f.mouseEnterLeave[u])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=To(e||d.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,i))}),f.hasFocusIn||"focusin"!==u&&"focusout"!==u||(l=!0,s="focusin"===u?"focus":"blur",c=function(e){(e=To(e||d.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,i)}),(a=f.events[i][u])?"ready"===u&&f.domLoaded?n(To({type:u})):a.push({func:n,scope:r}):(f.events[i][u]=a=[{func:n,scope:r}],a.fakeName=s,a.capture=l,a.nativeHandler=c,"ready"===u?Oo(e,c,f):Ro(e,s||u,c,l)));return e=a=null,n}},oa.prototype.unbind=function(n,e,t){var r,o,i;if(n&&3!==n.nodeType&&8!==n.nodeType){var a=n[this.expando];if(a){if(i=this.events[a],e){for(var u,s,c,l,f=e.split(" "),d=f.length;d--;)if(l=i[o=f[d]]){if(t)for(r=l.length;r--;)l[r].func===t&&(u=l.nativeHandler,s=l.fakeName,c=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=s,l.capture=c,i[o]=l);t&&0!==l.length||(delete i[o],Do(n,l.fakeName||o,l.nativeHandler,l.capture))}}else Y(i,function(e,t){Do(n,e.fakeName||t,e.nativeHandler,e.capture)}),i={};for(o in i)if(ee(i,o))return this;delete this.events[a];try{delete n[this.expando]}catch(e){n[this.expando]=null}}}return this},oa.prototype.fire=function(e,t,n){var r;if(e&&3!==e.nodeType&&8!==e.nodeType)for(var o=To({type:t,target:e},n);(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},oa.prototype.clean=function(e){var t,n;if(e&&3!==e.nodeType&&8!==e.nodeType&&(e[this.expando]&&this.unbind(e),e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},oa.prototype.destroy=function(){this.events={}},oa.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},oa.prototype.executeHandlers=function(e,t){var t=this.events[t],n=t&&t[e.type];if(n)for(var r=0,o=n.length;r<o;r++){var i=n[r];if(i&&!1===i.func.call(i.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},oa.Event=new oa,oa);function oa(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function ia(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var aa,C,ua,sa,ca,la,fa,da,ma,ga,pa,ha,va,ba,ya,Ca,wa,xa="sizzle"+-new Date,Sa=window.document,Na=0,Ea=0,ka=Ja(),_a=Ja(),Aa=Ja(),Ra=function(e,t){return e===t&&(ga=!0),0},Da="undefined",Ta={}.hasOwnProperty,t=[],Oa=t.pop,Ba=t.push,Pa=t.push,La=t.slice,Ia=t.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},o="[\\x20\\t\\r\\n\\f]",n="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",r="\\["+o+"*("+n+")(?:"+o+"*([*^$|!~]?=)"+o+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+n+"))|)"+o+"*\\]",e=":("+n+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+r+")*)|.*)\\)|)",Ma=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g"),Fa=new RegExp("^"+o+"*,"+o+"*"),Ua=new RegExp("^"+o+"*([>+~]|"+o+")"+o+"*"),za=new RegExp("="+o+"*([^\\]'\"]*?)"+o+"*\\]","g"),Ha=new RegExp(e),ja=new RegExp("^"+n+"$"),Va={ID:new RegExp("^#("+n+")"),CLASS:new RegExp("^\\.("+n+")"),TAG:new RegExp("^("+n+"|[*])"),ATTR:new RegExp("^"+r),PSEUDO:new RegExp("^"+e),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+o+"*(even|odd|(([+-]|)(\\d*)n|)"+o+"*(?:([+-]|)"+o+"*(\\d+)|))"+o+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+o+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+o+"*((?:-\\d)?\\d*)"+o+"*\\)|)(?=[^-]|$)","i")},qa=/^(?:input|select|textarea|button)$/i,$a=/^h\d$/i,Wa=/^[^{]+\{\s*\[native \w/,Ka=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Xa=/[+~]/,Ya=/'|\\/g,Ga=new RegExp("\\\\([\\da-f]{1,6}"+o+"?|("+o+")|.)","ig");try{Pa.apply(t=La.call(Sa.childNodes),Sa.childNodes),t[Sa.childNodes.length].nodeType}catch(e){Pa={apply:t.length?function(e,t){Ba.apply(e,La.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function te(e,t,n,r){var o,i,a,u,s,c,l;if((t?t.ownerDocument||t:Sa)!==ha&&pa(t),n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=(t=t||ha).nodeType)&&9!==o)return[];if(ba&&!r){if(c=Ka.exec(e))if(l=c[1]){if(9===o){if(!(u=t.getElementById(l))||!u.parentNode)return n;if(u.id===l)return n.push(u),n}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(l))&&wa(t,u)&&u.id===l)return n.push(u),n}else{if(c[2])return Pa.apply(n,t.getElementsByTagName(e)),n;if((l=c[3])&&aa.getElementsByClassName)return Pa.apply(n,t.getElementsByClassName(l)),n}if(aa.qsa&&(!ya||!ya.test(e))){if(s=u=xa,c=t,l=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(a=ca(e),(u=t.getAttribute("id"))?s=u.replace(Ya,"\\$&"):t.setAttribute("id",s),s="[id='"+s+"'] ",i=a.length;i--;)a[i]=s+ru(a[i]);c=Xa.test(e)&&tu(t.parentNode)||t,l=a.join(",")}if(l)try{return Pa.apply(n,c.querySelectorAll(l)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return fa(e.replace(Ma,"$1"),t,n,r)}function Ja(){var n=[];function r(e,t){return n.push(e+" ")>C.cacheLength&&delete r[n.shift()],r[e+" "]=t}return r}function Qa(e){return e[xa]=!0,e}function Za(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function eu(a){return Qa(function(i){return i=+i,Qa(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function tu(e){return e&&typeof e.getElementsByTagName!==Da&&e}function nu(){}function ru(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ou(a,e,t){var u=e.dir,s=t&&"parentNode"===u,c=Ea++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||s)return a(e,t,n)}:function(e,t,n){var r,o,i=[Na,c];if(n){for(;e=e[u];)if((1===e.nodeType||s)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||s){if((r=(o=e[xa]||(e[xa]={}))[u])&&r[0]===Na&&r[1]===c)return i[2]=r[2];if((o[u]=i)[2]=a(e,t,n))return!0}}}function iu(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function au(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)!(i=e[u])||n&&!n(i,r,o)||(a.push(i),c&&t.push(u));return a}function uu(m,g,p,h,v,e){return h&&!h[xa]&&(h=uu(h)),v&&!v[xa]&&(v=uu(v,e)),Qa(function(e,t,n,r){var o,i,a,u=[],s=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)te(e,t[r],n);return n}(g||"*",n.nodeType?[n]:n,[]),f=!m||!e&&g?l:au(l,u,m,n,r),d=p?v||(e?m:c||h)?[]:t:f;if(p&&p(f,d,n,r),h)for(o=au(d,s),h(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[s[i]]=!(f[s[i]]=a));if(e){if(v||m){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?Ia.call(e,a):u[i])&&(e[o]=!(t[o]=a))}}else d=au(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):Pa.apply(t,d)})}function su(h,v){function e(e,t,n,r,o){var i,a,u,s=0,c="0",l=e&&[],f=[],d=da,m=e||y&&C.find.TAG("*",o),g=Na+=null==d?1:Math.random()||.1,p=m.length;for(o&&(da=t!==ha&&t);c!==p&&null!=(i=m[c]);c++){if(y&&i){for(a=0;u=h[a++];)if(u(i,t,n)){r.push(i);break}o&&(Na=g)}b&&((i=!u&&i)&&s--,e)&&l.push(i)}if(s+=c,b&&c!==s){for(a=0;u=v[a++];)u(l,f,t,n);if(e){if(0<s)for(;c--;)l[c]||f[c]||(f[c]=Oa.call(r));f=au(f)}Pa.apply(r,f),o&&!e&&0<f.length&&1<s+v.length&&te.uniqueSort(r)}return o&&(Na=g,da=d),l}var b=0<v.length,y=0<h.length;return b?Qa(e):e}aa=te.support={},sa=te.isXML=function(e){e=e&&(e.ownerDocument||e).documentElement;return!!e&&"HTML"!==e.nodeName},pa=te.setDocument=function(e){var s=e?e.ownerDocument||e:Sa,e=s.defaultView;return s!==ha&&9===s.nodeType&&s.documentElement?(va=(ha=s).documentElement,ba=!sa(s),e&&e!==function(e){try{return e.top}catch(e){}return null}(e)&&(e.addEventListener?e.addEventListener("unload",function(){pa()},!1):e.attachEvent&&e.attachEvent("onunload",function(){pa()})),aa.attributes=!0,aa.getElementsByTagName=!0,aa.getElementsByClassName=Wa.test(s.getElementsByClassName),aa.getById=!0,C.find.ID=function(e,t){if(typeof t.getElementById!==Da&&ba)return(t=t.getElementById(e))&&t.parentNode?[t]:[]},C.filter.ID=function(e){var t=e.replace(Ga,ia);return function(e){return e.getAttribute("id")===t}},C.find.TAG=aa.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==Da)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},C.find.CLASS=aa.getElementsByClassName&&function(e,t){if(ba)return t.getElementsByClassName(e)},Ca=[],ya=[],aa.disconnectedMatch=!0,ya=ya.length&&new RegExp(ya.join("|")),Ca=Ca.length&&new RegExp(Ca.join("|")),e=Wa.test(va.compareDocumentPosition),wa=e||Wa.test(va.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Ra=e?function(e,t){var n;return e===t?(ga=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!aa.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===Sa&&wa(Sa,e)?-1:t===s||t.ownerDocument===Sa&&wa(Sa,t)?1:ma?Ia.call(ma,e)-Ia.call(ma,t):0:4&n?-1:1)}:function(e,t){if(e===t)return ga=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===s?-1:t===s?1:o?-1:i?1:ma?Ia.call(ma,e)-Ia.call(ma,t):0;if(o===i)return Za(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?Za(a[r],u[r]):a[r]===Sa?-1:u[r]===Sa?1:0},s):ha},te.matches=function(e,t){return te(e,null,null,t)},te.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ha&&pa(e),t=t.replace(za,"='$1']"),aa.matchesSelector&&ba&&(!Ca||!Ca.test(t))&&(!ya||!ya.test(t)))try{var n=(void 0).call(e,t);if(n||aa.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<te(t,ha,null,[e]).length},te.contains=function(e,t){return(e.ownerDocument||e)!==ha&&pa(e),wa(e,t)},te.attr=function(e,t){(e.ownerDocument||e)!==ha&&pa(e);var n=C.attrHandle[t.toLowerCase()],n=n&&Ta.call(C.attrHandle,t.toLowerCase())?n(e,t,!ba):void 0;return void 0!==n?n:aa.attributes||!ba?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},te.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},te.uniqueSort=function(e){var t,n=[],r=0,o=0;if(ga=!aa.detectDuplicates,ma=!aa.sortStable&&e.slice(0),e.sort(Ra),ga){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return ma=null,e},ua=te.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ua(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=ua(t);return n},(C=te.selectors={cacheLength:50,createPseudo:Qa,match:Va,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ga,ia),e[3]=(e[3]||e[4]||e[5]||"").replace(Ga,ia),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||te.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&te.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Va.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Ha.test(n)&&(t=(t=ca(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ga,ia).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=ka[e+" "];return t||(t=new RegExp("(^|"+o+")"+e+"("+o+"|$)"))&&ka(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==Da&&e.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(e){e=te.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===r:"!="===n?e!==r:"^="===n?r&&0===e.indexOf(r):"*="===n?r&&-1<e.indexOf(r):"$="===n?r&&e.slice(-r.length)===r:"~="===n?-1<(" "+e+" ").indexOf(r):"|="===n&&(e===r||e.slice(0,r.length+1)===r+"-"))}},CHILD:function(m,e,t,g,p){var h="nth"!==m.slice(0,3),v="last"!==m.slice(-4),b="of-type"===e;return 1===g&&0===p?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,u,s,c=h!=v?"nextSibling":"previousSibling",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(h){for(;c;){for(i=e;i=i[c];)if(b?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;s=c="only"===m&&!s&&"nextSibling"}return!0}if(s=[v?l.firstChild:l.lastChild],v&&d){for(u=(r=(o=l[xa]||(l[xa]={}))[m]||[])[0]===Na&&r[1],a=r[0]===Na&&r[2],i=u&&l.childNodes[u];i=++u&&i&&i[c]||(a=u=0,s.pop());)if(1===i.nodeType&&++a&&i===e){o[m]=[Na,u,a];break}}else if(d&&(r=(e[xa]||(e[xa]={}))[m])&&r[0]===Na)a=r[1];else for(;(i=++u&&i&&i[c]||(a=u=0,s.pop()))&&((b?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[xa]||(i[xa]={}))[m]=[Na,a]),i!==e)););return(a-=p)===g||a%g==0&&0<=a/g}}},PSEUDO:function(e,i){var t,a=C.pseudos[e]||C.setFilters[e.toLowerCase()]||te.error("unsupported pseudo: "+e);return a[xa]?a(i):1<a.length?(t=[e,e,"",i],C.setFilters.hasOwnProperty(e.toLowerCase())?Qa(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=Ia.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:Qa(function(e){var r=[],o=[],u=la(e.replace(Ma,"$1"));return u[xa]?Qa(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),r[0]=null,!o.pop()}}),has:Qa(function(t){return function(e){return 0<te(t,e).length}}),contains:Qa(function(t){return t=t.replace(Ga,ia),function(e){return-1<(e.textContent||e.innerText||ua(e)).indexOf(t)}}),lang:Qa(function(n){return ja.test(n||"")||te.error("unsupported lang: "+n),n=n.replace(Ga,ia).toLowerCase(),function(e){var t;do{if(t=ba?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===va},focus:function(e){return e===ha.activeElement&&(!ha.hasFocus||ha.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return $a.test(e.nodeName)},input:function(e){return qa.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:eu(function(){return[0]}),last:eu(function(e,t){return[t-1]}),eq:eu(function(e,t,n){return[n<0?n+t:n]}),even:eu(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:eu(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:eu(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:eu(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=C.pseudos.eq,X(["radio","checkbox","file","password","image"],function(e){var t;C.pseudos[e]=(t=e,function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t})}),X(["submit","reset"],function(e){var n;C.pseudos[e]=(n=e,function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n})}),nu.prototype=C.filters=C.pseudos,C.setFilters=new nu,ca=te.tokenize=function(e,t){var n,r,o,i,a,u,s,c=_a[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],s=C.preFilter;a;){for(i in n&&!(r=Fa.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Ua.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Ma," ")}),a=a.slice(n.length)),C.filter)!C.filter.hasOwnProperty(i)||!(r=Va[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?te.error(e):_a(e,u).slice(0)},la=te.compile=function(e,t){var n,r=[],o=[],i=Aa[e+" "];if(!i){for(n=(t=t||ca(e)).length;n--;)((i=function e(t){for(var r,n,o,i=t.length,a=C.relative[t[0].type],u=a||C.relative[" "],s=a?1:0,c=ou(function(e){return e===r},u,!0),l=ou(function(e){return-1<Ia.call(r,e)},u,!0),f=[function(e,t,n){return e=!a&&(n||t!==da)||((r=t).nodeType?c:l)(e,t,n),r=null,e}];s<i;s++)if(n=C.relative[t[s].type])f=[ou(iu(f),n)];else{if((n=C.filter[t[s].type].apply(null,t[s].matches))[xa]){for(o=++s;o<i&&!C.relative[t[o].type];o++);return uu(1<s&&iu(f),1<s&&ru(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(Ma,"$1"),n,s<o&&e(t.slice(s,o)),o<i&&e(t=t.slice(o)),o<i&&ru(t))}f.push(n)}return iu(f)}(t[n]))[xa]?r:o).push(i);(i=Aa(e,su(o,r))).selector=e}return i},fa=te.select=function(e,t,n,r){var o,i,a,u,s,c="function"==typeof e&&e,l=!r&&ca(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&"ID"===(a=i[0]).type&&aa.getById&&9===t.nodeType&&ba&&C.relative[i[1].type]){if(!(t=(C.find.ID(a.matches[0].replace(Ga,ia),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Va.needsContext.test(e)?0:i.length;o--&&(a=i[o],!C.relative[u=a.type]);)if((s=C.find[u])&&(r=s(a.matches[0].replace(Ga,ia),Xa.test(i[0].type)&&tu(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&ru(i))break;return Pa.apply(n,r),n}}return(c||la(e,l))(r,t,!ba,n,Xa.test(e)&&tu(t.parentNode)||t),n},aa.sortStable=xa.split("").sort(Ra).join("")===xa,aa.detectDuplicates=!!ga,pa(),aa.sortDetached=!0;function cu(e){return void 0!==e}function lu(e){return"string"==typeof e}function fu(e,t){var n,r=(t=t||Eu).createElement("div"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o}function du(e,t,n,r){var o;if(lu(t))t=fu(t,yu(e[0]));else if(t.length&&!t.nodeType){if(t=oe.makeArray(t),r)for(o=t.length-1;0<=o;o--)du(e,t[o],n,r);else for(o=0;o<t.length;o++)du(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e}function mu(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")}function gu(e,t,n){var r,o;return t=oe(t)[0],e.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e}function pu(e,t){return new oe.fn.init(e,t)}function hu(e){return null==e?"":(""+e).replace(Mu,"")}function vu(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e}function bu(e,n){var r=[];return vu(e,function(e,t){n(t,e)&&r.push(t)}),r}function yu(e){return e?9===e.nodeType?e:e.ownerDocument:Eu}function Cu(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof oe&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&oe(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r}function wu(e,t,n,r){var o=[];for(r instanceof oe&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&oe(e).is(r))break}o.push(e)}return o}function xu(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function Su(e,t){var n=t.attr("style"),e=(e=e.serialize(e.parse(n),t[0].nodeName))||null;t.attr("data-mce-style",e)}function Nu(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o}var Eu=document,ku=Array.prototype.push,_u=Array.prototype.slice,Au=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ru=ra.Event,Du=re.makeMap("children,contents,next,prev"),Tu=re.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Ou=re.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Bu={for:"htmlFor",class:"className",readonly:"readOnly"},Pu={float:"cssFloat"},Lu={},Iu={},Mu=/^\s*|\s*$/g,oe=(pu.fn=pu.prototype={constructor:pu,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(e)if(e.nodeType)o.context=o[0]=e,o.length=1;else{if(t&&t.nodeType)o.context=t;else{if(t)return oe(e).attr(t);o.context=t=document}if(lu(e)){if(!(n="<"===(o.selector=e).charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Au.exec(e)))return oe(t).find(e);if(n[1])for(r=fu(e,yu(t)).firstChild;r;)ku.call(o,r),r=r.nextSibling;else{if(!(r=yu(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1)}return o},toArray:function(){return re.toArray(this)},add:function(e,t){var n,r;if(lu(e))return this.add(oe(e));if(!1!==t)for(n=oe.unique(this.toArray().concat(oe.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else ku.apply(this,oe.makeArray(e));return this},attr:function(t,n){var e,r=this;if("object"==typeof t)vu(t,function(e,t){r.attr(e,t)});else{if(!cu(n)){if(r[0]&&1===r[0].nodeType){if((e=Lu[t])&&e.get)return e.get(r[0],t);if(Ou[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;1===this.nodeType&&((e=Lu[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=Bu[e]||e))vu(e,function(e,t){n.prop(e,t)});else{if(!cu(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})}var o,i,a=this;if("object"==typeof t)vu(t,function(e,t){a.css(e,t)});else if(cu(n))t=e(t),"number"!=typeof n||Tu[t]||(n=n.toString()+"px"),a.each(function(){var e=this.style;if((i=Iu[t])&&i.set)i.set(this,n);else{try{this.style[Pu[t]||t]=n}catch(e){}null!==n&&""!==n||(e.removeProperty?e.removeProperty(r(t)):e.removeAttribute(t))}});else{if(o=a[0],(i=Iu[t])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[e(t)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(t))}catch(e){return}}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ru.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n;if(cu(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){oe(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(cu(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return du(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return du(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?du(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?du(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return oe(e).append(this),this},prependTo:function(e){return oe(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return gu(this,e)},wrapAll:function(e){return gu(this,e,!0)},wrapInner:function(e){return this.each(function(){oe(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){oe(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),oe(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return"string"==typeof o&&(-1!==o.indexOf(" ")?vu(o.split(" "),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r=mu(t,o);r!==i&&(n=t.className,r?t.className=hu((" "+n+" ").replace(" "+o+" "," ")):t.className+=n?" "+o:o)})),e},hasClass:function(e){return mu(this[0],e)},each:function(e){return vu(this,e)},on:function(e,t){return this.each(function(){Ru.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ru.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ru.fire(this,e.type,e):Ru.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return oe(_u.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)oe.find(e,this[n],t);return oe(t)},filter:function(n){return oe("function"==typeof n?bu(this.toArray(),function(e,t){return n(t,e)}):oe.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof oe&&(n=n[0]),this.each(function(e,t){for(;t;){if("string"==typeof n&&oe(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),oe(r)},offset:function(e){var t,n,r=0,o=0;return e?this.css(e):((e=this[0])&&(n=(t=e.ownerDocument).documentElement,e.getBoundingClientRect)&&(r=(e=e.getBoundingClientRect()).left+(n.scrollLeft||t.body.scrollLeft)-n.clientLeft,o=e.top+(n.scrollTop||t.body.scrollTop)-n.clientTop),{left:r,top:o})},push:ku,sort:Array.prototype.sort,splice:Array.prototype.splice},re.extend(pu,{extend:re.extend,makeArray:function(e){var t;return(t=e)&&t===t.window||e.nodeType?[e]:re.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:re.isArray,each:vu,trim:hu,grep:bu,find:te,expr:te.selectors,unique:te.uniqueSort,text:te.getText,contains:te.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?oe.find.matchesSelector(t[0],e)?[t[0]]:[]:oe.find.matches(e,t)}}),vu({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return Cu(e,"parentNode")},next:function(e){return xu(e,"nextSibling",1)},prev:function(e){return xu(e,"previousSibling",1)},children:function(e){return wu(e.firstChild,"nextSibling",1)},contents:function(e){return re.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(r,o){pu.fn[r]=function(t){var n=[],e=(this.each(function(){var e=o.call(n,this,t,n);e&&(oe.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Du[r]||(n=oe.unique(n)),0===r.indexOf("parents"))&&(n=n.reverse()),oe(n));return t?e.filter(t):e}}),vu({parentsUntil:function(e,t){return Cu(e,"parentNode",t)},nextUntil:function(e,t){return wu(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return wu(e,"previousSibling",1,t).slice(1)}},function(o,i){pu.fn[o]=function(t,e){var n=[],r=(this.each(function(){var e=i.call(n,this,t,n);e&&(oe.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=oe.unique(n),0!==o.indexOf("parents")&&"prevUntil"!==o||(n=n.reverse())),oe(n));return e?r.filter(e):r}}),pu.fn.is=function(e){return!!e&&0<this.filter(e).length},pu.fn.init.prototype=pu.fn,pu.overrideDefaults=function(n){function r(e,t){return o=o||n(),0===arguments.length&&(e=o.element),t=t||o.context,new r.fn.init(e,t)}var o;return oe.extend(r,this),r},pu.attrHooks=Lu,pu.cssHooks=Iu,pu),Fu=re.each,Uu=re.grep,zu=G.ie,Hu=/^([a-z0-9],?)+$/i,ie=function(c,a){void 0===a&&(a={});function r(e){return(e=R(e))?e.attributes:[]}function n(e,t){var n,r=c.body,e=R(e),o=t,i=0,a=0,t=r.ownerDocument;if(o=o||r,e){if(o===r&&e.getBoundingClientRect&&"static"===Tr(J.fromDom(r),"position"))return{x:i=(n=e.getBoundingClientRect()).left+(t.documentElement.scrollLeft||r.scrollLeft)-t.documentElement.clientLeft,y:a=n.top+(t.documentElement.scrollTop||r.scrollTop)-t.documentElement.clientTop};for(var u=e;u&&u!==o&&u.nodeType&&!Mr(u,o);){var s=u;i+=s.offsetLeft||0,a+=s.offsetTop||0,u=s.offsetParent}for(u=e.parentNode;u&&u!==o&&u.nodeType&&!Mr(u,o);)i-=u.scrollLeft||0,a-=u.scrollTop||0,u=u.parentNode;a+=Ir(J.fromDom(e))}return{x:i,y:a}}function o(e){var t,n;return e=R(e),t=P(e,"width"),n=P(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}}function i(e,t,n,r){var o,i=[],a=R(e);for(r=void 0===r,n=n||("BODY"!==B().nodeName?B().parentNode:null),re.is(t,"string")&&(t="*"===(o=t)?function(e){return 1===e.nodeType}:function(e){return L(e,o)});a&&!(a===n||ae(a.nodeType)||br(a)||yr(a));){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null}function u(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return L(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null}function s(e,n,r){var o;return!!(e="string"==typeof e?R(e):e)&&(re.isArray(e)&&(e.length||0===e.length)?(o=[],Fu(e,function(e,t){e&&o.push(n.call(r,"string"==typeof e?R(e):e,t))}),o):n.call(r||this,e))}function l(e,t){D(e).each(function(e,n){Fu(t,function(e,t){O(n,t,e)})})}function f(e,n){e=D(e),zu?e.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML="<br>"+n,t.removeChild(t.firstChild)}catch(e){oe("<div></div>").html("<br>"+n).contents().slice(1).appendTo(t)}return n}}):e.html(n)}function d(e,n,r,o,i){return s(e,function(e){var t="string"==typeof n?c.createElement(n):n;return l(t,r),o&&("string"!=typeof o&&o.nodeType?t.appendChild(o):"string"==typeof o&&f(t,o)),i?t:e.appendChild(t)})}function m(e,t,n){return d(c.createElement(e),e,t,n,!0)}function g(e,t){return e=D(e),(t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):e).remove(),1<e.length?e.toArray():e[0]}function p(e,t,n){D(e).toggleClass(t,n).each(function(){""===this.className&&oe(this).attr("class",null)})}function h(t,e,n){return s(e,function(e){return re.is(e,"array")&&(t=t.cloneNode(!0)),n&&Fu(Uu(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})}function v(e){if(Q(e)){var t="a"===e.nodeName.toLowerCase()&&!T(e,"href")&&T(e,"id");if(T(e,"name")||T(e,"data-mce-bookmark")||t)return 1}}function b(){return c.createRange()}function M(e,t,n,r){if(re.isArray(e)){for(var o=e.length,i=[];o--;)i[o]=M(e[o],t,n,r);return i}return!a.collect||e!==c&&e!==x||E.push([e,t,n,r]),A.bind(e,t,n,r||I)}function F(e,t,n){if(re.isArray(e)){for(var r=e.length,o=[];r--;)o[r]=F(e[r],t,n);return o}if(0<E.length&&(e===c||e===x))for(r=E.length;r--;){var i=E[r];e!==i[0]||t&&t!==i[1]||n&&n!==i[2]||A.unbind(i[0],i[1],i[2])}return A.unbind(e,t,n)}function U(e){var t;return e&&Q(e)?(t=e.getAttribute("data-mce-contenteditable"))&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null:null}var y,C,z,w,e,H={},x=window,S={},t=0,N=lo.forElement(J.fromDom(c),{contentCssCors:a.contentCssCors,referrerPolicy:a.referrerPolicy}),E=[],k=a.schema||Yi({}),_=_o({url_converter:a.url_converter,url_converter_scope:a.url_converter_scope},a.schema),A=a.ownEvents?new ra:ra.Event,j=k.getBlockElements(),V=oe.overrideDefaults(function(){return{context:c,element:I.getRoot()}}),R=function(e){return e&&c&&W(e)?c.getElementById(e):e},D=function(e){return V("string"==typeof e?R(e):e)},T=function(e,t,n){var r,o,e=D(e);return o=void 0===(o=e.length?(r=$[t])&&r.get?r.get(e,t):e.attr(t):o)?n||"":o},O=function(e,t,n){""===n&&(n=null);var r,e=D(e),o=e.attr(t);e.length&&((r=$[t])&&r.set?r.set(e,n,t):e.attr(t,n),o!==n)&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n})},B=function(){return a.root_element||c.body},P=function(e,t,n){e=D(e);return n?e.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=G.browser.isIE()?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},L=function(e,t){if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Hu.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}e=Array.isArray(e)?e:[e];return 0<te(t,e[0].ownerDocument||e[0],null,e).length},q=Mi.encodeAllRaw,I={doc:c,settings:a,win:x,files:S,stdMode:!0,boxModel:!0,styleSheetLoader:N,boundEvents:E,styles:_,schema:k,events:A,isBlock:function(e){if("string"==typeof e)return!!j[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!j[e.nodeName])}return!1},$:V,$$:D,root:null,clone:function(t,e){var n;return!zu||1!==t.nodeType||e?t.cloneNode(e):(n=c.createElement(t.nodeName),Fu(r(t),function(e){O(n,e.nodeName,T(t,e.nodeName))}),n)},getRoot:B,getViewPort:function(e){e=It(e);return{x:e.x,y:e.y,w:e.width,h:e.height}},getRect:function(e){e=R(e);var t=n(e),e=o(e);return{x:t.x,y:t.y,w:e.w,h:e.h}},getSize:o,getParent:function(e,t,n){e=i(e,t,n,!1);return e&&0<e.length?e[0]:null},getParents:i,get:R,getNext:function(e,t){return u(e,t,"nextSibling")},getPrev:function(e,t){return u(e,t,"previousSibling")},select:function(e,t){return te(e,R(t)||a.root_element||c,[])},is:L,add:d,create:m,createHTML:function(e,t,n){var r,o="";for(r in o+="<"+e,t)we(t,r)&&(o+=" "+r+'="'+q(t[r])+'"');return void 0!==n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n=c.createElement("div"),r=c.createDocumentFragment();for(r.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r.removeChild(n),r},remove:g,setStyle:function(e,t,n){n=W(t)?D(e).css(t,n):D(e).css(t);a.update_styles&&Su(_,n)},getStyle:P,setStyles:function(e,t){e=D(e).css(t);a.update_styles&&Su(_,e)},removeAllAttribs:function(e){return s(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:O,setAttribs:l,getAttrib:T,getPos:n,parseStyle:function(e){return _.parse(e)},serializeStyle:function(e,t){return _.serialize(e,t)},addStyle:function(e){var t,n;if(I!==ie.DOM&&c===document){if(H[e])return;H[e]=!0}(n=c.getElementById("mceDefaultStyles"))||((n=c.createElement("style")).id="mceDefaultStyles",n.type="text/css",(t=c.getElementsByTagName("head")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(c.createTextNode(e))},loadCSS:function(e){X((e=e||"").split(","),function(e){S[e]=!0,N.load(e,ne)})},addClass:function(e,t){D(e).addClass(t)},removeClass:function(e,t){p(e,t,!1)},hasClass:function(e,t){return D(e).hasClass(t)},toggleClass:p,show:function(e){D(e).show()},hide:function(e){D(e).hide()},isHidden:function(e){return"none"===D(e).css("display")},uniqueId:function(e){return(e||"mce_")+t++},setHTML:f,getOuterHTML:function(e){e="string"==typeof e?R(e):e;return Q(e)?e.outerHTML:oe("<div></div>").append(oe(e).clone()).html()},setOuterHTML:function(e,t){D(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}g(oe(this).html(t),!0)})},decode:Mi.decode,encode:q,insertAfter:function(e,t){var r=R(t);return s(e,function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:h,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=m(e),Fu(r(t),function(e){O(n,e.nodeName,T(t,e.nodeName))}),h(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return _.toHex(re.trim(e))},run:s,getAttribs:r,isEmpty:function(e,t){var n,r=0;if(v(e))return!1;if(e=e.firstChild){var o=new fo(e,e.parentNode),i=k?k.getWhiteSpaceElements():{};t=t||(k?k.getNonEmptyElements():null);do{if(n=e.nodeType,Q(e)){var a=e.getAttribute("data-mce-bogus");if(a){e=o.next("all"===a);continue}if(a=e.nodeName.toLowerCase(),t&&t[a]){if("br"!==a)return!1;r++,e=o.next();continue}if(v(e))return!1}if(8===n)return!1;if(3===n&&!vi(e.nodeValue))return!1;if(3===n&&e.parentNode&&i[e.parentNode.nodeName]&&vi(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:b,nodeIndex:Nu,split:function(e,t,n){var r,o,i=b();if(e&&t)return i.setStart(e.parentNode,Nu(e)),i.setEnd(t.parentNode,Nu(t)),r=i.extractContents(),(i=b()).setStart(t.parentNode,Nu(t)+1),i.setEnd(e.parentNode,Nu(e)+1),i=i.extractContents(),(o=e.parentNode).insertBefore(_i(I,r),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(_i(I,i),e),g(e),n||t},bind:M,unbind:F,fire:function(e,t,n){return A.fire(e,t,n)},getContentEditable:U,getContentEditableParent:function(e){for(var t=B(),n=null;e&&e!==t&&null===(n=U(e));e=e.parentNode);return n},destroy:function(){if(0<E.length)for(var e=E.length;e--;){var t=E[e];A.unbind(t[0],t[1],t[2])}Y(S,function(e,t){N.unload(t),delete S[t]}),te.setDocument&&te.setDocument()},isChildOf:function(e,t){if(zu){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},$=(y=_,C=a,z=K(I),w=C.keep_values,e={style:{set:function(e,t){null!==t&&"object"==typeof t?e.css(t):(w&&e.attr("data-mce-style",t),null!==t&&"string"==typeof t?(e.removeAttr("style"),e.css(y.parse(t))):e.attr("style",t))},get:function(e){var t=e.attr("data-mce-style")||e.attr("style");return y.serialize(y.parse(t),e[0].nodeName)}}},w&&(e.href=e.src={set:function(e,t,n){C.url_converter&&null!==t&&(t=C.url_converter.call(C.url_converter_scope||z(),t,n,e[0])),e.attr("data-mce-"+n,t).attr(n,t)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}}),e);return I},ju=(ie.DOM=ie(document),ie.nodeIndex=Nu,ie.DOM),Vu=re.each,qu=re.grep,$u=(Wu.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},Wu.prototype.loadScript=function(e,t,n){var r=ju,o=function(){r.remove(i),a&&(a.onerror=a.onload=a=null)},i=r.uniqueId(),a=document.createElement("script");a.id=i,a.type="text/javascript",a.src=re._addCacheSuffix(e),this.settings.referrerPolicy&&r.setAttrib(a,"referrerpolicy",this.settings.referrerPolicy),a.onload=function(){o(),t()},a.onerror=function(){o(),k(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)},(document.getElementsByTagName("head")[0]||document.body).appendChild(a)},Wu.prototype.isDone=function(e){return 2===this.states[e]},Wu.prototype.markDone=function(e){this.states[e]=2},Wu.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},Wu.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},Wu.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},Wu.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},Wu.prototype.loadScripts=function(t,e,n,r){var o=this,i=[],a=function(t,e){Vu(o.scriptLoadedCallbacks[e],function(e){k(e[t])&&e[t].call(e.scope)}),o.scriptLoadedCallbacks[e]=void 0},u=(o.queueLoadedCallbacks.push({success:e,failure:r,scope:n||this}),function(){var e=qu(t);t.length=0,Vu(e,function(e){2===o.states[e]?a("success",e):3===o.states[e]?a("failure",e):1!==o.states[e]&&(o.states[e]=1,o.loading++,o.loadScript(e,function(){o.states[e]=2,o.loading--,a("success",e),u()},function(){o.states[e]=3,o.loading--,i.push(e),a("failure",e),u()}))}),o.loading||(e=o.queueLoadedCallbacks.slice(0),o.queueLoadedCallbacks.length=0,Vu(e,function(e){0===i.length?k(e.success)&&e.success.call(e.scope):k(e.failure)&&e.failure.call(e.scope,i)}))});u()},Wu.ScriptLoader=new Wu,Wu);function Wu(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function Ku(){return Ge(dl,ml.get())}function Xu(){function s(t,n){var e=b(o,function(e){return e.name===t&&e.state===n});X(e,function(e){return e.callback()})}function e(e,t,n){void 0===n&&(n="added"),ee(l,e)&&"added"===n||ee(c,e)&&"loaded"===n?t():o.push({name:e,state:n,callback:t})}var r=[],c={},l={},o=[],f=function(e){var t;return(t=l[e]?l[e].dependencies:t)||[]},d=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},m=function(o,i,a,u,e){var t,n;c[o]||(0!==(t="string"==typeof i?i:i.prefix+i.resource+i.suffix).indexOf("/")&&-1===t.indexOf("://")&&(t=Xu.baseURL+"/"+t),c[o]=t.substring(0,t.lastIndexOf("/")),n=function(){s(o,"loaded");var e=o,t=i,n=a,r=u;e=f(o),X(e,function(e){e=d(t,e);m(e.resource,e,void 0,void 0)}),n&&(r?n.call(r):n.call($u))},l[o]?n():$u.ScriptLoader.add(t,n,u,e))};return{items:r,urls:c,lookup:l,_listeners:o,get:function(e){if(l[e])return l[e].instance},dependencies:f,requireLangPack:function(t,n){!1!==Xu.languageLoad&&e(t,function(){var e=gl.getCode();!e||n&&-1===(","+(n||"")+",").indexOf(","+e+",")||$u.ScriptLoader.add(c[t]+"/langs/"+e+".js")},"loaded")},add:function(e,t,n){return r.push(t),l[e]={instance:t,dependencies:n},s(e,"added"),t},remove:function(e){delete c[e],delete l[e]},createUrl:d,addComponents:function(e,t){var n=c[e];X(t,function(e){$u.ScriptLoader.add(n+"/"+e)})},load:m,waitFor:e}}function Yu(n,r){var o=null;return{cancel:function(){L(o)||(clearTimeout(o),o=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];L(o)&&(o=setTimeout(function(){o=null,n.apply(null,e)},r))}}}function Gu(e,t){return void 0===(e=Ar(e,t))||""===e?[]:e.split(" ")}function Ju(e){return void 0!==e.dom.classList}function Qu(e,t){var n="class";t=Gu(e,n).concat([t]),kr(e,n,t.join(" "))}function Zu(e,t){var n,r;n=t,0<(r=b(Gu(t=e,e="class"),function(e){return e!==n})).length?kr(t,e,r.join(" ")):Kt(t,e)}function es(e,t){Ju(e)?e.dom.classList.add(t):Qu(e,t)}function ts(e){0===(Ju(e)?e.dom.classList:Gu(e,"class")).length&&Kt(e,"class")}function ns(e,t){return Ju(e)&&e.dom.classList.contains(t)}function rs(e,t){var n=[];return X(Qn(e),function(e){n=(n=t(e)?n.concat([e]):n).concat(rs(e,t))}),n}function os(t,e){function r(){return{listeners:[],previous:hl()}}function s(e,t){n(e,function(e){return t(e),e})}var o=fl({}),n=function(e,t){var n=o.get(),t=t(Ge(n,e).getOrThunk(r));n[e]=t,o.set(n)},i=vl(function(){var e=o.get(),e=He(We(e));X(e,function(e){n(e,function(a){var u=a.previous.get();return xl(t,N.some(e)).fold(function(){var t;u.isSome()&&(s(t=e,function(e){X(e.listeners,function(e){return e(!1,t)})}),a.previous.clear())},function(e){var t,n,r,o=e.uid,i=e.name,e=e.elements;Nr(u,o)||(n=o,r=e,s(t=i,function(e){X(e.listeners,function(e){return e(!0,t,{uid:n,nodes:v(r,function(e){return e.dom})})})}),a.previous.set(o))}),{previous:a.previous,listeners:a.listeners}})})},30);return t.on("remove",function(){i.cancel()}),t.on("NodeChange",function(){i.throttle()}),{addListener:function(e,t){n(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}}function is(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){X(e,function(t){N.from(t.attr(Cl())).bind(n.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})})}function as(e,t){return J.fromDom(e.dom.cloneNode(t))}function us(e){return as(e,!1)}function ss(e){return as(e,!0)}function cs(e,t,n){function r(e){for(var t;(t=o[e]())&&!_(t)&&!n(t););return N.from(t).filter(_)}void 0===n&&(n=l);var o=new fo(e,t);return{current:function(){return N.from(o.current()).filter(_)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}}function ls(t,e){var i=e||function(e){return t.isBlock(e)||A(e)||E(e)},a=function(e,t,n,r){if(_(e)){t=r(e,t,e.data);if(-1!==t)return N.some({container:e,offset:t})}return n().bind(function(e){return a(e.container,e.offset,n,r)})};return{backwards:function(e,t,n,r){var o=cs(e,r,i);return a(e,t,function(){return o.prev().map(function(e){return{container:e,offset:e.length}})},n).getOrNull()},forwards:function(e,t,n,r){var o=cs(e,r,i);return a(e,t,function(){return o.next().map(function(e){return{container:e,offset:0}})},n).getOrNull()}}}function fs(e,t){return e=Rl(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function ds(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function ms(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&ds(t.top-e.bottom,e,t)}function gs(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&ds(t.bottom-e.top,e,t)}function ps(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function hs(e){return e&&/[\r\n\t ]/.test(e)}function vs(e){function r(e){0===e.height||0<n.length&&Dl(e,n[n.length-1])||n.push(e)}function t(e,t){var n=ql(e.ownerDocument);if(t<e.data.length){if(Ll(e.data[t]))return;if(Ll(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Wl(n)))return r(Jl(Gl(n),!1))}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Wl(n)||r(Jl(Gl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Wl(n)||r(Jl(Gl(n),!0)))}var n=[],o=e.container(),i=e.offset();if(zl(o))t(o,i);else if(Il(o))if(e.isAtEnd()){var a=Vl(o,i);zl(a)&&t(a,a.data.length),Fl(a)&&!Hl(a)&&r(Jl(Gl(a),!1))}else{a=Vl(o,i);if(zl(a)&&t(a,0),Fl(a)&&e.isAtEnd())return r(Jl(Gl(a),!1)),n;o=Vl(e.container(),e.offset()-1);!Fl(o)||Hl(o)||!Ml(o)&&!Ml(a)&&Fl(a)||r(Jl(Gl(o),!1)),Fl(a)&&r(Jl(Gl(a),!0))}return n}function bs(e,t){_(t)&&0===t.data.length&&e.remove(t)}function ys(e,t,n){var r,o,i,a,u;yr(n)?(r=e,o=t,i=n,a=N.from(i.firstChild),u=N.from(i.lastChild),o.insertNode(i),a.each(function(e){return bs(r,e.previousSibling)}),u.each(function(e){return bs(r,e.nextSibling)})):(o=e,i=n,t.insertNode(i),bs(o,i.previousSibling),bs(o,i.nextSibling))}function Cs(e){return e=e.parentNode,Zl(e)?Cs(e):e}function ws(e){return e?ke(e.childNodes,function(e,t){return Zl(t)&&"BR"!==t.nodeName?e=e.concat(ws(t)):e.push(t),e},[]):[]}function xs(t){return function(e){return t===e}}function Ss(e){var r,t=Ql(e)?"text()":e.nodeName.toLowerCase();return t+"["+(r=ws(Cs(t=e)),e=_e(r,xs(t),t),r=r.slice(0,e+1),e=ke(r,function(e,t,n){return Ql(t)&&Ql(r[n-1])&&e++,e},0),r=Ne(r,Ut([t.nodeName])),_e(r,xs(t),t)-e)+"]"}function Ns(e,t){var n,r,o=[],i=t.container(),t=t.offset();return Ql(i)?n=function(e,t){for(;(e=e.previousSibling)&&Ql(e);)t+=e.data.length;return t}(i,t):(t>=(r=i.childNodes).length?(n="after",t=r.length-1):n="before",i=r[t]),o.push(Ss(i)),r=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r}(e,i),r=Ne(r,j(jt)),(o=o.concat(Se(r,Ss))).reverse().join("/")+","+n}function Es(e,t){if(!t)return null;var n=(t=t.split(","))[0].split("/"),t=1<t.length?t[1]:"before";if(!(n=ke(n,function(e,t){var n,r,t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t);return t?("text()"===t[1]&&(t[1]="#text"),e=e,n=t[1],t=parseInt(t[2],10),r=ws(e),r=Ne(r,function(e,t){return!Ql(e)||!Ql(r[t-1])}),(r=Ne(r,Ut([n])))[t]):null},e)))return null;if(Ql(n)){for(var r,o=n,i=parseInt(t,10),a=o,u=0;Ql(a);){if(r=a.data.length,u<=i&&i<=u+r){o=a,i-=u;break}if(!Ql(a.nextSibling)){o=a,i=r;break}u+=r,a=a.nextSibling}return Ql(o)&&i>o.data.length&&(i=o.data.length),R(o,i)}return t="after"===t?ef(n)+1:ef(n),R(n.parentNode,t)}function ks(e,t,n){var r=0;return re.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r}function _s(e,t){var n,r=e[(o=t?"start":"end")+"Container"],o=e[o+"Offset"];Q(r)&&"TR"===r.nodeName&&(r=(n=r.childNodes)[Math.min(t?o:o-1,n.length-1)])&&(o=t?0:r.childNodes.length,e["set"+(t?"Start":"End")](r,o))}function As(e){return _s(e,!0),_s(e,!1),e}function Rs(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();return tf(r)||"IMG"===o?{name:o,index:ks(n.dom,o,r)}:(r=rf((r=i).startContainer,r.startOffset)||rf(r.endContainer,r.endOffset))?{name:o=r.tagName,index:ks(n.dom,o,r)}:(o=e,r=t,e=i,i=(t=n).dom,(n={}).start=nf(i,o,r,e,!0),t.isCollapsed()||(n.end=nf(i,o,r,e,!1)),oi(e)&&(n.isFakeCaret=!0),n)}function Ds(e,t,n){return t={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"},n?e.create("span",t,"&#xFEFF;"):e.create("span",t)}function Ts(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;return"IMG"===u?{name:u,index:ks(n,u,a)}:(u=As(r.cloneRange()),i||(u.collapse(!1),a=Ds(n,o+"_end",t),ys(n,u,a)),(r=As(r)).collapse(!0),i=Ds(n,o+"_start",t),ys(n,r,i),e.moveToBookmark({id:o,keep:!0}),{id:o})}function Os(e,t,n){var r=e.getParam(t,n);return-1!==r.indexOf("=")?(t=e.getParam(t,"","hash"),Ge(t,e.id).getOr(n)):r}function Bs(e){return e.getParam("content_security_policy","")}function Ps(e){return e.getParam("forced_root_block_attrs",{})}function Ls(e){return e.getParam("automatic_uploads",!0,"boolean")}function Is(e){return e.getParam("icons","","string")}function Ms(e){return e.getParam("language","en","string")}function Fs(e){return e=e.getParam("font_css",[]),P(e)?e:v(e.split(","),cn)}function Us(e){return!1!==(e=e.getParam("object_resizing"))&&!G.iOS&&(W(e)?e:"table,img,figure.image,div,video,iframe")}function zs(e){return e.getParam("theme")}function Hs(e){return!1!==e.getParam("inline_boundaries")}function js(e){return e.getParam("plugins","","string")}function Vs(e){var t=Xo(e);return{count:e.length-t.length,text:t}}function qs(e,t){return Xs(e),t}function $s(e,t){var n=t.container(),r=function(e,t){e=Te(e,t);return-1===e?N.none():N.some(e)}(qe(n.childNodes),e).map(function(e){return e<t.offset()?R(n,t.offset()-1):t}).getOr(t);return Xs(e),r}function Ws(e,t){return Ef(e)&&t.container()===e?(r=t,o=Vs((n=e).data.substr(0,r.offset())),i=Vs(n.data.substr(r.offset())),0<(o.text+i.text).length?(_f(n),R(n,r.offset()-o.count)):r):qs(e,t);var n,r,o,i}function Ks(e,t){return R.isTextPosition(t)?Ws(e,t):(e=e,((t=t).container()===e.parentNode?$s:qs)(e,t))}function Xs(e){Nf(e)&&Zo(e)&&(ei(e)?e.removeAttribute("data-mce-caret"):kf(e)),Ef(e)&&(_f(e),0===e.data.length)&&kf(e)}function Ys(e,t,n){var r,o=fs(t.getBoundingClientRect(),n),i=(e="BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop):(i=e.getBoundingClientRect(),r=e.scrollLeft-i.left,e.scrollTop-i.top),o.left+=r,o.right+=r,o.top+=e,o.bottom+=e,o.width=1,t.offsetWidth-t.clientWidth);return 0<i&&(n&&(i*=-1),o.left+=i,o.right+=i),o}function Gs(e,a,r,o){function i(){for(var e=a,t=bl(J.fromDom(e),"*[contentEditable=false],video,audio,embed,object"),n=0;n<t.length;n++){var r,o=t[n].dom,i=o.previousSibling;bo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(r.length-1,1)),i=o.nextSibling,vo(i)&&(1===(r=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}s&&(Xs(s),s=null),c.on(function(e){oe(e.caret).remove(),c.clear()}),u&&(co.clearInterval(u),u=void 0)}var u,s,c=hl(),l=0<(e=sf(e)).length?e:"p";return{show:function(e,t){var n;return i(),Tf(t)?null:(r(t)?(s=ho(l,t,e),n=Ys(a,t,e),oe(s).css("top",n.top),n=oe('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(y({},n)).appendTo(a)[0],c.set({caret:n,element:t,before:e}),e&&oe(n).addClass("mce-visual-caret-before"),u=co.setInterval(function(){o()?oe("div.mce-visual-caret",a).toggleClass("mce-visual-caret-hidden"):oe("div.mce-visual-caret",a).addClass("mce-visual-caret-hidden")},500),(n=t.ownerDocument.createRange()).setStart(s,0),n.setEnd(s,0)):(s=function(e,t){var n=e.ownerDocument.createTextNode(Wo),r=e.parentNode;if(t){o=e.previousSibling;if(Go(o)){if(Zo(o))return o;if(bo(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(Go(o)){if(Zo(o))return o;if(vo(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n}(t,e),n=t.ownerDocument.createRange(),Qs(s.nextSibling)?(n.setStart(s,0),n.setEnd(s,0)):(n.setStart(s,1),n.setEnd(s,1))),n)},hide:i,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){c.on(function(e){var t=Ys(a,e.element,e.before);oe(e.caret).css(y({},t))})},destroy:function(){return co.clearInterval(u)}}}function Js(){return Af.isIE()||Af.isEdge()||Af.isFirefox()}function Qs(e){return Rf(e)||Df(e)}function Zs(e){return Qs(e)||Vt(e)&&Js()}function ec(e,t){for(var n;n=e(t);)if(!If(n))return n;return null}function tc(e,t){var n;return t&&(n=t.container(),t=t.offset(),Mf(n))?n.childNodes[t+e]:null}function nc(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function rc(e,t,n){for(var r,o,i=e?"previousSibling":"nextSibling";n&&n!==t;){var a=n[i];if(Lf(a)&&(a=a[i]),Of(a)||Bf(a)){if(o=n,jf(a,r=t)===jf(o,r))return a;break}if(Ff(a))break;n=n.parentNode}return null}function oc(e,t,n){var r,o=h(rc,!0,t),t=h(rc,!1,t),i=n.startContainer,a=n.startOffset;if(Jo(i)){var u=(i=Mf(i)?i:i.parentNode).getAttribute("data-mce-caret");if("before"===u&&(r=i.nextSibling,Zs(r)))return qf(r);if("after"===u&&(r=i.previousSibling,Zs(r)))return $f(r)}if(n.collapsed&&_(i)){if(Lf(i)){if(1===e){if(r=t(i))return qf(r);if(r=o(i))return $f(r)}if(-1===e){if(r=o(i))return $f(r);if(r=t(i))return qf(r)}return n}if(bo(i)&&a>=i.data.length-1)return 1===e&&(r=t(i))?qf(r):n;if(vo(i)&&a<=1)return-1===e&&(r=o(i))?$f(r):n;if(a===i.data.length)return(r=t(i))?qf(r):n;if(0===a)return(r=o(i))?$f(r):n}return n}function ic(e,t){return N.from(tc(e?0:-1,t)).filter(Of)}function ac(e,t,n){return t=oc(e,t,n),-1===e?R.fromRangeStart(t):R.fromRangeEnd(t)}function uc(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function sc(e,t){return!((t=Vf(e,t))||!A(e.getNode()))||t}function cc(t){return{next:function(e){return od(ul.Forwards,e,t)},prev:function(e){return od(ul.Backwards,e,t)}}}function lc(e){return R.isTextPosition(e)?0===e.offset():yo(e.getNode())}function fc(e){var t;return R.isTextPosition(e)?(t=e.container(),e.offset()===t.data.length):yo(e.getNode(!0))}function dc(e,t){return!R.isTextPosition(e)&&!R.isTextPosition(t)&&e.getNode()===t.getNode(!0)}function mc(e,t,n){return e?!dc(t,n)&&(e=t,!(!R.isTextPosition(e)&&A(e.getNode())))&&fc(t)&&lc(n):!dc(n,t)&&lc(t)&&fc(n)}function gc(t,n,r){return id(t,n,r).bind(function(e){return Vf(r,e,n)&&mc(t,r,e)?id(t,n,e):N.some(e)})}function pc(e,t){var n,r=e?t.firstChild:t.lastChild;return _(r)?N.some(R(r,e?0:r.data.length)):r?yo(r)?N.some(e?R.before(r):A(n=r)?R.before(n):R.after(n)):(n=t,t=r,t=(r=e)?R.before(t):R.after(t),id(r,n,t)):N.none()}function hc(e,t){for(;t&&t!==e;){if(t.id===fd)return t;t=t.parentNode}return null}function vc(e){return re.isArray(e.start)}function bc(e,t){return Q(t)&&e.isBlock(t)&&!t.innerHTML&&!G.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t}function yc(e,t,n){return!(!1!==t.hasChildNodes()||!hc(e,t)||(e=n,t=(n=t).ownerDocument.createTextNode(Wo),n.appendChild(t),e.setStart(t,0),e.setEnd(t,0),0))}function Cc(e,t,n,r){var o,i,a,u,s=n[t?"start":"end"],c=e.getRoot();if(s){for(n=s[0],i=c,o=s.length-1;1<=o;o--){if(a=i.childNodes,yc(c,i,r))return 1;if(s[o]>a.length-1)return!!yc(c,i,r)||(u=r,ld(i).fold(l,function(e){return u.setStart(e.container(),e.offset()),u.setEnd(e.container(),e.offset()),!0}));i=a[s[o]]}3===i.nodeType&&(n=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(n=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,n):r.setEnd(i,n)}return 1}function wc(e){return _(e)&&0<e.data.length}function xc(e,t,n){var r,o,i,a,u=e.get(n.id+"_"+t),s=n.keep;if(u){if(i=u.parentNode,a=(i=(r="start"===t?s?u.hasChildNodes()?(i=u.firstChild,1):wc(u.nextSibling)?(i=u.nextSibling,0):wc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):s?u.hasChildNodes()?(i=u.firstChild,1):wc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),i),r),!s){for(s=u.previousSibling,o=u.nextSibling,re.each(re.grep(u.childNodes),function(e){_(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&_(s)&&!G.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),e.remove(o),i=s,a=r)}return N.some(R(i,a))}return N.none()}function Sc(e,t,n){return of(e,t,n)}function Nc(t,e){md(t,e).each(function(e){t.setRng(e)})}function Ec(e){return""!==e&&-1!==" \f\n\r\t\v".indexOf(e)}function kc(e){return!Ec(e)&&!pd(e)}function _c(e){return!!e.nodeType}function Ac(e,t,n){var r=n.startOffset,o=n.startContainer;if((o!==n.endContainer||!(i=o.childNodes[r])||!/^(IMG)$/.test(i.nodeName))&&Q(o)){var i=o.childNodes,a=void 0;r<i.length?(o=i[r],a=new fo(o,e.getParent(o,e.isBlock))):(o=i[i.length-1],(a=new fo(o,e.getParent(o,e.isBlock))).next(!0));for(var u=a.current();u;u=a.next())if(_(u)&&!Oc(u))return n.setStart(u,0),t.setRng(n)}}function Rc(e,t,n){if(e){var r=t?"nextSibling":"previousSibling";for(e=n?e:e[r];e;e=e[r])if(Q(e)||!Oc(e))return e}}function Dc(e,t){return _c(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]}function Tc(e,t,n){return e.schema.isValidChild(t,n)}function Oc(e,t){return void 0===t&&(t=!1),!(!Z(e)||!_(e))&&(t=t?e.data.replace(/ /g," "):e.data,vi(t))}function Bc(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()}function Pc(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),""+(t="fontFamily"===n?t.replace(/[\'\"]/g,"").replace(/,\s+/g,","):t)}function Lc(e,t,n){return Pc(e,e.getStyle(t,n),n)}function Ic(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n}),n}function Mc(e,t,n){return e.getParents(t,n,e.getRoot())}function Fc(e,t){return Be(e.formatter.get(t),function(t){function n(e){return 1<e.length&&"%"===e.charAt(0)}return Be(["styles","attributes"],function(e){return Ge(t,e).exists(function(e){e=P(e)?e:Ce(e);return Be(e,n)})})})}function Uc(t,e,r){function o(e){return Ye(e,function(e,t){return Be(n,function(e){return e===t})})}var n=["inline","block","selector","attributes","styles","classes"];return Be(t.formatter.get(e),function(e){var n=o(e);return Be(t.formatter.get(r),function(e){var t,e=o(e);return s(t=void 0===t?O:t).eq(n,e)})})}function zc(e){return we(e,"block")}function Hc(e){return vd(e)&&!1!==e.expand&&!bd(e)}function jc(e,t){for(var n=t;n;){if(Q(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function Vc(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1}function qc(e,t,n){return Vc(e,t,n,function(e){return pd(e)||Ec(e)})}function $c(e,t,n){return Vc(e,t,n,kc)}function Wc(o,e,t,n,i,r){function a(e,t,n){var r=ls(o),r=i?r.backwards:r.forwards;return N.from(r(e,t,function(e,t){return yd(e.parentNode)?-1:n(i,u=e,t)},s))}var u,s=o.getParent(t,o.isBlock)||e;return a(t,n,qc).bind(function(e){return r?a(e.container,e.offset+(i?-1:0),$c):N.some(e)}).orThunk(function(){return u?N.some({container:u,offset:i?0:u.length}):N.none()})}function Kc(e,t,n,r,o){_(r)&&ot(r.data)&&r[o]&&(r=r[o]);for(var i=Cd(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if((!Z(s.collapsed)||s.collapsed===n.collapsed)&&(vd(s)&&e.is(i[a],s.selector)))return i[a]}return r}function Xc(t,e,n,r){var o,i=n,a=t.dom,u=a.getRoot(),e=e[0];if((i=zc(e)?e.wrapper?null:a.getParent(n,e.block,u):i)||(o=a.getParent(n,"LI,TD,TH"),i=a.getParent(_(n)?n.parentNode:n,function(e){return e!==u&&xd(t,e)},o)),!(i=i&&zc(e)&&e.wrapper?Cd(a,i,"ul,ol").reverse()[0]||i:i))for(i=n;i[r]&&!a.isBlock(i[r])&&(i=i[r],!Bc(i,"br")););return i||n}function Yc(e,t,n,r){var o=n.parentNode;return!Z(n[r])&&(!(o!==t&&!ae(o)&&!e.isBlock(o))||Yc(e,t,o,r))}function Gc(e,t,n,r,o){var i,a=n,u=o?"previousSibling":"nextSibling",s=e.getRoot();if(!_(n)||wd(n)||!(o?0<r:r<n.data.length))for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var c=a[u];c;c=c[u]){var l=_(c)&&!Yc(e,s,c,u);if(!yd(c)&&(!A(i=c)||!i.getAttribute("data-mce-bogus")||i.nextSibling)&&!wd(c,l))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n}function Jc(e){return yd(e.parentNode)||yd(e)}function Qc(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom,c=n[0];return Q(o)&&o.hasChildNodes()&&(o=Bl(o,i),_(o))&&(i=0),Q(a)&&a.hasChildNodes()&&(a=Bl(a,t.collapsed?u:u-1),_(a))&&(u=a.nodeValue.length),o=jc(s,o),a=jc(s,a),Jc(o)&&(o=yd(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,_(o))&&(i=t.collapsed?o.length:0),Jc(a)&&(a=yd(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,_(a))&&(u=t.collapsed?0:a.length),t.collapsed&&(Wc(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,e=e.offset;o=t,i=e}),Wc(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,e=e.offset;a=t,u=e})),(bd(c)||c.block_expand)&&(bd(c)&&_(o)&&0!==i||(o=Gc(s,n,o,i,!0)),bd(c)&&_(a)&&u!==a.nodeValue.length||(a=Gc(s,n,a,u,!1))),Hc(c)&&(o=Kc(s,n,t,o,"previousSibling"),a=Kc(s,n,t,a,"nextSibling")),(zc(c)||vd(c))&&(o=Xc(e,n,o,"previousSibling"),a=Xc(e,n,a,"nextSibling"),zc(c))&&(s.isBlock(o)||(o=Gc(s,n,o,i,!0)),s.isBlock(a)||(a=Gc(s,n,a,u,!1))),Q(o)&&(i=s.nodeIndex(o),o=o.parentNode),Q(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function Zc(n,e,u){function s(e){var t=e[0],t=(_(t)&&t===a&&i>=t.data.length&&e.splice(0,1),e[e.length-1]);return 0===l&&0<e.length&&t===f&&_(t)&&e.splice(e.length-1,1),e}function c(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r}function t(e,t){return n.getParent(e,function(e){return e.parentNode===t},t)}function r(e,t,n){var r=n?"nextSibling":"previousSibling",o=e;for(o.parentNode;o&&o!==t;o=i){var i=o.parentNode,a=c(o===e?o:o[r],r);a.length&&(n||a.reverse(),u(s(a)))}}var o,i=e.startOffset,a=Bl(e.startContainer,i),l=e.endOffset,f=Bl(e.endContainer,l-1);return a===f?u(s([a])):(e=n.findCommonAncestor(a,f),n.isChildOf(a,f)?r(a,e,!0):n.isChildOf(f,a)?r(f,e):(o=t(a,e)||a,e=t(f,e)||f,r(a,o,!0),(o=c(o===a?o:o.nextSibling,"nextSibling",e===f?e.nextSibling:e)).length&&u(s(o)),void r(f,e)))}function el(e){return b(Fe(e,function(e){e=ps(e);return e?[J.fromDom(e)]:[]}),jo)}function tl(e,t){return 0<(t=bl(t,"td[data-mce-selected],th[data-mce-selected]")).length?t:el(e)}function nl(e,t){return Qr(e,"table",t)}function rl(t){return St(t).fold(K([t]),function(e){return[t].concat(rl(e))})}function ol(t){return Nt(t).fold(K([t]),function(e){return"br"===jn(e)?Ct(e).map(function(e){return[t].concat(ol(e))}).getOr([]):[t].concat(ol(e))})}function il(n,e){return $t((r=(t=e).startContainer,t=t.startOffset,_(r)?0===t?N.some(J.fromDom(r)):N.none():N.from(r.childNodes[t]).map(J.fromDom)),(t=(r=e).endContainer,r=r.endOffset,_(t)?r===t.data.length?N.some(J.fromDom(t)):N.none():N.from(t.childNodes[r-1]).map(J.fromDom)),function(e,t){e=Ie(rl(n),h(S,e)),t=Ie(ol(n),h(S,t));return e.isSome()&&t.isSome()}).getOr(!1);var t,r}function al(e){return(e=e.selection.getSel())&&0<e.rangeCount}var ul,sl,cl,ll,fl=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},dl={},ml=fl("en"),gl={getData:function(){return ve(dl,function(e){return y({},e)})},setCode:function(e){e&&ml.set(e)},getCode:function(){return ml.get()},add:function(e,t){var n=dl[e];n||(dl[e]=n={}),Y(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){function n(e){return k(e)?Object.prototype.toString.call(e):t(e)?"":""+e}function t(e){return""===e||null==e}function r(e){return e=n(e),Ge(u,e.toLowerCase()).map(n).getOr(e)}function o(e){return e.replace(/{context:\w+}$/,"")}var i,a,u=Ku().getOr({});return t(e)?"":B(a=e)&&ee(a,"raw")?n(e.raw):P(a=e)&&1<a.length?(i=e.slice(1),o(r(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return ee(i,t)?n(i[t]):e}))):o(r(e))},isRtl:function(){return Ku().bind(function(e){return Ge(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return ee(dl,e)}},pl=(Xu.languageLoad=!0,Xu.baseURL="",Xu.PluginManager=Xu(),Xu.ThemeManager=Xu(),function(e){function t(){n.get().each(e)}var n=fl(N.none());return{clear:function(){t(),n.set(N.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(e){t(),n.set(N.some(e))}}}),hl=function(){var t=pl(ne);return y(y({},t),{on:function(e){return t.get().each(e)}})},vl=function(n,r){function o(){L(i)||(clearTimeout(i),i=null)}var i=null;return{cancel:o,throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),i=setTimeout(function(){i=null,n.apply(null,e)},r)}}},bl=function(e,t){return Fn(t,e)},yl=K("mce-annotation"),Cl=K("data-mce-annotation"),wl=K("data-mce-annotation-uid"),xl=function(r,e){function t(e,t){return Dr(e,t)?N.some(Ar(e,t)):N.none()}var n=r.selection.getRng(),o=J.fromDom(n.startContainer),i=J.fromDom(r.getBody()),e=e.fold(function(){return"."+yl()},function(e){return"["+Cl()+'="'+e+'"]'}),n=Zn(o,n.startOffset).getOr(o),o=uo(n,e,function(e){return S(e,i)});return o.bind(function(e){return t(e,""+wl()).bind(function(n){return t(e,""+Cl()).map(function(e){var t=Sl(r,n);return{uid:n,name:e,elements:t}})})})},Sl=function(e,t){e=J.fromDom(e.getBody());return bl(e,"["+wl()+'="'+t+'"]')},Nl=0,El=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Nl+String(t)},kl=function(e){return v(e,J.fromDom)},_l=function(e,t){var n=bt(e).dom,r=J.fromDom(n.createDocumentFragment()),t=function(e,t){t=(t||document).createElement("div");return t.innerHTML=e,Qn(J.fromDom(t))}(t,n);At(r,t),Rt(e),ur(e,r)},Al=Math.round,Rl=function(e){return e?{left:Al(e.left),top:Al(e.top),bottom:Al(e.bottom),right:Al(e.right),width:Al(e.width),height:Al(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Dl=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Tl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Ol=function(e,t,n){return Math.min(Math.max(e,t),n)},Bl=function(e,t){var n;return Q(e)&&e.hasChildNodes()?(n=e.childNodes)[Ol(t,0,n.length-1)]:e},Pl=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),Ll=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&Pl.test(e)},Il=Q,Pn=yo,Ml=zt("display","block table"),n=zt("float","left right"),Fl=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Il,Pn,j(n)),Ul=j(zt("white-space","pre pre-line pre-wrap")),zl=_,Hl=A,jl=ie.nodeIndex,Vl=function(e,t){if(!(t<0&&Q(e)&&e.hasChildNodes()))return Bl(e,t)},ql=function(e){return"createRange"in e?e.createRange():ie.DOM.createRng()},$l=function(e){return!!e.setStart&&!!e.setEnd},Wl=function(e){var t=e.startContainer,n=e.startOffset;if(hs(e.toString())&&Ul(t.parentNode)&&_(t)){e=t.data;if(hs(e[n-1])||hs(e[n+1]))return!0}return!1},Kl=function(e){var t=e.ownerDocument,n=ql(t),t=t.createTextNode($o),r=e.parentNode,e=(r.insertBefore(t,e),n.setStart(t,0),n.setEnd(t,1),Rl(n.getBoundingClientRect()));return r.removeChild(t),e},Xl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;return t===n&&_(n)&&0===r&&1===o?((t=e.cloneRange()).setEndAfter(n),Gl(t)):null},Yl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Gl=function(e){var t=e.getClientRects(),t=0<t.length?Rl(t[0]):Rl(e.getBoundingClientRect());return!$l(e)&&Hl(e)&&Yl(t)?Kl(e):Yl(t)&&$l(e)?Xl(e):t},Jl=function(e,t){e=fs(e,t);return e.width=1,e.right=e.left+1,e},R=function(t,n,e){function r(){return e=e||vs(R(t,n))}return{container:K(t),offset:K(n),toRange:function(){var e=ql(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return zl(t),0===n},isAtEnd:function(){return zl(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return Vl(t,e?n-1:n)}}},Ql=(R.fromRangeStart=function(e){return R(e.startContainer,e.startOffset)},R.fromRangeEnd=function(e){return R(e.endContainer,e.endOffset)},R.after=function(e){return R(e.parentNode,jl(e)+1)},R.before=function(e){return R(e.parentNode,jl(e))},R.isAbove=function(e,t){return $t(je(t.getClientRects()),Ve(e.getClientRects()),ms).getOr(!1)},R.isBelow=function(e,t){return $t(Ve(t.getClientRects()),je(e.getClientRects()),gs).getOr(!1)},R.isAtStart=function(e){return!!e&&e.isAtStart()},R.isAtEnd=function(e){return!!e&&e.isAtEnd()},R.isTextPosition=function(e){return!!e&&_(e.container())},R.isElementPosition=function(e){return!1===R.isTextPosition(e)},_),Zl=jt,ef=ie.nodeIndex,tf=E,nf=function(e,t,n,r,o){var i=r[o?"startContainer":"endContainer"],r=r[o?"startOffset":"endOffset"],a=[],o=0,u=e.getRoot();for(_(i)?a.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&_(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,i,r):r):(r>=(t=i.childNodes).length&&t.length&&(o=1,r=Math.max(0,t.length-1)),a.push(e.nodeIndex(t[r],n)+o));i&&i!==u;i=i.parentNode)a.push(e.nodeIndex(i,n));return a},rf=function(e,t){return Q(e)&&(e=Bl(e,t),tf(e))?e:Zo(e)&&(t=(e=_(e)&&Jo(e)?e.parentNode:e).previousSibling,tf(t)||(t=e.nextSibling,tf(t)))?t:void 0},of=function(e,t,n){return 2===t?Rs(Xo,n,e):3===t?(r=(n=e).getRng(),{start:Ns(n.dom.getRoot(),R.fromRangeStart(r)),end:Ns(n.dom.getRoot(),R.fromRangeEnd(r))}):t?{rng:e.getRng()}:Ts(e,!1);var r},af=h(Rs,H,!0),uf=ie.DOM,sf=function(e){return e.getParam("force_p_newlines",!1)?"p":!1===(e=e.getParam("forced_root_block","p"))?"":!0===e?"p":e},cf=function(e){return e.getParam("keep_styles",!0)},lf=function(e){return e.getParam("end_container_on_empty_block",!1)},ff=function(e){return re.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},df=function(e){return re.explode(e.getParam("font_size_classes",""))},mf=function(e){return e.getParam("images_upload_url","","string")},gf=function(e){return e.getParam("images_upload_base_path","","string")},pf=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},hf=function(e){return e.getParam("images_upload_handler",null,"function")},vf=function(e){return e.getParam("referrer_policy","","string")},bf=function(e){return e.getParam("indent_use_margin",!1)},yf=function(e){return e.getParam("event_root")},Cf=function(e){return e.getParam("service_message")},wf=function(e){return e.getParam("formats")},xf=function(e){e=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");return W(e)?e:""},Sf=function(e){return e.getParam("content_css_cors")},Nf=Q,Ef=_,kf=function(e){var t=e.parentNode;t&&t.removeChild(e)},_f=function(e){for(var t;-1!==(t=e.data.lastIndexOf(Wo));)e.deleteData(t,1)},Af=Bn().browser,Rf=E,Df=Sr,Tf=xr,Of=E,Bf=Sr,Pf=zt("display","block table table-cell table-caption list-item"),Lf=Zo,If=Jo,Mf=Q,Ff=yo,Uf=function(e){return 0<e},zf=function(e){return e<0},Hf=function(e,t,n,r,o){var i=new fo(e,r),r=Of(e)||If(e);if(zf(t)){if(r&&n(e=ec(i.prev.bind(i),!0)))return e;for(;e=ec(i.prev.bind(i),o);)if(n(e))return e}if(Uf(t)){if(r&&n(e=ec(i.next.bind(i),!0)))return e;for(;e=ec(i.next.bind(i),o);)if(n(e))return e}return null},jf=function(e,t){for(;e&&e!==t;){if(Pf(e))return e;e=e.parentNode}return null},Vf=function(e,t,n){return jf(e.container(),n)===jf(t.container(),n)},qf=h(nc,!0),$f=h(nc,!1),Wf=function(e){return N.from(e.getNode()).map(J.fromDom)},Kf=((r=ul=ul||{})[r.Backwards=-1]="Backwards",r[r.Forwards=1]="Forwards",E),Xf=_,Yf=Q,Gf=A,Jf=yo,Qf=function(e){return li(e)||!!gi(e=e)&&!0!==Le(qe(e.getElementsByTagName("*")),function(e,t){return e||ii(t)},!1)},Zf=pi,ed=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},td=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},nd=function(e,t){if(Uf(e)){if(Jf(t.previousSibling)&&!Xf(t.previousSibling))return R.before(t);if(Xf(t))return R(t,0)}if(zf(e)){if(Jf(t.nextSibling)&&!Xf(t.nextSibling))return R.after(t);if(Xf(t))return R(t,t.data.length)}return!zf(e)||Gf(t)?R.before(t):R.after(t)},rd=function(e,t){var n=t.nextSibling;return n&&Jf(n)?Xf(n)?R(n,0):R.before(n):od(ul.Forwards,R.after(t),e)},od=function(e,t,n){var r,o,i;if(!Yf(n)||!t)return null;if(t.isEqual(R.after(n))&&n.lastChild){if(i=R.after(n.lastChild),zf(e)&&Jf(n.lastChild)&&Yf(n.lastChild))return Gf(n.lastChild)?R.before(n.lastChild):i}else i=t;var a,t=i.container(),u=i.offset();if(Xf(t)){if(zf(e)&&0<u)return R(t,--u);if(Uf(e)&&u<t.length)return R(t,++u);r=t}else{if(zf(e)&&0<u&&(a=td(t,u-1),Jf(a)))return!Qf(a)&&(o=Hf(a,e,Zf,a))?Xf(o)?R(o,o.data.length):R.after(o):Xf(a)?R(a,a.data.length):R.before(a);if(Uf(e)&&u<t.childNodes.length&&(a=td(t,u),Jf(a)))return Gf(a)?rd(n,a):!Qf(a)&&(o=Hf(a,e,Zf,a))?Xf(o)?R(o,0):R.before(o):Xf(a)?R(a,0):R.after(a);r=a||i.getNode()}return(Uf(e)&&i.isAtEnd()||zf(e)&&i.isAtStart())&&(r=Hf(r,e,se,n,!0),Zf(r,n))?nd(e,r):(a=Hf(r,e,Zf,n),!(u=Qe(b(ed(t,n),Kf)))||a&&u.contains(a)?a?nd(e,a):null:Uf(e)?R.after(u):R.before(u))},id=function(e,t,n){t=cc(t);return N.from(e?t.next(n):t.prev(n))},ad=function(t,n,e,r){return gc(t,n,e).bind(function(e){return r(e)?ad(t,n,e,r):N.some(e)})},ud=h(id,!0),sd=h(id,!1),cd=h(pc,!0),ld=h(pc,!1),fd="_mce_caret",dd=function(e){return Q(e)&&e.id===fd},md=function(e,t){var n,r,o,i,a,u,s,e=e.dom;if(t){if(vc(t))return u=t,s=(a=e).createRng(),Cc(a,!0,u,s)&&Cc(a,!1,u,s)?N.some(s):N.none();if(W(t.start))return N.some((a=t,s=(u=e).createRng(),i=Es(u.getRoot(),a.start),s.setStart(i.container(),i.offset()),i=Es(u.getRoot(),a.end),s.setEnd(i.container(),i.offset()),s));if(ee(t,"id"))return o=xc(r=e,"start",i=t),i=xc(r,"end",i),$t(o,i.or(o),function(e,t){var n=r.createRng();return n.setStart(bc(r,e.container()),e.offset()),n.setEnd(bc(r,t.container()),t.offset()),n});if(ee(t,"name"))return n=e,o=t,N.from(n.select(o.name)[o.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(ee(t,"rng"))return N.some(t.rng)}return N.none()},gd=function(e){return Q(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},pd=(sl=$o,function(e){return sl===e}),hd=function(e,n){return k(e)?e=e(n):Z(n)&&(e=e.replace(/%(\w+)/g,function(e,t){return n[t]||e})),e},vd=function(e){return we(e,"selector")},bd=function(e){return we(e,"inline")},yd=gd,Cd=Mc,wd=Oc,xd=Dc,Sd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Nd=function(e){return tl(Sd(e.selection.getSel()),J.fromDom(e.getBody()))},Ed=function(e,t,n,r){var o=n,i=new fo(n,o),a=Ye(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!Oe(["td","th","table"],t.toLowerCase())});do{if(_(n)&&0!==re.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName])return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},kd=function(n,r){var e=Nd(n);0<e.length?X(e,function(e){var e=e.dom,t=n.dom.createRng();t.setStartBefore(e),t.setEndAfter(e),r(t,!0)}):r(n.selection.getRng(),!1)},_d=function(e,t,n){t=Ts(e,t);n(t),e.moveToBookmark(t)},Ad=(cl=qn,ll="text",{get:function(e){if(cl(e))return Rd(e).getOr("");throw new Error("Can only get "+ll+" value of a "+ll+" node")},getOption:Rd,set:function(e,t){if(!cl(e))throw new Error("Can only set raw "+ll+" value of a "+ll+" node");e.dom.nodeValue=t}});function Rd(e){return cl(e)?N.from(e.dom.nodeValue):N.none()}function Dd(e){return Ad.get(e)}function Td(n,r,o,i){return Yn(r).fold(function(){return"skipping"},function(e){return"br"===i||qn(t=r)&&Dd(t)===Wo?"valid":Vn(t=r)&&ns(t,yl())?"existing":dd(r.dom)?"caret":Tc(n,o,i)&&Tc(n,jn(e),o)?"valid":"invalid-child";var t})}function Od(u){n={};var n,r={register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return Ge(n,e).map(function(e){return e.settings})}},o=(is(u,r),os(u));return{register:function(e,t){r.register(e,t)},annotate:function(t,n){r.lookup(t).each(function(e){var r,o,i,a;o=t,i=e,a=n,(r=u).undoManager.transact(function(){var e=r.selection,t=e.getRng(),n=0<Nd(r).length;t.collapsed&&!n&&Yd(r,t),e.getRng().collapsed&&!n?(t=Gd(r.getDoc(),a,o,i.decorate),_l(t,$o),e.getRng().insertNode(t.dom),e.select(t.dom)):_d(e,!1,function(){kd(r,function(e){Jd(r,e,o,i.decorate,a)})})})})},annotationChanged:function(e,t){o.addListener(e,t)},remove:function(e){xl(u,N.some(e)).each(function(e){e=e.elements;X(e,Dt)})},getAll:function(e){var t,r;return t=u,e=e,t=J.fromDom(t.getBody()),t=bl(t,"["+Cl()+'="'+e+'"]'),r={},X(t,function(e){var t=Ar(e,wl()),n=Ge(r,t).getOr([]);r[t]=n.concat([e])}),ve(r,function(e){return v(e,function(e){return e.dom})})}}}function Bd(e){return{getBookmark:h(Sc,e),moveToBookmark:h(Nc,e)}}function Pd(e,t){for(;t&&t!==e;){if(wr(t)||E(t))return t;t=t.parentNode}return null}function Ld(t,n,e){if(!e.collapsed){if(G.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(Q(r))return Be(r.getClientRects(),function(e){return Tl(e,t,n)})}return Be(e.getClientRects(),function(e){return Tl(e,t,n)})}}function Id(e,t,n){e.fire(t,n)}function Md(e,t,n,r){e.fire("FormatApply",{format:t,node:n,vars:r})}function Fd(e,t,n,r){e.fire("FormatRemove",{format:t,node:n,vars:r})}function Ud(n,s){function o(e){return Sr(e)||k.hasClass(e,"mce-preview-object")}function F(e){var t,n,r,o=e.target;t=e,n=s.selection.getRng(),("longpress"===t.type||0===t.type.indexOf("touch")?(r=t.touches[0],!B(t.target)||Ld(r.clientX,r.clientY,n)):!B(t.target)||Ld(t.clientX,t.clientY,n))||e.isDefaultPrevented()||s.selection.select(o)}function i(e,t,n){Z(n)&&(e=z(e),X(e,function(e){e.style[t]||!s.schema.isValid(e.nodeName.toLowerCase(),t)?k.setStyle(e,t,n):k.setAttrib(e,t,""+n)}))}function a(e){M();var o=(t=k.getPos(e,T)).x,i=t.y,a=(t=e.getBoundingClientRect()).width||t.right-t.left,u=t.height||t.bottom-t.top,t=(l!==e&&(I(),l=e,w=x=0),s.fire("ObjectSelected",{target:e})),n=k.getAttrib(l,E,"1");H(e)&&!t.isDefaultPrevented()?_(O,function(n,r){var e=k.get("mceResizeHandle"+r);e&&k.remove(e),e=k.add(T,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),11===G.ie&&(e.contentEditable=!1),k.bind(e,"mousedown",function(e){var t;e.stopImmediatePropagation(),e.preventDefault(),e=e,t=z(l)[0],p=e.screenX,h=e.screenY,v=t.clientWidth,b=t.clientHeight,y=b/v,(m=n).name=r,m.startPos={x:a*n[0]+o,y:u*n[1]+i},S=T.scrollWidth,N=T.scrollHeight,g=k.add(T,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),k.setStyles(g,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=j(l),k.addClass(f,"mce-clonedresizable"),k.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",k.setStyles(f,{left:o,top:i,margin:0}),V(f,a,u),f.removeAttribute(E),T.appendChild(f),k.bind(A,"mousemove",P),k.bind(A,"mouseup",L),R!==A&&(k.bind(R,"mousemove",P),k.bind(R,"mouseup",L)),d=k.add(T,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},v+" &times; "+b)}),n.elm=e,k.setStyles(e,{left:a*n[0]+o-e.offsetWidth/2,top:u*n[1]+i-e.offsetHeight/2})}):I(),k.getAttrib(l,E)||l.setAttribute(E,n)}function r(e){function t(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}C||s.removed||(_(k.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute(E)}),e="mousedown"===e.type?e.target:n.getNode(),t(e=k.$(e).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],T)&&(c(),t(n.getStart(!0),e))&&t(n.getEnd(!0),e)?a(e):I())}function u(e){return Qd(Pd(s.getBody(),e))}function c(){try{s.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(e){}}var l,f,d,m,g,p,h,v,b,y,C,w,x,S,N,E="data-mce-selected",k=s.dom,_=re.each,A=s.getDoc(),R=document,U=Math.abs,D=Math.round,T=s.getBody(),O={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},B=function(e){return e&&("IMG"===e.nodeName||s.dom.is(e,"figure.image"))},z=function(e){return k.is(e,"figure.image")?[e.querySelector("img")]:k.hasClass(e,"mce-preview-object")&&Z(e.firstElementChild)?[e,e.firstElementChild]:[e]},H=function(e){var t=Us(s);return!!t&&"false"!==e.getAttribute("data-mce-resize")&&e!==s.getBody()&&(k.hasClass(e,"mce-preview-object")?gt(J.fromDom(e.firstElementChild),t):gt(J.fromDom(e),t))},j=function(e){return o(e)?k.create("img",{src:G.transparentSrc}):e.cloneNode(!0)},V=function(e,t,n){i(e,"width",t),i(e,"height",n)},P=function(e){var t,n=e.screenX-p,r=e.screenY-h;w=n*m[2]+v,x=r*m[3]+b,w=w<5?5:w,x=x<5?5:x,((B(l)||o(l))&&!1!==s.getParam("resize_img_proportional",!0,"boolean")?!q.modifierPressed(e):q.modifierPressed(e))&&(U(n)>U(r)?(x=D(w*y),w=D(x/y)):(w=D(x/y),x=D(w*y))),V(f,w,x),e=m.startPos.x+n,t=m.startPos.y+r,k.setStyles(d,{left:e=0<e?e:0,top:t=0<t?t:0,display:"block"}),d.innerHTML=w+" &times; "+x,m[2]<0&&f.clientWidth<=w&&k.setStyle(f,"left",void 0+(v-w)),m[3]<0&&f.clientHeight<=x&&k.setStyle(f,"top",void 0+(b-x)),(n=T.scrollWidth-S)+(r=T.scrollHeight-N)!=0&&k.setStyles(d,{left:e-n,top:t-r}),C||(e=l,n=v,t=b,r="corner-"+m.name,s.fire("ObjectResizeStart",{target:e,width:n,height:t,origin:r}),C=!0)},L=function(){var e,t,n,r=C;C=!1,r&&(i(l,"width",w),i(l,"height",x)),k.unbind(A,"mousemove",P),k.unbind(A,"mouseup",L),R!==A&&(k.unbind(R,"mousemove",P),k.unbind(R,"mouseup",L)),k.remove(f),k.remove(d),k.remove(g),a(l),r&&(r=l,e=w,t=x,n="corner-"+m.name,s.fire("ObjectResized",{target:r,width:e,height:t,origin:n}),k.setAttrib(l,"style",k.getAttrib(l,"style"))),s.nodeChanged()},I=function(){M(),l&&l.removeAttribute(E),Y(O,function(e,t){t=k.get("mceResizeHandle"+t);t&&(k.unbind(t),k.remove(t))})},M=function(){Y(O,function(e){e.elm&&(k.unbind(e.elm),delete e.elm)})};return s.on("init",function(){c(),(G.browser.isIE()||G.browser.isEdge())&&(s.on("mousedown click",function(e){var t=e.target,n=t.nodeName;C||!/^(TABLE|IMG|HR)$/.test(n)||u(t)||(2!==e.button&&s.selection.select(t,"TABLE"===n),"mousedown"===e.type&&s.nodeChanged())}),k.bind(T,"mscontrolselect",e=function(e){function t(e){co.setEditorTimeout(s,function(){return s.selection.select(e)})}u(e.target)||Sr(e.target)?(e.preventDefault(),t(e.target)):/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName)&&t(e.target)}),s.on("remove",function(){return k.unbind(T,"mscontrolselect",e)}));var e,t=co.throttle(function(e){s.composing||r(e)});s.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",t),s.on("keyup compositionend",function(e){l&&"TABLE"===l.nodeName&&t(e)}),s.on("hide blur",I),s.on("contextmenu longpress",F,!0)}),s.on("remove",M),{isResizable:H,showResizeRect:a,hideResizeRect:I,updateResizeRect:r,destroy:function(){l=f=g=null}}}function zd(t,n,r){var o,e,i=r;if(i.caretPositionFromPoint)(e=i.caretPositionFromPoint(t,n))&&((o=r.createRange()).setStart(e.offsetNode,e.offset),o.collapse(!0));else if(i.caretRangeFromPoint)o=i.caretRangeFromPoint(t,n);else if(i.body.createTextRange){o=i.body.createTextRange();try{o.moveToPoint(t,n),o.collapse(!0)}catch(e){o=function(e,n,t){var r=t.elementFromPoint(e,n),o=t.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=t.body),o.moveToElementText(r),0<(t=(t=re.toArray(o.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-(t=Math.abs(Math.max(t.top-n,t.bottom-n)))})).length){n=(t[0].bottom+t[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(e){}}return null}(t,n,r)}return e=o,i=r.body,t=e&&e.parentElement?e.parentElement():null,E(em(t,i,Zd))?null:e}return o}function Hd(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function jd(e){return e&&"TABLE"===e.nodeName}function Vd(e,t,n){for(var r=new fo(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(A(t))return 1}function qd(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&A(o)&&t&&e.isEmpty(c))return N.some(R(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new fo(o,c);a=d[r?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(f=u,Zo(l=a)&&!1===Hd(l,f,dd)))return N.none();if(_(a)&&0<a.nodeValue.length)return!1===function(e,t,n){return Hd(e,t,function(e){return e.nodeName===n})}(a,u,"A")?N.some(R(a,r?a.nodeValue.length:0)):N.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return N.none();i=a}return n&&i?N.some(R(i,0)):N.none()}function $d(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,e=e.endOffset;return t===r&&_(t)?0<n&&n<t.nodeValue.length&&(t=(r=om(t,n)).previousSibling,n<e?(t=r=om(r,e-=n).previousSibling,e=r.nodeValue.length,n=0):e=0):(_(t)&&0<n&&n<t.nodeValue.length&&(t=om(t,n),n=0),_(r)&&0<e&&e<r.nodeValue.length&&(e=(r=om(r,e).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:e}}function Wd(n){return{walk:function(e,t){return Zc(n,e,t)},split:$d,normalize:function(t){return rm(n,t).fold(l,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}var Kd,Xd,Yd=function(e,t){var n=Qc(e,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Gd=function(e,t,n,r){var o,i=t.uid,i=void 0===i?El("mce-annotation"):i,t=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(t,["uid"]),e=J.fromTag("span",e),n=(es(e,yl()),kr(e,""+wl(),i),kr(e,""+Cl(),n),r(i,t)),r=n.attributes,i=n.classes,t=void 0===i?[]:i;return _r(e,void 0===r?{}:r),o=e,X(t,function(e){es(o,e)}),e},Jd=function(o,e,t,n,r){function i(){c.clear()}function a(e){X(e,l)}var u=[],s=Gd(o.getDoc(),r,t,n),c=hl(),l=function(e){var t,n;switch(Td(o,e,"span",jn(e))){case"invalid-child":i();var r=Qn(e);a(r),i();break;case"valid":r=c.get().getOrThunk(function(){var e=us(s);return u.push(e),c.set(e),e});ar(t=e,n=r),ur(n,t)}};return Zc(o.dom,e,function(e){i();var t=e;t=v(e,J.fromDom),a(t)}),u},q=(Bd.isBookmarkNode=gd,{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||q.metaKeyPressed(e)},metaKeyPressed:function(e){return G.mac?e.metaKey:e.ctrlKey&&!e.altKey}}),Qd=E,Zd=function(e){return wr(e)||E(e)},em=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},tm=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},nm=function(e,t,n,r){var o,i=e.getRoot(),a=!1,u=r[(n?"start":"end")+"Container"],s=r[(n?"start":"end")+"Offset"],r=Q(u)&&s===u.childNodes.length,c=e.schema.getNonEmptyElements(),l=n;if(Zo(u))return N.none();if(Q(u)&&s>u.childNodes.length-1&&(l=!1),br(u)&&(u=i,s=0),u===i){if(l&&(f=u.childNodes[0<s?s-1:0])){if(Zo(f))return N.none();if(c[f.nodeName]||jd(f))return N.none()}if(u.hasChildNodes()){if(s=Math.min(!l&&0<s?s-1:s,u.childNodes.length-1),u=u.childNodes[s],s=_(u)&&r?u.data.length:0,!t&&u===i.lastChild&&jd(u))return N.none();if(function(e,t){for(;t&&t!==e;){if(E(t))return!0;t=t.parentNode}return!1}(i,u)||Zo(u))return N.none();if(u.hasChildNodes()&&!1===jd(u)){var f=u,d=new fo(u,i);do{if(E(f)||Zo(f)){a=!1;break}if(_(f)&&0<f.nodeValue.length){s=l?0:f.nodeValue.length,u=f,a=!0;break}if(c[f.nodeName.toLowerCase()]&&(!(o=f)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){s=e.nodeIndex(f),u=f.parentNode,l||s++,a=!0;break}}while(f=l?d.next():d.prev())}}}return t&&(_(u)&&0===s&&qd(e,r,t,!0,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),Q(u))&&(f=(f=u.childNodes[s])||u.childNodes[s-1])&&A(f)&&(n="A",!(i=f).previousSibling||i.previousSibling.nodeName!==n)&&!Vd(e,f,!1)&&!Vd(e,f,!0)&&qd(e,r,t,!0,f).each(function(e){u=e.container(),s=e.offset(),a=!0}),l&&!t&&_(u)&&s===u.nodeValue.length&&qd(e,r,t,!1,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),a?N.some(R(u,s)):N.none()},rm=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=R.fromRangeStart(t);return nm(e,n,!0,r).each(function(e){n&&R.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||nm(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),tm(t,r)?N.none():N.some(r)},om=function(e,t){return e.splitText(t)},im=(Wd.compareRanges=tm,Wd.getCaretRangeFromPoint=zd,Wd.getSelectedNode=ps,Wd.getNode=Bl,Kd="height",Xd=function(e){var t=e.dom;return lr(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!F(t)&&!t.match(/^[0-9]+$/))throw new Error(Kd+".set accepts only positive integer values. Value was "+t);e=e.dom;Wt(e)&&(e.style[Kd]=t+"px")},get:am,getOuter:am,aggregate:um,max:function(e,t,n){e=um(e,n);return e<t?t-e:0}});function am(e){var t=Xd(e);return t<=0||null===t?(e=Tr(e,Kd),parseFloat(e)||0):t}function um(n,e){return Le(e,function(e,t){t=Tr(n,t),t=void 0===t?0:parseInt(t,10);return isNaN(t)?e:e+t},0)}function sm(n,e){return n.view(e).fold(K([]),function(e){var t=n.owner(e),t=sm(n,t);return[e].concat(t)})}function cm(e){var t=J.fromDom(document),t=mr(t),n=function(e,t){e=t.owner(e);return sm(t,e)}(e,Im),e=Bt(e),n=me(n,function(e,t){t=Bt(t);return{left:e.left+t.left,top:e.top+t.top}},{left:0,top:0});return fr(n.left+e.left+t.left,n.top+e.top+t.top)}function lm(e){return"textarea"===jn(e)}function fm(e,t){o=(u=e).dom.ownerDocument,a=o.body,i=o.defaultView,o=o.documentElement;var n,r,o,i,a=a===u.dom?fr(a.offsetLeft,a.offsetTop):(n=Ot(null==i?void 0:i.pageYOffset,o.scrollTop),i=Ot(null==i?void 0:i.pageXOffset,o.scrollLeft),r=Ot(o.clientTop,a.clientTop),o=Ot(o.clientLeft,a.clientLeft),Bt(u).translate(i-o,n-r)),u=im.get(e);return{element:e,bottom:a.top+u,height:u,pos:a,cleanup:t}}function dm(s,c,l,f){var e,t,n,r,o,i,a;e=s,a=function(e,t){var n,r,o,i,a,u;n=s,r=c,o=l,i=f,u=J.fromDom(n.getBody()),a=J.fromDom(n.getDoc()),Pr(u),u=Mm(J.fromDom(o.startContainer),o.startOffset),Fm(n,a,r,u,i),u.cleanup()},n=(t=l).startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,a(J.fromDom(n),J.fromDom(o)),(a=e.dom.createRng()).setStart(n,r),a.setEnd(o,i),e.selection.setRng(t)}function mm(e,t,n,r){var o=J.fromDom(e.getDoc());Fm(e,o,n,fm(J.fromDom(t),ne),r)}function gm(e,t,n,r){var o=e.pos;n?Pt(o.left,o.top,r):(n=o.top-t+e.height,Pt(o.left,n,r))}function pm(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,s=n<=u-a;a<t?gm(r,n,!1!==o,e):i<a?gm(r,n,s?!1!==o:!0===o,e):i<u&&!s&&gm(r,n,!0===o,e)}function hm(e,t,n,r){var o=e.dom.defaultView.innerHeight;pm(e,t,o,n,r)}function vm(e,t,n,r){var o=e.dom.defaultView.innerHeight,e=(pm(e,t,o,n,r),cm(n.element)),t=It(window);e.top<t.y?Lt(n.element,!1!==r):e.top>t.bottom&&Lt(n.element,!0===r)}function bm(e){return void 0===e&&(e=J.fromDom(document)),N.from(e.dom.activeElement).map(J.fromDom)}function ym(e,t){return(t=qn(t)?Dd(t).length:Qn(t).length+1)<e?t:e<0?0:e}function Cm(e){return Xm.range(e.start,ym(e.soffset,e.start),e.finish,ym(e.foffset,e.finish))}function wm(e,t){return!Ft(t.dom)&&(Hn(e,t)||S(e,t))}function xm(t){return function(e){return wm(t,e.start)&&wm(t,e.finish)}}function Sm(e){return!0===e.inline||Ym.isIE()}function Nm(e){return Xm.range(J.fromDom(e.startContainer),e.startOffset,J.fromDom(e.endContainer),e.endOffset)}function Em(e){return function(e){e=e.getSelection();return(e&&0!==e.rangeCount?N.from(e.getRangeAt(0)):N.none()).map(Nm)}(yt(e).dom).filter(xm(e))}function km(t,e){var n,r;Bn().browser.isIE()?(r=t).on("focusout",function(){Qm(r)}):(n=e,t.on("mouseup touchend",function(e){n.throttle()})),t.on("keyup NodeChange",function(e){"nodechange"===(e=e).type&&e.selectionChange||Qm(t)})}function _m(n,e){var t=e.editor;tg(t),t.on("focusin",function(){var e=n.focusedEditor;e!==t&&(e&&e.fire("blur",{focusedEditor:t}),n.setActive(t),(n.focusedEditor=t).fire("focus",{blurredEditor:e}),t.focus(!0))}),t.on("focusout",function(){co.setEditorTimeout(t,function(){var e=n.focusedEditor;rg(t,og(t))||e!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})}),Lm||(Lm=function(e){var t=n.activeEditor;t&&ir(e).each(function(e){e.ownerDocument!==document||e===document.body||rg(t,e)||n.focusedEditor!==t||(t.fire("blur",{focusedEditor:null}),n.focusedEditor=null)})},ng.bind(document,"focusin",Lm))}function Am(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(ng.unbind(document,"focusin",Lm),Lm=null)}function Rm(t,e){return((e=e).collapsed?N.from(Bl(e.startContainer,e.startOffset)).map(J.fromDom):N.none()).bind(function(e){return Ho(e)?N.some(e):!1===Hn(t,e)?N.some(t):N.none()})}function Dm(e){return cg(e)||(t=e,e=rr(J.fromDom(t.getElement())),bm(e).filter(function(e){return!function(e){e=e.classList;return void 0!==e&&(e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"))}(e.dom)&&rg(t,e.dom)}).isSome());var t}function Tm(e,t){var n,r;e.removed||(t?lg(e):(t=(n=e).selection,e=n.getBody(),r=t.getRng(),n.quirks.refreshContentEditable(),void 0!==n.bookmark&&!1===cg(n)&&Zm(n).each(function(e){n.selection.setRng(e),r=e}),t=ig(n,t.getNode()),n.$.contains(e,t)?(ug(t),ag(n,r)):(n.inline||(G.opera||ug(e),n.getWin().focus()),(G.gecko||n.inline)&&(ug(e),ag(n,r))),lg(n)))}function Om(n,e){return v(e,function(e){var t=n.fire("GetSelectionRange",{range:e});return t.range!==e?t.range:e})}function Bm(e,t,n){var r=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}}function Pm(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t}var Lm,Im=Object.freeze({__proto__:null,view:function(e){return(e.dom===document?N.none():N.from(null==(e=e.dom.defaultView)?void 0:e.frameElement)).map(J.fromDom)},owner:function(e){return Xn(e)}}),Mm=function(e,t){t=t;var n,e=0===(n=Qn(e=e)).length||lm(e)?{element:e,offset:t}:t<n.length&&!lm(n[t])?{element:n[t],offset:0}:(n=n[n.length-1],lm(n)?{element:e,offset:t}:"img"===jn(n)?{element:n,offset:1}:qn(n)?{element:n,offset:Dd(n).length}:{element:n,offset:Qn(n).length}),r=J.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Wo+"</span>");return ar(e.element,r),fm(r,function(){return cr(r)})},Fm=function(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire("ScrollIntoView",i).isDefaultPrevented()||(n(t,mr(t).top,r,o),e.fire("AfterScrollIntoView",i))},Um=function(e,t,n){return dm(e,hm,t,n)},zm=function(e,t,n){return mm(e,t,hm,n)},Hm=function(e,t,n){return dm(e,vm,t,n)},jm=function(e,t,n){return mm(e,t,vm,n)},Vm=function(e,t,n){(e.inline?Um:Hm)(e,t,n)},qm=function(e){return e.dom.focus()},$m=function(e){var t=rr(e).dom;return e.dom===t.activeElement},e=function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}},t=Ln([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wm={before:t.before,on:t.on,after:t.after,cata:function(e,t,n,r){return e.fold(t,n,r)},getStart:function(e){return e.fold(H,H,H)}},Km=Ln([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Xm={domRange:Km.domRange,relative:Km.relative,exact:Km.exact,exactFromRange:function(e){return Km.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){e=e.match({domRange:function(e){return J.fromDom(e.startContainer)},relative:function(e,t){return Wm.getStart(e)},exact:function(e,t,n,r){return e}});return yt(e)},range:e},Ym=Bn().browser,Gm=function(e,t){return N.from(t).filter(xm(e)).map(Cm)},Jm=function(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),N.some(t)}catch(e){return N.none()}},Qm=function(e){var t=Sm(e)?Em(J.fromDom(e.getBody())):N.none();e.bookmark=t.isSome()?t:e.bookmark},Zm=function(t){return(t.bookmark||N.none()).bind(function(e){return Gm(J.fromDom(t.getBody()),e)}).bind(Jm)},eg={isEditorUIElement:function(e){e=e.className.toString();return-1!==e.indexOf("tox-")||-1!==e.indexOf("mce-")}},tg=function(r){var o=Yu(function(){Qm(r)},0);r.on("init",function(){function e(){n.throttle()}var t,n;r.inline&&(t=r,n=o,ie.DOM.bind(document,"mouseup",e),t.on("remove",function(){ie.DOM.unbind(document,"mouseup",e)})),km(r,o)}),r.on("remove",function(){o.cancel()})},ng=ie.DOM,rg=function(t,e){var n=t.getParam("custom_ui_selector","","string");return null!==ng.getParent(e,function(e){return eg.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})},og=function(e){try{var t=rr(J.fromDom(e.getElement()));return bm(t).fold(function(){return document.body},function(e){return e.dom})}catch(e){return document.body}},ig=function(t,e){return t.dom.getParent(e,function(e){return"true"===t.dom.getContentEditable(e)})},ag=function(t,e){Rm(J.fromDom(t.getBody()),e).bind(function(e){return cd(e.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})},ug=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},sg=function(e){return $m(e)||bm(rr(t=e)).filter(function(e){return t.dom.contains(e.dom)}).isSome();var t},cg=function(e){var t;return e.inline?(t=(t=e).getBody())&&sg(J.fromDom(t)):(t=e).iframeElement&&$m(J.fromDom(t.iframeElement))},lg=function(e){return e.editorManager.setActive(e)},fg=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return N.from(i).map(J.fromDom).map(function(e){return r&&t.collapsed?e:Zn(e,o(e,a)).getOr(e)}).bind(function(e){return Vn(e)?N.some(e):Yn(e).filter(Vn)}).map(function(e){return e.dom}).getOr(e)},dg=function(e,t,n){return fg(e,t,!0,n,function(e,t){return Math.min(er(e),t)})},mg=function(e,t,n){return fg(e,t,!1,n,function(e,t){return 0<t?t-1:t})},gg=function(e,t){for(var n=e;e&&_(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},pg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},hg=(vg.create=function(e,t){var n=new vg(e,pg[e]||1);return t&&Y(t,function(e,t){n.attr(t,e)}),n},vg.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},vg.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&Y(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}}else{if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});n.map[e]=t}return r}},vg.prototype.clone=function(){var e,t=new vg(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];"id"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},vg.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},vg.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},vg.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},vg.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},vg.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},vg.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Bm(n,this))n.name===e&&t.push(n);return t},vg.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},vg.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Bm(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},vg.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r,o,i=this.firstChild;if(Pm(this))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(Pm(i))return!1}if(8===i.type)return!1;if(3===i.type&&(o=void 0,!vi((r=i).value)||(o=r.parent)&&("span"!==o.name||o.attr("style"))&&/^[ ]+$/.test(r.value)))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&vi(i.value))return!1;if(n&&n(i))return!1}while(i=Bm(i,this));return!0},vg.prototype.walk=function(e){return Bm(this,null,e)},vg);function vg(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function bg(e){return W(e.nodeValue)&&un(e.nodeValue,Wo)}function yg(e){return(0===e.length?"":v(e,function(e){return"["+e+"]"}).join(",")+",")+'[data-mce-bogus="all"]'}function Cg(e,t,n){return document.createTreeWalker(e,t,n,!1)}function wg(e){return Cg(e,NodeFilter.SHOW_COMMENT,function(e){return bg(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})}function xg(e){return Cg(e,NodeFilter.SHOW_TEXT,function(e){return bg(e)&&(e=e.parentNode)&&ee(zv,e.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})}function Sg(e){return null!==wg(e).nextNode()}function Ng(e){return null!==xg(e).nextNode()}function Eg(e,t){return null!==t.querySelector(yg(e))}function kg(n,e){X(e.querySelectorAll(yg(n)),function(e){var t=J.fromDom(e);"all"===Ar(t,"data-mce-bogus")?cr(t):X(n,function(e){Dr(t,e)&&Kt(t,e)})})}function _g(e){for(var t=e.nextNode();null!==t;)t.nodeValue=null,t=e.nextNode()}function Ag(n,e){var e=[{condition:h(Eg,e),action:h(kg,e)},{condition:Sg,action:Hv},{condition:Ng,action:jv}],r=n,o=!1;return X(e,function(e){var t=e.condition,e=e.action;t(r)&&(o||(r=n.cloneNode(!0),o=!0),e(r))}),r}function Rg(e,t,n,r){return n=n,n=y(y({},t),{format:n,get:!0,getInner:!0}),t=t.no_events?n:e.fire("BeforeGetContent",n),n="raw"===t.format?re.trim(Xo(Ag(r,e.serializer.getTempAttrs()).innerHTML)):"text"===t.format?e.dom.isEmpty(r)?"":Xo(r.innerText||r.textContent):"tree"===t.format?e.serializer.serialize(r,t):function(e,t){e=sf(e),e=new RegExp("^(<"+e+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+e+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(e,"")}(e,e.serializer.serialize(r,t)),Oe(["text","tree"],t.format)||Vo(J.fromDom(r))?t.content=n:t.content=re.trim(n),(t.no_events?t:e.fire("GetContent",t)).content}function Dg(o){return{compare:function(e,t){var n,r;return e.nodeName===t.nodeName&&!(!(r=function(e,t){var n,r;for(r in e)if(ee(e,r)){if(void 0===(n=t[r]))return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(ee(t,r))return!1;return!0})((n=function(t){var n={};return Vv(o.getAttribs(t),function(e){e=e.nodeName.toLowerCase();0!==e.indexOf("_")&&"style"!==e&&0!==e.indexOf("data-")&&(n[e]=o.getAttrib(t,e))}),n})(e),n(t))||!r(o.parseStyle(o.getAttrib(e,"style")),o.parseStyle(o.getAttrib(t,"style")))||gd(e)||gd(t))}}}function Tg(e){var u=[],s=(e=e||{}).indent,c=qv(e.indent_before||""),l=qv(e.indent_after||""),f=Mi.getEncodeFunc(e.entity_encoding||"raw",e.entities),d="html"===e.element_format;return{start:function(e,t,n){var r,o,i,a;if(s&&c[e]&&0<u.length&&0<(a=u[u.length-1]).length&&"\n"!==a&&u.push("\n"),u.push("<",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],u.push(" ",i.name,'="',f(i.value,!0),'"');u[u.length]=!n||d?">":" />",n&&s&&l[e]&&0<u.length&&0<(a=u[u.length-1]).length&&"\n"!==a&&u.push("\n")},end:function(e){u.push("</",e,">"),s&&l[e]&&0<u.length&&0<(e=u[u.length-1]).length&&"\n"!==e&&u.push("\n")},text:function(e,t){0<e.length&&(u[u.length]=t?e:f(e))},cdata:function(e){u.push("<![CDATA[",e,"]]>")},comment:function(e){u.push("\x3c!--",e,"--\x3e")},pi:function(e,t){t?u.push("<?",e," ",f(t),"?>"):u.push("<?",e,"?>"),s&&u.push("\n")},doctype:function(e){u.push("<!DOCTYPE",e,">",s?"\n":"")},reset:function(){u.length=0},getContent:function(){return u.join("").replace(/\n$/,"")}}}function Og(t,m){void 0===m&&(m=Yi());var g=Tg(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(e){var l=t.validate,f={3:function(e){g.text(e.value,e.raw)},8:function(e){g.comment(e.value)},7:function(e){g.pi(e.name,e.value)},10:function(e){g.doctype(e.value)},4:function(e){g.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;d(e),e=e.next;);}},d=(g.reset(),function(e){var t=f[e.type];if(t)t(e);else{var t=e.name,n=e.shortEnded,r=e.attributes;if(l&&r&&1<r.length){var o=[],i=(o.map={},m.getElementRule(e.name));if(i){for(var a=0,u=i.attributesOrder.length;a<u;a++)(s=i.attributesOrder[a])in r.map&&(c=r.map[s],o.map[s]=c,o.push({name:s,value:c}));for(var s,c,a=0,u=r.length;a<u;a++)(s=r[a].name)in o.map||(c=r.map[s],o.map[s]=c,o.push({name:s,value:c}));r=o}}if(g.start(e.name,r,n),!n){if(e=e.firstChild)for(;d(e),e=e.next;);g.end(t)}}});return 1!==e.type||t.inner?f[11](e):d(e),g.getContent()}}}function Bg(e,t){return We(e.parseStyle(e.getAttrib(t,"style")))}function Pg(e,t){return Ue(Bg(e,t),function(e){return!$v.has(e)})}function Lg(n,r,o){function i(e){var t=n.getStyle(r,e),e=n.getStyle(o,e);return rt(t)&&rt(e)&&t!==e}var e=Bg(n,r),a=Bg(n,o);return Be(e,function(t){function e(e){return Be(e,function(e){return e===t})}var n;return!e(a)&&e(Wv)?(n=b(a,function(t){return Be(Wv,function(e){return sn(t,e)})}),Be(n,i)):i(t)})}function Ig(n,r,o){return N.from(o.container()).filter(_).exists(function(e){var t=n?0:-1;return r(e.data.charAt(o.offset()+t))})}function Mg(t,n){return function(e){return N.from(tc(t?0:-1,e)).filter(n).isSome()}}function Fg(e){return Cr(e)&&"block"===Tr(J.fromDom(e),"display")}function Ug(e){return E(e)&&!(Q(e=e)&&"all"===e.getAttribute("data-mce-bogus"))}function zg(e){var t=bl(e,"br"),e=b(function(e){for(var t=[],n=e.dom;n;)t.push(J.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),Mo);t.length===e.length&&X(e,cr)}function Hg(n){Nt(n).each(function(t){Ct(t).each(function(e){Io(n)&&Mo(t)&&Io(e)&&cr(t)})})}function jg(e,t,n){return Hn(t,e)?function(e,t){for(var n=k(t)?t:l,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=J.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(e,function(e){return n(e)||S(e,t)}).slice(0,-1):[]}function Vg(e,t,n){return ad(e,t,n,Yv)}function qg(e,t){return Ie(ab(J.fromDom(t.container()),e),Io)}function $g(e,n,r){return Vg(e,n.dom,r).forall(function(t){return qg(n,r).fold(function(){return!1===Vf(t,r,n.dom)},function(e){return!1===Vf(t,r,n.dom)&&Hn(e,J.fromDom(t.container()))})})}function Wg(t,n,r){return qg(n,r).fold(function(){return Vg(t,n.dom,r).forall(function(e){return!1===Vf(e,r,n.dom)})},function(e){return Vg(t,e.dom,r).isNone()})}function Kg(e){return Wf(e).exists(Mo)}function Xg(e,t,n){var r=b(ab(J.fromDom(n.container()),t),Io),r=je(r).getOr(t);return id(e,r.dom,n).filter(Kg)}function Yg(e,t){return Wf(t).exists(Mo)||Xg(!0,e,t).isSome()}function Gg(e,t){return N.from(t.getNode(!0)).map(J.fromDom).exists(Mo)||Xg(!1,e,t).isSome()}function Jg(e){return R.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function Qg(e,t){return t=b(ab(J.fromDom(t.container()),e),Io),je(t).getOr(e)}function Zg(e,t){return Jg(t)?Xv(t):Xv(t)||sd(Qg(e,t).dom,t).exists(Xv)}function ep(e,t){return Jg(t)?Kv(t):Kv(t)||ud(Qg(e,t).dom,t).exists(Kv)}function tp(e){return Wf(e).bind(function(e){return Gr(e,Vn)}).exists(function(e){return e=Tr(e,"white-space"),Oe(["pre","pre-wrap"],e)})}function np(e,t){return sd(e.dom,t).isNone()||ud(e.dom,t).isNone()||ub(e,t)||sb(e,t)||Gg(e,t)||Yg(e,t)}function rp(e,t){return!tp(t)&&(ub(e,t)||cb(e,t)||Gg(e,t)||Zg(e,t))}function op(e,t){return!tp(t)&&(sb(e,t)||lb(e,t)||Yg(e,t)||ep(e,t))}function ip(e,t){return rp(e,t)||op(e,(t=(e=t).container(),n=e.offset(),_(t)&&n<t.data.length?R(t,n+1):e));var n}function ap(e,t){return pd(e.charAt(t))}function up(e){return e=e.container(),_(e)&&un(e.data,$o)}function sp(e){var n,t=e.data,r=(n=t.split(""),v(n,function(e,t){return pd(e)&&0<t&&t<n.length-1&&kc(n[t-1])&&kc(n[t+1])?" ":e}).join(""));return r!==t&&(e.data=r,!0)}function cp(a,e){return N.some(e).filter(up).bind(function(e){var t,n,r,o,i=e.container();return t=a,r=(n=i).data,o=R(n,0),!(!ap(r,0)||ip(t,o)||(n.data=" "+r.slice(1),0))||sp(i)||(t=a,n=(o=i).data,r=R(o,n.length-1),!(!ap(n,n.length-1)||ip(t,r)||(o.data=n.slice(0,-1)+" ",0)))?N.some(e):N.none()})}function lp(t){var e=J.fromDom(t.getBody());t.selection.isCollapsed()&&cp(e,R.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})}function fp(e,t,n){var r,o,i,a,u,s;0!==n&&(i=J.fromDom(e),i=Yr(i,Io).getOr(i),r=e.data.slice(t,t+n),o=t+n>=e.data.length&&op(i,R(e,e.data.length)),i=0===t&&rp(i,R(e,0)),e.replaceData(t,n,(u=i,s=o,Le(a=r,function(e,t){return Ec(t)||pd(t)?e.previousCharIsSpace||""===e.str&&u||e.str.length===a.length-1&&s?{previousCharIsSpace:!1,str:e.str+$o}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str)))}function dp(e,t){var n=(n=e.data.slice(t)).length-ln(n).length;fp(e,t,n)}function mp(e,t){var n=(n=e.data.slice(0,t)).length-fn(n).length;fp(e,t-n,n)}function gp(e,t,n,r){void 0===r&&(r=!0);var o=fn(e.data).length,i=r?e:t,t=r?t:e;r?i.appendData(t.data):i.insertData(0,t.data),cr(J.fromDom(t)),n&&dp(i,o)}function pp(e,t){return e=e,r=(n=t).container(),o=n.offset(),!1===R.isTextPosition(n)&&r===e.parentNode&&o>R.before(e).offset()?R(t.container(),t.offset()-1):t;var n,r,o}function hp(e){return yo(e.previousSibling)?N.some((t=e.previousSibling,_(t)?R(t,t.data.length):R.after(t))):e.previousSibling?ld(e.previousSibling):N.none();var t}function vp(e){return yo(e.nextSibling)?N.some((t=e.nextSibling,_(t)?R(t,0):R.before(t))):e.nextSibling?cd(e.nextSibling):N.none();var t}function bp(r,o){return hp(o).orThunk(function(){return vp(o)}).orThunk(function(){return e=r,t=o,n=R.before(t.previousSibling||t.parentNode),sd(e,n).fold(function(){return ud(e,R.after(t))},N.some);var e,t,n})}function yp(n,r){return vp(r).orThunk(function(){return hp(r)}).orThunk(function(){return t=r,ud(e=n,R.after(t)).fold(function(){return sd(e,R.before(t))},N.some);var e,t})}function Cp(e,t,n){return(e?yp:bp)(t,n).map(h(pp,n))}function wp(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function xp(e,t){return t&&ee(e.schema.getBlockElements(),jn(t))}function Sp(e){var t;return xi(e)?(t=J.fromHtml('<br data-mce-bogus="1">'),Rt(e),ur(e,t),N.some(R.before(t.dom))):N.none()}function Np(e,t,o){var n,r,i,a=Ct(e).filter(qn),u=Jn(e).filter(qn);return cr(e),e=u,r=t,i=function(e,t,n){var e=e.dom,t=t.dom,r=e.data.length;return gp(e,t,o),n.container()===t?R(e,r):n},((n=a).isSome()&&e.isSome()&&r.isSome()?N.some(i(n.getOrDie(),e.getOrDie(),r.getOrDie())):N.none()).orThunk(function(){return o&&(a.each(function(e){return mp(e.dom,e.dom.length)}),u.each(function(e){return dp(e.dom,0)})),t})}function Ep(t,n,e,r){void 0===r&&(r=!0);var o,i=Cp(n,t.getBody(),e.dom),a=Yr(e,h(xp,t),(o=t.getBody(),function(e){return e.dom===o})),u=Np(e,i,(i=e,ee(t.schema.getTextInlineElements(),jn(i))));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(Sp).fold(function(){r&&wp(t,n,u)},function(e){r&&wp(t,n,N.some(e))})}function kp(e){return bl(e,"td,th")}function _p(e,t){function n(e){return nl(J.fromDom(e),t)}var r=n(e.startContainer),e=n(e.endContainer),o=r.isSome(),i=e.isSome(),a=$t(r,e,S).getOr(!1);return{startTable:r,endTable:e,isStartInTable:o,isEndInTable:i,isSameTable:a,isMultiTable:!a&&o&&i}}function Ap(e,t){return{start:e,end:t}}function Rp(e,t){return uo(J.fromDom(e),"td,th",t)}function Dp(e){return!S(e.start,e.end)}function Tp(e,t){return nl(e.start,t).bind(function(n){return nl(e.end,t).bind(function(e){return e=S(n,e),t=n,e?N.some(t):N.none();var t})})}function Op(e){return function(t){return Tp(t,e).map(function(e){return{rng:t,table:e,cells:kp(e)}})}}function Bp(e,t,n,r){var o,i;return n.collapsed||!e.forall(Dp)?N.none():t.isSameTable?(t=e.bind(Op(r)),N.some({start:t,end:t})):(e=Rp(n.startContainer,r),t=Rp(n.endContainer,r),n=e.bind((i=r,function(t){return nl(t,i).bind(function(e){return Ve(kp(e)).map(function(e){return Ap(t,e)})})})).bind(Op(r)),e=t.bind((o=r,function(t){return nl(t,o).bind(function(e){return je(kp(e)).map(function(e){return Ap(e,t)})})})).bind(Op(r)),N.some({start:n,end:e}))}function Pp(e,t){return Me(e,function(e){return S(e,t)})}function Lp(n){return $t(Pp(n.cells,n.rng.start),Pp(n.cells,n.rng.end),function(e,t){return n.cells.slice(e,t+1)})}function Ip(e,r,o){return e.exists(function(e){return n=o,!Dp(t=e)&&Tp(t,n).exists(function(e){e=e.dom.rows;return 1===e.length&&1===e[0].cells.length})&&il(e.start,r);var t,n})}function Mp(e,t){var n=t.startTable,t=t.endTable,r=e.cloneRange();return n.each(function(e){return r.setStartAfter(e.dom)}),t.each(function(e){return r.setEndBefore(e.dom)}),r}function Fp(e,t){function n(e){return S(r,e)}r=e,e=n,c=Rp((o=t).startContainer,e),o=Rp(o.endContainer,e);var r,o,i,a,u,s,e=$t(c,o,Ap),c=_p(t,n);return Ip(e,t,n)?e.map(function(e){return mb.singleCellTable(t,e.start)}):c.isMultiTable?Bp(e,u=c,s=t,n).bind(function(e){var t,n=e.start,e=e.end,n=n.bind(Lp).getOr([]),e=e.bind(Lp).getOr([]);return 0<n.length&&0<e.length?(t=Mp(s,u),N.some(mb.multiTable(n,e,t))):N.none()}):Bp(e,i=c,a=t,n).bind(function(e){var t=e.start,e=e.end;return t.or(e)}).bind(function(e){var t=i.isSameTable,n=Lp(e).getOr([]);return t&&e.cells.length===n.length?N.some(mb.fullTable(e.table)):0<n.length?t?N.some(mb.partialTable(n,N.none())):(e=Mp(a,i),N.some(mb.partialTable(n,N.some(y(y({},i),{rng:e}))))):N.none()})}function Up(e){X(e,function(e){Kt(e,"contenteditable"),ob(e)})}function zp(e,t,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),qp(e,o,t,!1)}function Hp(e){var t=Nd(e),n=J.fromDom(e.selection.getNode());xr(n.dom)&&xi(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),1<t.length&&Be(t,function(e){return S(e,n)})&&kr(n,"data-mce-selected","1")}function jp(i,a,e){var u=i.selection.getRng(),e=e.bind(function(e){var t,n,r=e.rng,e=e.isStartInTable,o=(o=e?r.endContainer:r.startContainer,N.from(i.dom.getParent(o,i.dom.isBlock)).map(J.fromDom)),r=(r.deleteContents(),t=i,n=e,o.filter(xi).each(function(e){n?cr(e):(ob(e),t.selection.setCursorLocation(e.dom,0))}),e?a[0]:a[a.length-1]);return zp(i,r,u,e),xi(r)?N.none():N.some(e?a.slice(1):a.slice(0,-1))}).getOr(a);return Up(e),Hp(i),!0}function Vp(e,t,n,r){var o=e.selection.getRng(),i=t[0],a=n[n.length-1],o=(zp(e,i,o,!0),zp(e,a,o,!1),xi(i)?t:t.slice(1)),i=xi(a)?n:n.slice(0,-1);return Up(o.concat(i)),r.deleteContents(),Hp(e),!0}function qp(e,t,n,r){void 0===r&&(r=!0),t.deleteContents();var t=gb(n).getOr(n),o=J.fromDom(e.dom.getParent(t.dom,e.dom.isBlock));return xi(o)&&(ob(o),r)&&e.selection.setCursorLocation(o.dom,0),S(n,o)||(t=Nr(Yn(o),n)?[]:Gn(o),X(t.concat(Qn(n)),function(e){S(e,o)||Hn(e,o)||!xi(e)||cr(e)})),!0}function $p(e,t){return Ep(e,!1,t),!0}function Wp(n,e,r,t){return Xp(e,t).fold(function(){return t=n,Fp(e,r).map(function(e){return e.fold(h(qp,t),h($p,t),h(jp,t),h(Vp,t))});var t},function(e){return pb(n,e)}).getOr(!1)}function Kp(e,t){return Ie(ab(t,e),jo)}function Xp(e,t){return Ie(ab(t,e),Kn("caption"))}function Yp(e,t){return ob(t),e.selection.setCursorLocation(t.dom,0),N.some(!0)}function Gp(a,u,s,c,l){return gc(s,a.getBody(),l).bind(function(e){return r=s,o=l,i=e,cd((n=c).dom).bind(function(t){return ld(n.dom).map(function(e){return r?o.isEqual(t)&&i.isEqual(e):o.isEqual(e)&&i.isEqual(t)})}).getOr(!0)?hb(a,c):(t=c,Xp(u,J.fromDom(e.getNode())).map(function(e){return!1===S(e,t)}));var t,n,r,o,i}).or(N.some(!0))}function Jp(r,o,i,e){var a=R.fromRangeStart(r.selection.getRng());return Kp(i,e).bind(function(e){return xi(e)?Yp(r,e):(t=i,n=e,e=a,gc(o,r.getBody(),e).bind(function(e){return Kp(t,J.fromDom(e.getNode())).map(function(e){return!1===S(e,n)})}));var t,n}).getOr(!1)}function Qp(e,t){return(e?eb:tb)(t)}function Zp(i,a,r){var u=J.fromDom(i.getBody());return Xp(u,r).fold(function(){return Jp(i,a,u,r)||(e=i,t=a,n=R.fromRangeStart(e.selection.getRng()),Qp(t,n))||id(t,e.getBody(),n).exists(function(e){return Qp(t,e)});var e,t,n},function(e){return t=i,n=a,r=u,e=e,o=R.fromRangeStart(t.selection.getRng()),(xi(e)?Yp(t,e):Gp(t,r,n,e,o)).getOr(!1);var t,n,r,o})}function eh(e,t){var n,r=J.fromDom(e.selection.getStart(!0)),o=Nd(e);return e.selection.isCollapsed()&&0===o.length?Zp(e,t,r):(t=e,e=r,r=o,o=J.fromDom(t.getBody()),n=t.selection.getRng(),0!==r.length?jp(t,r,N.none()):Wp(t,o,n,e))}function th(i){var a=R.fromRangeStart(i),u=R.fromRangeEnd(i),s=i.commonAncestorContainer;return id(!1,s,u).map(function(e){return!Vf(a,u,s)&&Vf(a,e,s)?(t=a.container(),n=a.offset(),r=e.container(),e=e.offset(),(o=document.createRange()).setStart(t,n),o.setEnd(r,e),o):i;var t,n,r,o}).getOr(i)}function nh(e){return e.collapsed?e:th(e)}function rh(e,t){return e.getBlockElements()[t.name]&&(e=t).firstChild&&e.firstChild===e.lastChild&&("br"===(e=t.firstChild).name||e.value===$o)}function oh(e,t){var n,r,o=t.firstChild,t=t.lastChild;return o&&"meta"===o.name&&(o=o.next),t&&"mce_marker"===t.attr("id")&&(t=t.prev),n=t,r=(e=e).getNonEmptyElements(),n&&(n.isEmpty(r)||rh(e,n))&&(t=t.prev),!(!o||o!==t||"ul"!==o.name&&"ol"!==o.name)}function ih(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((e=e.firstChild).data===$o||A(e))}function ah(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||ih(t))?e.slice(0,-1):e;var t}function uh(e,t){return(t=e.getParent(t,e.isBlock))&&"LI"===t.nodeName?t:null}function sh(e,t){return e=R.after(e),(t=cc(t).prev(e))?t.toRange():null}function ch(t,e,n){var r=t.parentNode,e=(re.each(e,function(e){r.insertBefore(e,t)}),t);return e=R.before(e),(n=cc(n).next(e))?n.toRange():null}function lh(e,r,o,t){function n(e){var t=R.fromRangeStart(o),n=cc(r.getRoot());return!(e=1===e?n.prev(t):n.next(t))||uh(r,e.getNode())!==c}l=r,t=t,e=(e=e).serialize(t),t=l.createFragment(e),e=(l=t).firstChild,t=l.lastChild,e&&"META"===e.nodeName&&e.parentNode.removeChild(e),t&&"mce_marker"===t.id&&t.parentNode.removeChild(t);var i,a,u,s,e=l,c=uh(r,o.startContainer),l=ah((t=e.firstChild,b(t.childNodes,function(e){return"LI"===e.nodeName}))),e=r.getRoot();return n(1)?ch(c,l,e):n(2)?(t=c,a=l,u=e,r.insertAfter(a.reverse(),t),sh(a[0],u)):(t=l,a=e,u=i=c,e=(l=l=o).cloneRange(),l=l.cloneRange(),e.setStartBefore(u),l.setEndAfter(u),u=[e.cloneContents(),l.cloneContents()],(s=i.parentNode).insertBefore(u[0],i),re.each(t,function(e){s.insertBefore(e,i)}),s.insertBefore(u[1],i),s.removeChild(i),sh(t[t.length-1],a))}function fh(t,e){var n,r,o,i=t.dom,a=t.selection;e&&(a.scrollIntoView(e),n=Pd(t.getBody(),e),"false"===i.getContentEditable(n)?(i.remove(e),a.select(n)):(n=i.createRng(),o=e.previousSibling,_(o)?(n.setStart(o,o.nodeValue.length),G.ie||(r=e.nextSibling,_(r)&&(o.appendData(r.data),r.parentNode.removeChild(r)))):(n.setStartBefore(e),n.setEndBefore(e)),o=i.getParent(e,i.isBlock),i.remove(e),o&&i.isEmpty(o)&&(t.$(o).empty(),n.setStart(o,0),n.setEnd(o,0),vb(o)||o.getAttribute("data-mce-fragment")||!(r=function(e){e=R.fromRangeStart(e);if(e=cc(t.getBody()).next(e))return e.toRange()}(n))?i.add(o,i.create("br",{"data-mce-bogus":"1"})):(n=r,i.remove(o))),a.setRng(n)))}function dh(e){var t,n,r=e.dom,o=nh(e.selection.getRng()),i=(e.selection.setRng(o),r.getParent(o.startContainer,vb));r=r,t=o,null!==(n=i)&&n===r.getParent(t.endContainer,vb)&&il(J.fromDom(n),t)?qp(e,o,J.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)}function mh(e,t,n){var r=e.selection,o=e.dom,i=(/^ | $/.test(t)&&(t=function(e,t,n){e=J.fromDom(e.getRoot());return n=rp(e,R.fromRangeStart(t))?n.replace(/^ /,"&nbsp;"):n.replace(/^&nbsp;/," "),n=op(e,R.fromRangeEnd(t))?n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n.replace(/&nbsp;(<br( \/)?>)?$/," ")}(o,r.getRng(),t)),e.parser),a=n.merge,u=Og({validate:e.getParam("validate")},e.schema),s='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',c=e.fire("BeforeSetContent",{content:t,format:"html",selection:!0,paste:n.paste});if(c.isDefaultPrevented())e.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});else{t=c.content,-1===(t=n.preserve_zwsp?t:Xo(t)).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,s);var l=(b=r.getRng()).startContainer||(b.parentElement?b.parentElement():null),f=e.getBody(),l=(l===f&&r.isCollapsed()&&o.isBlock(f.firstChild)&&(l=e,m=f.firstChild)&&!l.schema.getShortEndedElements()[m.nodeName]&&o.isEmpty(f.firstChild)&&((b=o.createRng()).setStart(f.firstChild,0),b.setEnd(f.firstChild,0),r.setRng(b)),r.isCollapsed()||dh(e),{context:(x=r.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0}),d=i.parse(t,l);if(!0===n.paste&&oh(e.schema,d)&&!!uh(o,x))b=lh(u,o,r.getRng(),d),r.setRng(b),e.fire("SetContent",c);else{for(var m,g,p,h,v,b,y=d;y=y.walk();)1===y.type&&y.attr("data-mce-fragment","1");if("mce_marker"===(w=d.lastChild).attr("id"))for(var C=w,w=w.prev;w;w=w.walk(!0))if(3===w.type||!o.isBlock(w.name)){e.schema.isValidChild(w.parent.name,"span")&&w.parent.insert(C,w,"br"===w.name);break}if(e._selectionOverrides.showBlockCaretContainer(x),l.invalid){e.selection.setContent(s);var x=r.getNode(),S=e.getBody();for(9===x.nodeType?x=w=S:w=x;w!==S;)w=(x=w).parentNode;t=x===S?S.innerHTML:o.getOuterHTML(x),t=u.serialize(i.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return u.serialize(d)}))),x===S?o.setHTML(S,t):o.setOuterHTML(x,t)}else t=u.serialize(d),m=e,f=t,"all"===(n=x).getAttribute("data-mce-bogus")?n.parentNode.insertBefore(m.dom.createFragment(f),n):(b=n.firstChild,l=n.lastChild,!b||b===l&&"BR"===b.nodeName?m.dom.setHTML(n,f):m.selection.setContent(f));s=a,h=(i=e).schema.getTextInlineElements(),v=i.dom,s&&(g=i.getBody(),p=Dg(v),re.each(v.select("*[data-mce-fragment]"),function(e){if(Z(h[e.nodeName.toLowerCase()])&&Pg(v,e))for(var t=e.parentNode;Z(t)&&t!==g;t=t.parentNode){if(Lg(v,e,t))break;if(p.compare(t,e)){v.remove(e,!0);break}}})),fh(e,o.get("mce_marker")),t=e.getBody(),re.each(t.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),l=o,b=r.getStart(),N.from(l.getParent(b,"td,th")).map(J.fromDom).each(Hg),e.fire("SetContent",c),e.addVisual()}}}function gh(e,t){t(e),e.firstChild&&gh(e.firstChild,t),e.next&&gh(e.next,t)}function ph(e,t,n){e=function(e,n,t){var r,o,i={},a={},u=[];for(r in t.firstChild&&gh(t.firstChild,function(t){X(e,function(e){e.name===t.name&&(i[e.name]?i[e.name].nodes.push(t):i[e.name]={filter:e,nodes:[t]})}),X(n,function(e){"string"==typeof t.attr(e.name)&&(a[e.name]?a[e.name].nodes.push(t):a[e.name]={filter:e,nodes:[t]})})}),i)ee(i,r)&&u.push(i[r]);for(o in a)ee(a,o)&&u.push(a[o]);return u}(e,t,n),X(e,function(t){X(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})})}function hh(e){return e instanceof hg}function vh(e,t,n){var r;e.dom.setHTML(e.getBody(),t),!0!==n&&cg(r=e)&&cd(r.getBody()).each(function(e){var t=e.getNode(),t=Vt(t)?cd(t).getOr(e):e;r.selection.setRng(t.toRange())})}function bh(a,u,e){t=u;var t=y(y({format:"html"},e),{set:!0,content:hh(t)?"":t}),s=e.no_events?t:a.fire("BeforeSetContent",t);return hh(u)||(u=s.content),N.from(a.getBody()).fold(K(u),function(e){return hh(u)?(n=e,r=u,o=s,ph((t=a).parser.getNodeFilters(),t.parser.getAttributeFilters(),r),i=Og({validate:t.validate},t.schema).serialize(r),o.content=Xo(Vo(J.fromDom(n))?i:re.trim(i)),vh(t,o.content,o.no_selection),o.no_events||t.fire("SetContent",o),r):(n=a,i=e,t=s,0===(o=Xo(o=u)).length||/^\s+$/.test(o)?(r='<br data-mce-bogus="1">',"TABLE"===i.nodeName?o="<tr><td>"+r+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(o="<li>"+r+"</li>"),o=(e=sf(n))&&n.schema.isValidChild(i.nodeName.toLowerCase(),e.toLowerCase())?(o=r,n.dom.createHTML(e,Ps(n),o)):o||'<br data-mce-bogus="1">',vh(n,o,t.no_selection),n.fire("SetContent",t)):("raw"!==t.format&&(o=Og({validate:n.validate},n.schema).serialize(n.parser.parse(o,{isRootContent:!0,insert:!0}))),t.content=Vo(J.fromDom(i))?o:re.trim(o),vh(n,t.content,t.no_selection),t.no_events||n.fire("SetContent",t)),t.content);var t,n,r,o,i})}function yh(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(vd(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return 1}}function Ch(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(e){return!!yh(t,e,n)||e.parentNode===i||!!wh(t,e,n,r,!0)}),!!wh(t,e,n,r,o))}function wh(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var s=i[u];if(xb(e.dom,t,s)&&Sb(a,t,s,"attributes",o,r)&&Sb(a,t,s,"styles",o,r)){var c=s.classes;if(c)for(var l=0;l<c.length;l++)if(!e.dom.hasClass(t,hd(c[l],r)))return;return s}}}function xh(e,t,n,r,o){var i;return r?Ch(e,r,t,n,o):(r=e.selection.getNode(),!!Ch(e,r,t,n,o)||!((i=e.selection.getStart())===r||!Ch(e,i,t,n,o)))}function Sh(n,r){function t(e){return S(e,J.fromDom(n.getBody()))}return N.from(n.selection.getStart(!0)).bind(function(e){return Cb(J.fromDom(e),function(t){return $e(r,function(e){return e=e,wh(n,t.dom,e)?N.some(e):N.none()})},t)}).getOrNull()}function Nh(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Nb||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function Eh(e){if(e){var t=new fo(e,e);for(e=t.current();e;e=t.next())if(_(e))return e}return null}function kh(e){var t=J.fromTag("span");return _r(t,{id:Eb,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ur(t,J.fromText(Nb)),t}function _h(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,s=e.dom,c=e.selection;Nh(t)?Ep(e,!1,J.fromDom(t),n):(e=c.getRng(),n=s.getParent(t,s.isBlock),r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset,u=function(e){e=Eh(e);return e&&e.nodeValue.charAt(0)===Nb&&e.deleteData(0,1),e}(t),s.remove(t,!0),r===u&&0<o&&e.setStart(u,o-1),i===u&&0<a&&e.setEnd(u,a-1),n&&s.isEmpty(n)&&ob(J.fromDom(n)),c.setRng(e))}function Ah(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)_h(e,t,n);else if(!(t=hc(e.getBody(),o.getStart())))for(;t=r.get(Eb);)_h(e,t,!1)}function Rh(e,t){return e.appendChild(t),t}function Dh(e,t){return e=me(e,function(e,t){return Rh(e,t.cloneNode(!1))},t),Rh(e,e.ownerDocument.createTextNode(Nb))}function Th(t,e,n,r,o,i){var a,u,s=t.formatter,c=t.dom,l=b(We(s.get()),function(e){return e!==r&&!un(e,"removeformat")}),l=(a=t,u=n,Le(l,function(e,t){var n=Fc(a,t);return a.formatter.matchNode(u,t,{},n)?e.concat([t]):e},[]));return 0<b(l,function(e){return!Uc(t,e,r)}).length?(l=n.cloneNode(!1),c.add(e,l),s.remove(r,o,l,i),c.remove(l),N.some(l)):N.none()}function Oh(e,t,n,r){var o,i,a,u,s,c=e.dom,l=e.selection,f=[],d=l.getRng(),m=d.startContainer,g=d.startOffset,p=m;for(3===m.nodeType&&(g!==m.nodeValue.length&&(o=!0),p=p.parentNode);p;){if(wh(e,p,t,n,r)){i=p;break}p.nextSibling&&(o=!0),f.push(p),p=p.parentNode}i&&(o?(g=l.getBookmark(),d.collapse(!0),m=Qc(e,d,e.formatter.get(t),!0),m=$d(m),e.formatter.remove(t,n,m,r),l.moveToBookmark(g)):(d=hc(e.getBody(),i),m=kh(!1).dom,g=m,u=null!==d?d:i,(a=(s=(a=e).dom).getParent(u,h(Dc,a)))&&s.isEmpty(a)||(zg(J.fromDom(u)),s.isEmpty(u))?u.parentNode.replaceChild(g,u):s.insertAfter(g,u),a=Th(e,m,i,t,n,r),s=Dh(f.concat(a.toArray()),m),_h(e,d,!1),l.setCursorLocation(s,1),c.isEmpty(i)&&c.remove(i)))}function Bh(e,t){return e=e.schema.getTextInlineElements(),ee(e,jn(t))&&!dd(t.dom)&&!jt(t.dom)}function Ph(e){return Q(e)&&!gd(e)&&!dd(e)&&!jt(e)}function Lh(e,t){for(var n=e;n;n=n[t]){if(_(n)&&rt(n.data))return e;if(Q(n)&&!gd(n))return n}return e}function Ih(e,t,n){var r=Dg(e);if(t&&n&&(t=Lh(t,"previousSibling"),n=Lh(n,"nextSibling"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o,o=o.nextSibling;t.appendChild(i)}return e.remove(n),re.each(re.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function Mh(e,t,n,r){r&&!1!==t.merge_siblings&&(t=Ih(e,Rc(r),r),Ih(e,t,Rc(t,!0)))}function Fh(e,t,n){Db(e.childNodes,function(e){Ph(e)&&(t(e)&&n(e),e.hasChildNodes())&&Fh(e,t,n)})}function Uh(t,n){return function(e){return!(!e||!Lc(t,e,n))}}function zh(n,r,o){return function(e){var t;n.setStyle(e,r,o),""===e.getAttribute("style")&&e.removeAttribute("style"),t=n,"SPAN"===(e=e).nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)}}function Hh(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function jh(e,t,n){var r,o=t[n?"startContainer":"endContainer"],t=t[n?"startOffset":"endOffset"];return Q(o)&&(r=o.childNodes.length-1,!n&&t&&t--,o=o.childNodes[r<t?r:t]),_(o)&&n&&t>=o.nodeValue.length&&(o=new fo(o,e.getBody()).next()||o),o=_(o)&&!n&&0===t?new fo(o,e.getBody()).prev()||o:o}function Vh(e,t){var n,t=t?"firstChild":"lastChild";return/^(TR|TH|TD)$/.test(e.nodeName)&&e[t]?(n=e[t],"TR"===e.nodeName&&n[t]||n):e}function qh(e,t,n,r){return e=e.create(n,r),t.parentNode.insertBefore(e,t),e.appendChild(t),e}function $h(e,t,n,r,o){return t=J.fromDom(t),e=J.fromDom(e.create(r,o)),r=(n?xt:wt)(t),At(e,r),(n?(ar(t,e),_t):(kt(t,e),ur))(e,t),e.dom}function Wh(e,t,n,r){return t=Rc(t,n,r),ae(t)||"BR"===t.nodeName||e.isBlock(t)}function Kh(t,e,n){var r,o=e.parentNode,i=t.dom,a=sf(t);zc(n)&&(a?o!==i.getRoot()||n.list_block&&Pb(e,n.list_block)||X(qe(e.childNodes),function(e){Tc(t,a,e.nodeName.toLowerCase())?r?r.appendChild(e):(r=qh(i,e,a),i.setAttribs(r,t.settings.forced_root_block_attrs)):r=null}):i.isBlock(e)&&!i.isBlock(o)&&(Wh(i,e,!1)||Wh(i,e.firstChild,!0,!0)||e.insertBefore(i.create("br"),e.firstChild),Wh(i,e,!0)||Wh(i,e.lastChild,!1,!0)||e.appendChild(i.create("br")))),vd(o=n)&&bd(o)&&Nr(Ge(o,"mixed"),!0)&&!Pb(n.inline,e)||i.remove(e,!0)}function Xh(e,r,o,t,i){var n,a,u,s=e.dom;if(a=s,l=t,!(bd(u=r)&&Pb(l,u.inline)||zc(u)&&Pb(l,u.block)||(vd(u)?Q(l)&&a.is(l,u.selector):void 0)||(a=t,r.links&&"A"===a.nodeName)))return Tb.keep();var c=t;if(bd(r)&&"all"===r.remove&&P(r.preserve_attributes)){var l=b(s.getAttribs(c),function(e){return Oe(r.preserve_attributes,e.name.toLowerCase())});if(s.removeAllAttribs(c),X(l,function(e){return s.setAttrib(c,e.name,e.value)}),0<l.length)return Tb.rename("span")}if("all"!==r.remove){Bb(r.styles,function(e,t){e=Pc(s,hd(e,o),t+""),F(t)&&(t=e,i=null),!r.remove_similar&&i&&!Pb(Lc(s,i,t),e)||s.setStyle(c,t,""),n=!0}),n&&""===s.getAttrib(c,"style")&&(c.removeAttribute("style"),c.removeAttribute("data-mce-style")),Bb(r.attributes,function(e,t){var n;e=hd(e,o),F(t)&&(t=e,i=null),!r.remove_similar&&i&&!Pb(s.getAttrib(i,t),e)||("class"===t&&(e=s.getAttrib(c,t))&&(n="",X(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(n+=(n?" ":"")+e)}),n)?s.setAttrib(c,t,n):(Ob.test(t)&&c.removeAttribute("data-mce-"+t),"style"===t&&Ut(["li"])(c)&&"none"===s.getStyle(c,"list-style-type")?(c.removeAttribute(t),s.setStyle(c,"list-style-type","none")):("class"===t&&c.removeAttribute("className"),c.removeAttribute(t))))}),Bb(r.classes,function(e){e=hd(e,o),i&&!s.hasClass(i,e)||s.removeClass(c,e)});for(var f=s.getAttribs(c),d=0;d<f.length;d++){var m=f[d].nodeName;if(0!==m.indexOf("_")&&0!==m.indexOf("data-"))return Tb.keep()}}return"none"!==r.remove?(Kh(e,c,r),Tb.removed()):Tb.keep()}function Yh(t,e,n,r,o){return Xh(t,e,n,r,o).fold(l,function(e){return t.dom.rename(r,e),!0},se)}function Gh(e,t,n,r,o,i,a,u){var s,c,l=e.dom;if(n){for(var f=n.parentNode,d=r.parentNode;d&&d!==f;d=d.parentNode){for(var m=l.clone(d,!1),g=0;g<t.length&&null!==(m=function(t,e,n,r){return Xh(t,e,n,r,r).fold(K(r),function(e){return t.dom.createFragment().appendChild(r),t.dom.rename(r,e)},K(null))}(e,t[g],u,m));g++);m&&(s&&m.appendChild(s),c=c||m,s=m)}!i||a.mixed&&l.isBlock(n)||(r=l.split(n,r)),s&&(o.parentNode.insertBefore(s,o),c.appendChild(o),bd(a))&&Mh(l,a,0,s)}return r}function Jh(u,t,s,e,c){function o(e){var n,r,o,i,a;return r=t,o=s,i=c,X(Mc((n=u).dom,e.parentNode).reverse(),function(e){var t;a||"_start"===e.id||"_end"===e.id||(t=wh(n,e,r,o,i))&&!1!==t.split&&(a=e)}),Gh(u,l,a,e,e,!0,f,s)}function i(e){var t=m.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return g(n)&&(n=n[e?"firstChild":"lastChild"]),_(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),m.remove(t,!0),n}function n(e){if(e=Qc(u,e,l,e.collapsed),f.split){if(e=$d(e),(t=jh(u,e,!0))!==(n=jh(u,e))){var t=Vh(t,!0),n=Vh(n,!1);if(Hh(m,t,n))return r=N.from(t.firstChild).getOr(t),o($h(m,r,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void i(!0);if(Hh(m,n,t))return r=N.from(n.lastChild).getOr(n),o($h(m,r,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void i(!1);t=qh(m,t,"span",{id:"_start","data-mce-type":"bookmark"}),n=qh(m,n,"span",{id:"_end","data-mce-type":"bookmark"});var r=m.createRng();r.setStartAfter(t),r.setEndBefore(n),Zc(m,r,function(e){X(e,function(e){gd(e)||gd(e.parentNode)||o(e)})}),o(t),o(n),t=i(!0),n=i()}else t=n=o(t);e.startContainer=t.parentNode||t,e.startOffset=m.nodeIndex(t),e.endContainer=n.parentNode||n,e.endOffset=m.nodeIndex(n)+1}Zc(m,e,function(e){X(e,h)})}var r,l=u.formatter.get(t),f=l[0],d=!0,m=u.dom,a=u.selection,g=function(e){return gd(e)&&Q(e)&&("_start"===e.id||"_end"===e.id)},p=function(t){return Be(l,function(e){return Yh(u,e,s,t,t)})},h=function(t){var e,n,r=!0,o=!1,i=(Q(t)&&m.getContentEditable(t)&&(r=d,d="true"===m.getContentEditable(t),o=!0),qe(t.childNodes));if(d&&!o&&(e=p(t)||Be(l,function(e){return xb(m,t,e)}),n=t.parentNode,!e)&&Z(n)&&Hc(f)&&p(n),f.deep&&i.length){for(var a=0;a<i.length;a++)h(i[a]);o&&(d=r)}X(["underline","line-through","overline"],function(e){Q(t)&&u.dom.getStyle(t,"text-decoration")===e&&t.parentNode&&Ic(m,t.parentNode)===e&&Yh(u,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:e}},null,t)})};if(e)_c(e)?((r=m.createRng()).setStartBefore(e),r.setEndAfter(e),n(r)):n(e);else if("false"===m.getContentEditable(a.getNode())){e=a.getNode();for(var v=0;v<l.length&&(!l[v].ceFalseOverride||!Yh(u,l[v],s,e,e));v++);}else a.isCollapsed()&&bd(f)&&!Nd(u).length?Oh(u,t,s,c):(_d(a,!0,function(){kd(u,n)}),bd(f)&&xh(u,t,s,a.getStart())&&Ac(m,a,a.getRng()),u.nodeChanged());Fd(u,t,e,s)}function Qh(n,e,t,r){function o(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=Ic(n,e.parentNode),n.getStyle(e,"color")&&t?n.setStyle(e,"text-decoration",t):n.getStyle(e,"text-decoration")===t&&n.setStyle(e,"text-decoration",null))}e.styles&&(e.styles.color||e.styles.textDecoration)&&(re.walk(r,o,"childNodes"),o(r))}function Zh(i,e,a,u){Lb(e,function(t){var r,e,n,o;bd(t)&&Lb(i.dom.select(t.inline,u),function(e){Ph(e)&&Yh(i,t,a,e,t.exact?e:null)}),r=i.dom,n=u,(e=t).clear_child_styles&&(o=e.links?"*:not(a)":"*",Db(r.select(o,n),function(n){Ph(n)&&Db(e.styles,function(e,t){r.setStyle(n,t,"")})}))})}function ev(e){return Q(e)&&!gd(e)&&!dd(e)&&!jt(e)}function tv(e,t,n,r){return!(!e.getParam("format_empty_lines",!1,"boolean")||!bd(t))&&(t=ko(e.schema),e=J.fromDom(n),e=Jr(e,function(e){return dd(e.dom)}).isSome(),we(t,r))&&xi(J.fromDom(n.parentNode),!1)&&!e}function nv(p,h,v,r){function b(e,t){var n=!1;return Ib(e,function(e){return!!vd(e)&&((!Z(e.collapsed)||e.collapsed===m)&&w.is(t,e.selector)&&!dd(t)?(x(t,e),!(n=!0)):void 0)}),n}function n(d,e,c){var t,m=[],l=!0,f=C.inline||C.block,g=W(t=f)?(t=w.create(t),x(t),t):null;Zc(d,e,function(e){var u,s=function(e){var t=!1,n=l,r=e.nodeName.toLowerCase(),o=e.parentNode,i=o.nodeName.toLowerCase();if(Q(e)&&d.getContentEditable(e)&&(n=l,l="true"===d.getContentEditable(e),t=!0),A(e)&&!tv(p,C,e,i))u=null,zc(C)&&d.remove(e);else if(zc(C)&&C.wrapper&&wh(p,e,h,v))u=null;else if(l&&!t&&zc(C)&&!C.wrapper&&Dc(p,r)&&Tc(p,i,f))a=d.rename(e,f),x(a),m.push(a),u=null;else{if(vd(C)){var a=b(y,e);if(!a&&Z(o)&&Hc(C)&&(a=b(y,o)),!bd(C)||a)return void(u=null)}!l||t||!Tc(p,f,r)||!Tc(p,i,f)||!c&&_(e)&&Ko(e.data)||dd(e)||bd(C)&&d.isBlock(e)?(u=null,X(qe(e.childNodes),s),t&&(l=n),u=null):(u||(u=d.clone(g,!1),e.parentNode.insertBefore(u,e),m.push(u)),u.appendChild(e))}};X(e,s)}),!0===C.links&&X(m,function(e){var t=function(e){"A"===e.nodeName&&x(e,C),X(qe(e.childNodes),t)};t(e)}),X(m,function(e){n=0,X(e.childNodes,function(e){var t;Z(t=e)&&_(t)&&0===t.length||gd(e)||n++});var n,t,r,o,i,a,u,s,c,l,f=n;(1<m.length||!d.isBlock(e))&&0===f?d.remove(e,!0):(bd(C)||zc(C)&&C.wrapper)&&(C.exact||1!==f||(e=Ie((l=e).childNodes,ev).filter(function(e){return xb(d,e,C)}).map(function(e){var t=d.clone(e,!1);return x(t),d.replace(t,l,!0),d.remove(e,!0),t}).getOr(l)),Zh(p,y,v,e),a=C,u=h,s=v,wh(i=p,(c=e).parentNode,u,s)&&Yh(i,a,s,c)||a.merge_with_parents&&i.dom.getParent(c.parentNode,function(e){if(wh(i,e,u,s))return Yh(i,a,s,c),!0}),f=d,r=v,o=e,(t=C).styles&&t.styles.backgroundColor&&Fh(o,Uh(f,"fontSize"),zh(f,"backgroundColor",hd(t.styles.backgroundColor,r))),Qh(d,C,0,e),o=d,f=e,!bd(t=C)||"sub"!==t.inline&&"sup"!==t.inline||(Fh(f,Uh(o,"fontSize"),zh(o,"fontSize","")),o.remove(o.select("sup"===t.inline?"sub":"sup",f),!0)),Mh(d,C,0,e))})}var t,e,o,i,a,u,s,c,l,f,d,y=p.formatter.get(h),C=y[0],m=!r&&p.selection.isCollapsed(),w=p.dom,g=p.selection,x=function(n,e){var t;k((e=void 0===e?C:e).onformat)&&e.onformat(n,e,v,r),Ib(e.styles,function(e,t){w.setStyle(n,t,hd(e,v))}),e.styles&&(t=w.getAttrib(n,"style"))&&w.setAttrib(n,"data-mce-style",t),Ib(e.attributes,function(e,t){w.setAttrib(n,t,hd(e,v))}),Ib(e.classes,function(e){e=hd(e,v),w.hasClass(n,e)||w.addClass(n,e)})};if("false"===w.getContentEditable(g.getNode())){r=g.getNode();for(var S=0,N=y.length;S<N;S++){var E=y[S];if(E.ceFalseOverride&&vd(E)&&w.is(r,E.selector)){x(r,E);break}}}else C&&(r?_c(r)?b(y,r)||((o=w.createRng()).setStartBefore(r),o.setEndAfter(r),n(w,Qc(p,o,y),!0)):n(w,r,!0):m&&bd(C)&&!Nd(p).length?(o=h,i=v,u=(e=p).selection,s=u.getRng(),c=s.startOffset,l=s.startContainer.nodeValue,(f=hc(e.getBody(),u.getStart()))&&(a=Eh(f)),d=/[^\s\u00a0\u00ad\u200b\ufeff]/,l&&0<c&&c<l.length&&d.test(l.charAt(c))&&d.test(l.charAt(c-1))?(d=u.getBookmark(),s.collapse(!0),l=Qc(e,s,e.formatter.get(o)),l=$d(l),e.formatter.apply(o,i,l),u.moveToBookmark(d)):(f&&a.nodeValue===Nb||(l=e.getDoc(),d=kh(!0).dom,a=(f=l.importNode(d,!0)).firstChild,s.insertNode(f),c=1),e.formatter.apply(o,i,f),u.setCursorLocation(a,c))):(l=g.getNode(),d=y[0],p.settings.forced_root_block||!d.defaultBlock||w.getParent(l,w.isBlock)||nv(p,d.defaultBlock),g.setRng(nh(g.getRng())),_d(g,!0,function(){kd(p,function(e,t){t=t?e:Qc(p,e,y);n(w,t,!1)})}),Ac(w,g,g.getRng()),p.nodeChanged()),t=p,Rb(_b[h],function(e){e(t)}));Md(p,h,r,v)}function rv(e){return e.selection.getStart()}function ov(i,a,e){var u=Ub(i,a);Y(e,function(e,o){function t(e){var t,n=Fb(i,u,o,e.similar,Mb(e)?e.vars:void 0),r=n.isSome();e.state.get()!==r&&(e.state.set(r),t=n.getOr(a),Mb(e)?e.callback(r,{node:t,format:o,parents:u}):X(e.callbacks,function(e){return e(r,{node:t,format:o,parents:u})}))}X([e.withSimilar,e.withoutSimilar],t),X(e.withVars,t)})}function iv(o,e,t,i,a,u){var s=e.get();X(t.split(","),function(t){function e(){var e=Ub(o);return Fb(o,e,t,a,u).isSome()}var n,r=Ge(s,t).getOrThunk(function(){var e={withSimilar:{state:fl(!1),similar:!0,callbacks:[]},withoutSimilar:{state:fl(!1),similar:!1,callbacks:[]},withVars:[]};return s[t]=e});M(u)?((n=a?r.withSimilar:r.withoutSimilar).callbacks.push(i),1===n.callbacks.length&&n.state.set(e())):r.withVars.push({state:fl(e()),similar:a,vars:u,callback:i})}),e.set(s)}function av(e,o,i,a,t,n){var r,u;return null===o.get()&&(u=e,(r=o).set({}),u.on("NodeChange",function(e){ov(u,e.element,r.get())}),u.on("FormatApply FormatRemove",function(e){e=N.from(e.node).map(function(e){return _c(e)?e:e.startContainer}).bind(function(e){return Q(e)?N.some(e):N.from(e.parentElement)}).getOrThunk(function(){return rv(u)});ov(u,e,r.get())})),iv(e,o,i,a,t,n),{unbind:function(){return t=i,n=a,r=(e=o).get(),X(t.split(","),function(t){return Ge(r,t).each(function(e){r[t]={withSimilar:y(y({},e.withSimilar),{callbacks:b(e.withSimilar.callbacks,function(e){return e!==n})}),withoutSimilar:y(y({},e.withoutSimilar),{callbacks:b(e.withoutSimilar.callbacks,function(e){return e!==n})}),withVars:b(e.withVars,function(e){return e.callback!==n})}})}),void e.set(r);var e,t,n,r}}}function uv(e,t){var n=(t||document).createDocumentFragment();return X(e,function(e){n.appendChild(e.dom)}),J.fromDom(n)}function sv(e,t,n){return{element:e,width:t,rows:n}}function cv(e,t){return{element:e,cells:t}}function lv(e,t){return e=parseInt(Ar(e,t),10),isNaN(e)?1:e}function fv(e){return Le(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)}function dv(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(S(o[i],t))return N.some({x:i,y:r});return N.none()}function mv(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var s=a[u].cells,s=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(cv(a[u].element,s))}return i}function gv(e){var g=sv(us(e),0,[]);return X(bl(e,"tr"),function(d,m){X(bl(d,"td,th"),function(e,t){for(var n=g,r=function(e,t,n){for(;function(e,t,n){e=e.rows;return!!(e[n]?e[n].cells:[])[t]}(e,t,n);)t++;return t}(g,t,m),o=m,i=d,a=e,u=lv(a,"rowspan"),s=lv(a,"colspan"),c=n.rows,l=o;l<o+u;l++){c[l]||(c[l]=cv(ss(i),[]));for(var f=r;f<r+s;f++)c[l].cells[f]=l===o&&f===r?a:us(a)}})}),sv(g.element,fv(g.rows),g.rows)}function pv(e){return t=v((e=e).rows,function(e){var t=v(e.cells,function(e){e=ss(e);return Kt(e,"colspan"),Kt(e,"rowspan"),e}),e=us(e.element);return At(e,t),e}),e=us(e.element),n=J.fromTag("tbody"),At(n,t),ur(e,n),e;var t,n}function hv(a,e,t){return dv(a,e).bind(function(i){return dv(a,t).map(function(e){return t=a,e=e,r=(n=i).x,n=n.y,o=e.x,e=e.y,r=n<e?mv(t,r,n,o,e):mv(t,r,e,o,n),sv(t.element,fv(r),r);var t,n,r,o})})}function vv(t,n){return Ie(t,function(e){return"li"===jn(e)&&il(e,n)}).fold(K([]),function(e){return Ie(t,function(e){return"ul"===jn(e)||"ol"===jn(e)}).map(function(e){var t=J.fromTag(jn(e)),e=Ye(Yt(e),function(e,t){return sn(t,"list-style")});return Xt(t,e),[J.fromTag("li"),t]}).getOr([])})}function bv(e,t){var n,r=J.fromDom(t.commonAncestorContainer),e=ab(r,e),o=b(e,function(e){return po(e)||Lo(e)}),e=vv(e,t),t=o.concat(e.length?e:zo(n=r)?Yn(n).filter(Uo).fold(K([]),function(e){return[n,e]}):Uo(n)?[n]:[]);return v(t,us)}function yv(){return uv([])}function Cv(e,t){var n=J.fromDom(t.cloneContents()),e=bv(e,t);return n=Le(e,function(e,t){return ur(t,e),t},n),0<e.length?uv([n]):n}function wv(e,r){return t=r[0],Qr(t,"table",h(S,e)).bind(function(e){var t=r[0],n=r[r.length-1],e=gv(e);return hv(e,t,n).map(function(e){return uv([pv(e)])})}).getOrThunk(yv);var t}function xv(e,t){var n=tl(t,e);return 0<n.length?wv(e,n):(n=e,0<(e=t).length&&e[0].collapsed?yv():Cv(n,e[0]))}function Sv(e,t){return 0<=t&&t<e.length&&Ec(e.charAt(t))}function Nv(e,t){return e=Xo(e.innerText),t?e.replace(/^[ \f\n\r\t\v]+/,""):e}function Ev(e,t,n){t=t;var r,o,i,a,u,n=y(y({},n=void 0===n?{}:n),{format:t,get:!0,selection:!0});return(t=e.fire("BeforeGetContent",n)).isDefaultPrevented()?(e.fire("GetContent",t),t.content):"text"===t.format?(u=e,N.from(u.selection.getRng()).map(function(e){var t=N.from(u.dom.getParent(e.commonAncestorContainer,u.dom.isBlock)),n=u.getBody(),r=t.map(function(e){return e.nodeName}).getOr("div").toLowerCase(),o=G.browser.isIE()&&"pre"!==r,r=u.dom.add(n,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),e=Nv(r,o),i=Xo(r.textContent);return u.dom.remove(r),!Sv(i,0)&&!Sv(i,i.length-1)||(r=t.getOr(n),-1===(t=(i=Nv(r,o)).indexOf(e)))?e:(Sv(i,t-1)?" ":"")+e+(Sv(i,t+e.length)?" ":"")}).getOr("")):(t.getInner=!0,n=t,o=(r=e).selection.getRng(),i=r.dom.create("body"),a=r.selection.getSel(),a=Om(r,Sd(a)),(a=n.contextual?xv(J.fromDom(r.getBody()),a).dom:o.cloneContents())&&i.appendChild(a),o=r.selection.serializer.serialize(i,n),"tree"===t.format?o:(t.content=e.selection.isCollapsed()?"":o,e.fire("GetContent",t),t.content))}function kv(g,p){function c(e,t,n,r,o){var i=function(e,t,n,r){var o=t-e,i=r-n;if(o===0||i===0)return null;var a=o-i,u=i+o,s=(u%2===0?u:u+1)/2,c,l,f,d,m;for(h[1+s]=e,v[1+s]=t+1,c=0;c<=s;++c){for(l=-c;l<=c;l+=2){f=l+s;if(l===-c||l!==c&&h[f-1]<h[f+1])h[f]=h[f+1];else h[f]=h[f-1]+1;d=h[f];m=d-e+n-l;while(d<t&&m<r&&g[d]===p[m]){h[f]=++d;++m}if(a%2!==0&&a-c<=l&&l<=a+c)if(v[f-a]<=h[f])return b(v[f-a],l+e-n,t,r)}for(l=a-c;l<=a+c;l+=2){f=l+s-a;if(l===a-c||l!==a+c&&v[f+1]<=v[f-1])v[f]=v[f+1]-1;else v[f]=v[f-1];d=v[f]-1;m=d-e+n-l;while(d>=e&&m>=n&&g[d]===p[m]){v[f]=d--;m--}if(a%2===0&&-c<=l&&l<=c)if(v[f]<=h[f+a])return b(v[f],l+e-n,t,r)}}}(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,u=n;a<t||u<r;)a<t&&u<r&&g[a]===p[u]?(o.push([0,g[a]]),++a,++u):r-n<t-e?(o.push([2,g[a]]),++a):(o.push([1,p[u]]),++u);else{c(e,i.start,n,i.start-i.diag,o);for(var s=i.start;s<i.end;++s)o.push([0,g[s]]);c(i.end,t,i.end-i.diag,r,o)}}var e=g.length+p.length+2,h=new Array(e),v=new Array(e),b=function(e,t,n,r){for(var o=e;o-t<r&&o<n&&g[o]===p[o-t];)++o;return{start:e,end:o,diag:t}},e=[];return c(0,g.length,0,p.length,e),e}function _v(e){return Q(e)?e.outerHTML:_(e)?Mi.encodeRaw(e.data,!1):vr(e)?"\x3c!--"+e.data+"--\x3e":""}function Av(e,t,n){t=function(e){var t,n=document.createElement("div"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(t),e.hasChildNodes()&&n<e.childNodes.length?(n=e.childNodes[n]).parentNode.insertBefore(t,n):e.appendChild(t)}function Rv(e,n){var r=0;X(e,function(e){var t;0===e[0]?r++:1===e[0]?(Av(n,e[1],r),r++):2===e[0]&&(e=r,(t=n).hasChildNodes())&&e<t.childNodes.length&&(t=t.childNodes[e]).parentNode.removeChild(t)})}function Dv(e,t,n){var r,o,i,n=n?t.beforeBookmark:t.bookmark;"fragmented"===t.type?(r=t.fragments,o=e.getBody(),i=v(qe(o.childNodes),_v),Rv(kv(i,r),o)):e.setContent(t.content,{format:"raw",no_selection:!Z(n)||!vc(n)||!n.isFakeCaret}),e.selection.moveToBookmark(n)}function Tv(e){return"fragmented"===e.type?e.fragments.join(""):e.content}function Ov(e){var t=J.fromTag("body",zb());return _l(t,Tv(e)),X(bl(t,"*[data-mce-bogus]"),Dt),t.dom.innerHTML}function Bv(e){return 0===e.get()}function Pv(l){return{undoManager:{beforeChange:function(e,t){var n;n=l,t=t,Bv(e)&&t.set(af(n.selection))},add:function(e,t,n,r,o,i){var a=l,u=e,s=t,e=n,t=r,n=o,r=i,o=Hb(a);if(n=re.extend(n=n||{},o),!1===Bv(e)||a.removed)return null;if(o=u.data[s.get()],a.fire("BeforeAddUndo",{level:n,lastLevel:o,originalEvent:r}).isDefaultPrevented())return null;if(o&&jb(o,n))return null;if(u.data[s.get()]&&t.get().each(function(e){u.data[s.get()].beforeBookmark=e}),(e=a.getParam("custom_undo_redo_levels",0,"number"))&&u.data.length>e){for(var c=0;c<u.data.length-1;c++)u.data[c]=u.data[c+1];u.data.length--,s.set(u.data.length)}return n.bookmark=af(a.selection),s.get()<u.data.length-1&&(u.data.length=s.get()+1),u.data.push(n),s.set(u.data.length-1),t={level:n,lastLevel:o,originalEvent:r},0<s.get()?(a.setDirty(!0),a.fire("AddUndo",t),a.fire("change",t)):a.fire("AddUndo",t),n},undo:function(e,t,n){return r=l,t=t,n=n,(e=e).typing&&(e.add(),e.typing=!1,Vb(e,!1,t)),0<n.get()&&(n.set(n.get()-1),o=e.data[n.get()],Dv(r,o,!0),r.setDirty(!0),r.fire("Undo",{level:o})),o;var r,o},redo:function(e,t){return n=l,t=t,(e=e).get()<t.length-1&&(e.set(e.get()+1),r=t[e.get()],Dv(n,r,!1),n.setDirty(!0),n.fire("Redo",{level:r})),r;var n,r},clear:function(e,t){return n=l,t=t,(e=e).data=[],t.set(0),e.typing=!1,void n.fire("ClearUndos");var n},reset:function(e){(e=e).clear(),e.add()},hasUndo:function(e,t){return n=l,e=e,0<t.get()||e.typing&&e.data[0]&&!jb(Hb(n),e.data[0]);var n},hasRedo:function(e,t){return e=e,t.get()<e.data.length-1&&!e.typing},transact:function(e,t,n){return n=n,qb(e=e,t),e.beforeChange(),e.ignore(n),e.add()},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(e,t,n,r){var o,i;o=l,t=t,n=n,r=r,(e=e).transact(n)&&(n=e.data[t.get()].bookmark,i=e.data[t.get()-1],Dv(o,i,!0),e.transact(r))&&(e.data[t.get()-1].beforeBookmark=n)}},formatter:{match:function(e,t,n,r){return xh(l,e,t,n,r)},matchAll:function(e,t){return o=e,i=t,a=[],u={},e=(r=l).selection.getStart(),r.dom.getParent(e,function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&wh(r,e,n,i)&&(u[n]=!0,a.push(n))}},r.dom.getRoot()),a;var r,o,i,a,u},matchNode:function(e,t,n,r){return wh(l,e,t,n,r)},canApply:function(e){var t=l,n=t.formatter.get(e),r=t.dom;if(n)for(var e=t.selection.getStart(),o=Mc(r,e),i=n.length-1;0<=i;i--){var a=n[i];if(!vd(a)||Z(a.defaultBlock))return!0;for(var u=o.length-1;0<=u;u--)if(r.is(o[u],a.selector))return!0}return!1},closest:function(e){return Sh(l,e)},apply:function(e,t,n){return nv(l,e,t,n)},remove:function(e,t,n,r){return Jh(l,e,t,n,r)},toggle:function(e,t,n){var r,o;e=e,t=t,n=n,o=(r=l).formatter.get(e),(!xh(r,e,t,n)||"toggle"in o[0]&&!o[0].toggle?nv:Jh)(r,e,t,n)},formatChanged:function(e,t,n,r,o){return av(l,e,t,n,r,o)}},editor:{getContent:function(e,t){return n=l,r=e,o=t,N.from(n.getBody()).fold(K("tree"===r.format?new hg("body",11):""),function(e){return Rg(n,r,o,e)});var n,r,o},setContent:function(e,t){return bh(l,e,t)},insertContent:function(e,t){return mh(l,e,t)},addVisual:function(e){return e=e,o=(r=l).dom,t=Z(e)?e:r.getBody(),M(r.hasVisual)&&(r.hasVisual=r.getParam("visual",!0,"boolean")),X(o.select("table,a",t),function(e){switch(e.nodeName){case"TABLE":var t=r.getParam("visual_table_class","mce-item-table","string"),n=o.getAttrib(e,"border");n&&"0"!==n||!r.hasVisual?o.removeClass(e,t):o.addClass(e,t);break;case"A":o.getAttrib(e,"href")||(n=o.getAttrib(e,"name")||e.id,t=r.getParam("visual_anchor_class","mce-item-anchor","string"),n&&r.hasVisual?o.addClass(e,t):o.removeClass(e,t))}}),void r.fire("VisualAid",{element:e,hasVisual:r.hasVisual});var r,o,t}},selection:{getContent:function(e,t){return Ev(l,e,t)}},raw:{getModel:function(){return N.none()}}}}function Lv(e){function o(e){return B(e)?e:{}}var i=e.undoManager,a=e.formatter,n=e.editor,r=e.selection,t=e.raw;return{undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:function(e,t,n){return i.transact(n)},ignore:function(e,t){return i.ignore(t)},extra:function(e,t,n,r){return i.extra(n,r)}},formatter:{match:function(e,t,n,r){return a.match(e,o(t),r)},matchAll:a.matchAll,matchNode:a.matchNode,canApply:function(e){return a.canApply(e)},closest:function(e){return a.closest(e)},apply:function(e,t,n){return a.apply(e,o(t))},remove:function(e,t,n,r){return a.remove(e,o(t))},toggle:function(e,t,n){return a.toggle(e,o(t))},formatChanged:function(e,t,n,r,o){return a.formatChanged(t,n,r,o)}},editor:{getContent:function(e,t){return n.getContent(e)},setContent:function(e,t){return n.setContent(e,t)},insertContent:function(e,t){return n.insertContent(e)},addVisual:n.addVisual},selection:{getContent:function(e,t){return r.getContent(t)}},raw:{getModel:function(){return N.some(t.getRawModel())}}}}function Iv(e){return ee(e.plugins,"rtc")}function Mv(e){var r=e;return Ge(e.plugins,"rtc").bind(function(e){return N.from(e.setup)}).fold(function(){return r.rtcInstance=Pv(e),N.none()},function(e){var t,n;return r.rtcInstance=(t=K(null),n=K(""),{undoManager:{beforeChange:ne,add:t,undo:t,redo:t,clear:ne,reset:ne,hasUndo:l,hasRedo:l,transact:t,ignore:ne,extra:ne},formatter:{match:l,matchAll:K([]),matchNode:K(void 0),canApply:l,closest:n,apply:ne,remove:ne,toggle:ne,formatChanged:K({unbind:ne})},editor:{getContent:n,setContent:n,insertContent:ne,addVisual:ne},selection:{getContent:n},raw:{getModel:K(N.none())}}),N.some(function(){return e().then(function(e){return r.rtcInstance=Lv(e),e.rtc.isRemote})})})}function Fv(e){return 0===e.dom.length?(cr(e),N.none()):N.some(e)}function Uv(e,t,a,u){e.bind(function(i){return(u?mp:dp)(i.dom,u?i.dom.length:0),t.filter(qn).map(function(e){var t,n,r,o;e=e,n=a,r=u,t=(t=i).dom,e=e.dom,o=(r?t:e).length,r?(gp(t,e,!1,!r),n.setStart(e,o)):(gp(e,t,!1,!r),n.setEnd(e,o))})}).orThunk(function(){var e;return e=u,t.filter(function(e){return Bd.isBookmarkNode(e.dom)}).bind(e?Jn:Ct).or(t).filter(qn).map(function(e){var n,r;r=u,Yn(n=e).each(function(e){var t=n.dom;r&&rp(e,R(t,0))?dp(t,0):!r&&op(e,R(t,t.length))&&mp(t,t.length)})})})}var zv=re.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Hv=U(_g,wg),jv=U(_g,xg),Vv=re.each,qv=re.makeMap,$v=new Set,Wv=(X(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(e){$v.add(e)}),["font","text-decoration","text-emphasis"]),Kv=h(Ig,!0,Ec),Xv=h(Ig,!1,Ec),Yv=function(e){e=e.container();return _(e)&&(0===e.data.length||Ko(e.data)&&Bd.isBookmarkNode(e.parentNode))},Gv=Mg(!0,Fg),Jv=Mg(!1,Fg),Qv=Mg(!0,Sr),Zv=Mg(!1,Sr),eb=Mg(!0,Vt),tb=Mg(!1,Vt),nb=Mg(!0,Ug),rb=Mg(!1,Ug),ob=function(e){Rt(e),ur(e,J.fromHtml('<br data-mce-bogus="1">'))},ib=function(e,t){return jg(e,t,l)},ab=function(e,t){return[e].concat(ib(e,t))},ub=h(Wg,!1),sb=h(Wg,!0),cb=h($g,!1),lb=h($g,!0),fb=h(Xg,!1),db=h(Xg,!0),mb=Ln([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),gb=function(e){var t;return(8===ht(t=e)||"#comment"===jn(t)?Ct:Nt)(e).bind(gb).orThunk(function(){return N.some(e)})},pb=Yp,hb=Yp,vb=xr,bb=function(e){return k(e)?e:l},yb=function(e,t,n){for(var r=e.dom,o=bb(n);r.parentNode;){var r=r.parentNode,i=J.fromDom(r),a=t(i);if(a.isSome())return a;if(o(i))break}return N.none()},Cb=function(e,t,n){var r=t(e),o=bb(n);return r.orThunk(function(){return o(e)?N.none():yb(e,t,o)})},wb=Bc,xb=function(e,t,n){return!!wb(t,n.inline)||!!wb(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},Sb=function(e,t,n,r,o,i){var a=n[r];if(k(n.onmatch))return n.onmatch(t,n,r);if(a)if(M(a.length)){for(var u in a)if(ee(a,u)){var s="attributes"===r?e.getAttrib(t,u):Lc(e,t,u),c=hd(a[u],i),l=ae(s)||ot(s);if(!l||!ae(c)){if(o&&l&&!n.exact)return!1;if((!o||n.exact)&&!wb(s,Pc(e,c,u)))return!1}}}else for(var f=0;f<a.length;f++)if("attributes"===r?e.getAttrib(t,a[f]):Lc(e,t,a[f]))return!0;return!0},Nb=Wo,Eb="_mce_caret",kb=function(e,t){var n=e.selection,r=e.getBody();Ah(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==Nb||Ah(e,hc(r,n.getStart())),37!==t&&39!==t||Ah(e,hc(r,n.getStart()))},_b={},Ab=Ne,Rb=xe,Db=(Pn=function(e){var t,n=e.selection.getRng(),r=Ut(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),Rb(Ab(Ab(t,r),function(e){return r(e.previousSibling)&&-1!==Ee(t,e.previousSibling)}),function(e){var t;t=e.previousSibling,oe(e=e).remove(),oe(t).append("<br><br>").append(e.childNodes)}))},_b[n="pre"]||(_b[n]=[]),_b[n].push(Pn),re.each),Tb=Ln([{keep:[]},{rename:["name"]},{removed:[]}]),Ob=/^(src|href|style)$/,Bb=re.each,Pb=Bc,Lb=re.each,Ib=re.each,Mb=function(e){return ee(e,"vars")},Fb=function(t,e,n,r,o){return ge(e,function(e){e=t.formatter.matchNode(e,n,null!=o?o:{},r);return!M(e)},function(e){return!!yh(t,e,n)||!r&&Z(t.formatter.matchNode(e,n,o,!0))})},Ub=function(e,t){t=null!=t?t:rv(e);return b(Mc(e.dom,t),function(e){return Q(e)&&!jt(e)})},zb=et(function(){return document.implementation.createHTMLDocument("undo")}),Hb=function(e){var t=e.serializer.getTempAttrs(),e=Ag(e.getBody(),t);return null!==e.querySelector("iframe")?{type:"fragmented",fragments:(t=!0,b(v(qe(e.childNodes),t?U(Xo,_v):_v),function(e){return 0<e.length})),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Xo(e.innerHTML),bookmark:null,beforeBookmark:null}},jb=function(e,t){return!(!e||!t)&&(n=t,Tv(e)===Tv(n)||(n=t,Ov(e)===Ov(n)));var n},Vb=function(e,t,n){Bv(n)&&(e.typing=t)},qb=function(e,t){e.typing&&(Vb(e,!1,t),e.add())},$b=function(e){return e.rtcInstance||Pv(e)},f=function(e){e=e.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},Wb=function(e,t,n){return f(e).selection.getContent(t,n)},Kb=function(e,t){var n=N.from(t.firstChild).map(J.fromDom),r=N.from(t.lastChild).map(J.fromDom),t=(e.deleteContents(),e.insertNode(t),n.bind(Ct).filter(qn).bind(Fv)),o=r.bind(Jn).filter(qn).bind(Fv);Uv(t,n,e,!0),Uv(o,r,e,!1),e.collapse(!1)},Xb=function(e,t){return y(y({format:"html"},e),{set:!0,selection:!0,content:t})},Yb=function(e,t){var n;return"raw"!==t.format?(n=e.selection.getRng(),n=(n=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock))?{context:n.nodeName.toLowerCase()}:{},n=e.parser.parse(t.content,y(y({isRootContent:!0,forced_root_block:!1},n),t)),Og({validate:e.validate},e.schema).serialize(n)):t.content},Gb=function(e,t,n){var r;e&&ee(e,t)&&(0===(r=b(e[t],function(e){return e!==n})).length?delete e[t]:e[t]=r)};function Jb(n,r){function i(t,e){return Ie(e,function(e){return n.is(e,t)})}function a(e){return n.getParents(e,null,n.getRoot())}var u,s;return{selectorChangedWithUnbind:function(e,t){return u||(u={},s={},r.on("NodeChange",function(e){var n=e.element,r=a(n),o={};re.each(u,function(e,n){i(n,r).each(function(t){s[n]||(X(e,function(e){e(!0,{node:t,selector:n,parents:r})}),s[n]=e),o[n]=e})}),re.each(s,function(e,t){o[t]||(delete s[t],re.each(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),u[e]||(u[e]=[]),u[e].push(t),i(e,a(r.selection.getStart())).each(function(){s[e]=u[e]}),{unbind:function(){Gb(u,e,t),Gb(s,e,t)}}}}}function Qb(s,i,e,u){function t(e,t){var n=u;if(t=Xb(t=void 0===t?{}:t,e),!(e=t).no_events){t=n.fire("BeforeSetContent",t);if(t.isDefaultPrevented())return void n.fire("SetContent",t);e=t}e.content=Yb(n,e),t=n.selection.getRng(),Kb(t,t.createContextualFragment(e.content)),n.selection.setRng(t),Vm(n,t),e.no_events||n.fire("SetContent",e)}function r(e){var t=c();t.collapse(!!e),a(t)}function c(){function e(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var t,n,r=i.document;if(void 0!==u.bookmark&&!1===cg(u)){var o=Zm(u);if(o.isSome())return o.map(function(e){return Om(u,[e])[0]}).getOr(r.createRange())}try{(t=d())&&!Ft(t.anchorNode)&&(n=0<t.rangeCount?t.getRangeAt(0):(t.createRange?t:r).createRange(),n=Om(u,[n])[0])}catch(e){}return(n=n||(r.createRange?r.createRange():r.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(o=s.getRoot(),n.setStart(o,0),n.setEnd(o,0)),l&&f&&(0===e(n.START_TO_START,n,l)&&0===e(n.END_TO_END,n,l)?n=f:f=l=null),n}function a(e,t){var n;if((r=e)&&(!!cy(r)||ly(r.startContainer)&&ly(r.endContainer))){var r=cy(e)?e:null;if(r){f=null;try{r.select()}catch(e){}}else{r=d();if(e=u.fire("SetSelectionRange",{range:e,forward:t}).range,r){f=e;try{r.removeAllRanges(),r.addRange(e)}catch(e){}!1===t&&r.extend&&(r.collapse(e.endContainer,e.endOffset),r.extend(e.startContainer,e.startOffset)),l=0<r.rangeCount?r.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!r.setBaseAndExtent||G.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(r.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),r.anchorNode===e.startContainer&&r.focusNode===e.endContainer||r.setBaseAndExtent(n,0,n,1)),u.fire("AfterSetSelectionRange",{range:e,forward:t})}}}function n(){var e,t=d(),n=null==t?void 0:t.anchorNode,r=null==t?void 0:t.focusNode;return!(t&&n&&r&&!Ft(n)&&!Ft(r))||((e=s.createRng()).setStart(n,t.anchorOffset),e.collapse(!0),(n=s.createRng()).setStart(r,t.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)}var l,f,o=Jb(s,u).selectorChangedWithUnbind,d=function(){return i.getSelection?i.getSelection():i.document.selection},m={bookmarkManager:null,controlSelection:null,dom:s,win:i,serializer:e,editor:u,collapse:r,setCursorLocation:function(e,t){var n=s.createRng();Z(e)&&Z(t)?(n.setStart(e,t),n.setEnd(e,t),a(n),r(!1)):(Ed(s,n,u.getBody(),!0),a(n))},getContent:function(e){return t=(e=void 0===(e=e)?{}:e).format||"html",Wb(u,t,e);var t},setContent:t,getBookmark:function(e,t){return g.getBookmark(e,t)},moveToBookmark:function(e){return g.moveToBookmark(e)},select:function(e,t){var r,o;return r=s,o=t,N.from(e).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Ed(r,n,e,!0),Ed(r,n,e,!1)),n}).each(a),e},isCollapsed:function(){var e=c(),t=d();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:n,setNode:function(e){return t(s.getOuterHTML(e)),e},getNode:function(){return e=u.getBody(),(t=c())?(n=t.startContainer,r=t.endContainer,o=t.startOffset,i=t.endOffset,a=t.commonAncestorContainer,!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),3===n.nodeType)&&3===r.nodeType&&(n=n.length===o?gg(n.nextSibling,!0):n.parentNode,r=0===i?gg(r.previousSibling,!1):r.parentNode,n)&&n===r?n:a&&3===a.nodeType?a.parentNode:a):e;var e,t,n,r,o,i,a},getSel:d,setRng:a,getRng:c,getStart:function(e){return dg(u.getBody(),c(),e)},getEnd:function(e){return mg(u.getBody(),c(),e)},getSelectedBlocks:function(e,t){var n=s,r=c(),o=t,i=[],t=n.getRoot();if(e=n.getParent(e||dg(t,r,r.collapsed),n.isBlock),o=n.getParent(o||mg(t,r,r.collapsed),n.isBlock),e&&e!==t&&i.push(e),e&&o&&e!==o)for(var a,u=new fo(e,t);(a=u.next())&&a!==o;)n.isBlock(a)&&i.push(a);return o&&e!==o&&o!==t&&i.push(o),i},normalize:function(){var e=c(),t=d();return 1<Sd(t).length||!al(u)?e:((t=rm(s,e)).each(function(e){a(e,n())}),t.getOr(e))},selectorChanged:function(e,t){return o(e,t),m},selectorChangedWithUnbind:o,getScrollContainer:function(){for(var e,t=s.getRoot();t&&"BODY"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){Z(e)?(u.inline?zm:jm)(u,e,t):Vm(u,c(),t)},placeCaretAt:function(e,t){return a(zd(e,t,u.getDoc()))},getBoundingClientRect:function(){var e=c();return e.collapsed?R.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){i=l=f=null,p.destroy()}},g=Bd(m),p=Ud(m,u);return m.bookmarkManager=g,m.controlSelection=p,m}function Zb(e,a,u){e.addNodeFilter("font",function(e){X(e,function(e){var t,n=a.parse(e.attr("style")),r=e.attr("color"),o=e.attr("face"),i=e.attr("size");r&&(n.color=r),o&&(n["font-family"]=o),i&&(n["font-size"]=u[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",a.serialize(n)),t=e,X(["color","face","size"],function(e){t.attr(e,null)})})})}function ey(e){var t,e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}}function ty(e,t){var n;try{n=atob(t)}catch(e){return N.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return N.some(new Blob([r],{type:e}))}function ny(e){var o,r;return 0===e.indexOf("blob:")?(o=e,new so(function(e,t){function n(){t("Cannot convert "+o+" to Blob. Resource might not exist or is inaccessible.")}try{var r=new XMLHttpRequest;r.open("GET",o,!0),r.responseType="blob",r.onload=function(){200===r.status?e(r.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf("data:")?(r=e,new so(function(e){var t=ey(r),n=t.type,t=t.data;ty(n,t).fold(function(){return e(new Blob([]))},e)})):null}function ry(e){return(e||"blobid")+dy++}function oy(r,o,i,t){var e,n,a,u;0===o.src.indexOf("blob:")?(u=r.getByUri(o.src))?i({image:o,blobInfo:u}):ny(o.src).then(function(t){var n;n=t,new so(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)}).then(function(e){a=ey(e).data,u=r.create(ry(),t,a),r.add(u),i({image:o,blobInfo:u})})},function(e){t(e)}):(e=(n=ey(o.src)).data,n=n.type,a=e,(u=r.getByData(a,n))?i({image:o,blobInfo:u}):ny(o.src).then(function(e){u=r.create(ry(),e,a),r.add(u),i({image:o,blobInfo:u})},function(e){t(e)}))}function iy(r,o){var i={};return{findAll:function(e,n){n=n||se;e=b((e=e)?qe(e.getElementsByTagName("img")):[],function(e){var t=e.src;return!(!G.fileApi||e.hasAttribute("data-mce-bogus")||e.hasAttribute("data-mce-placeholder")||!t||t===G.transparentSrc)&&(0===t.indexOf("blob:")?!r.isUploaded(t)&&n(e):0===t.indexOf("data:")&&n(e))}),e=v(e,function(n){var e;return void 0!==i[n.src]?new so(function(t){i[n.src].then(function(e){if("string"==typeof e)return e;t({image:n,blobInfo:e.blobInfo})})}):(e=new so(function(e,t){oy(o,n,e,t)}).then(function(e){return delete i[e.image.src],e}).catch(function(e){return delete i[n.src],e}),i[n.src]=e)});return so.all(e)}}}function ay(e,t){return e.replace(t.re,function(e){return Ge(t.uris,e).getOr(e)})}function uy(e,g){var p=e.schema;g.remove_trailing_brs&&e.addNodeFilter("br",function(e,t,n){var r,o,i,a,u,s,c,l=e.length,f=re.extend({},p.getBlockElements()),d=p.getNonEmptyElements(),m=p.getWhiteSpaceElements();for(f.body=1,r=0;r<l;r++)if(i=(o=e[r]).parent,f[o.parent.name]&&o===i.lastChild){for(u=o.prev;u;){if("span"!==(s=u.name)||"bookmark"!==u.attr("data-mce-type")){"br"===s&&(o=null);break}u=u.prev}o&&(o.remove(),hy(p,d,m,i))&&(c=p.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&my(g,n,f,i))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!f[(a=i).name];)i=i.parent;a===i&&!0!==g.padd_empty_with_br&&((c=new hg("#text",3)).value=$o,o.replace(c))}}),e.addAttributeFilter("href",function(e){var t=e.length,n=function(e){return e.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")};if(!g.allow_unsafe_link_target)for(;t--;){var r=e[t];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",function(e){e=e?re.trim(e):"";return/\b(noopener)\b/g.test(e)?e:n(e)}(r.attr("rel")))}}),g.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if("a"===(o=e[i]).name&&o.firstChild&&!o.attr("href"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),g.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)"ul"!==(n=(t=e[r]).parent).name&&"ol"!==n.name||(t.prev&&"li"===t.prev.name?t.prev.append(t):((n=new hg("li",1)).attr("style","list-style-type: none"),t.wrap(n)))}),g.validate&&p.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t=p.getValidClasses(),n=e.length;n--;){for(var r=e[n],o=r.attr("class").split(" "),i="",a=0;a<o.length;a++){var u=o[a],s=!1,c=t["*"];c&&c[u]&&(s=!0),c=t[r.name],(s=!s&&c&&c[u]?!0:s)&&(i&&(i+=" "),i+=u)}i.length||(i=null),r.attr("class",i)}}),vy(e,g)}function sy(e,t,n){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?(e=e.allow_svg_data_urls,n=n,(Z(e)?!e:!Z(n)||!Oe(xy,n))&&/^data:image\/svg\+xml/i.test(t)):/^data:/i.test(t))}var cy=function(e){return!!e.select},ly=function(e){return!(!e||!e.ownerDocument)&&Hn(J.fromDom(e.ownerDocument),J.fromDom(e))},fy=function(e,t){var n,r=_o();t.convert_fonts_to_spans&&Zb(e,r,re.explode(t.font_size_legacy_values)),n=r,e.addNodeFilter("strike",function(e){X(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",e.name="span",e.attr("style",n.serialize(t))})})},dy=0,my=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new hg("br",1)).shortEnded=!0:r.empty().append(new hg("#text",3)).value=$o},gy=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},py=function(e,t){e=e.getElementRule(t.name);return e&&e.paddEmpty},hy=function(t,e,n,r){return r.isEmpty(e,n,function(e){return py(t,e)})},vy=function(e,o){function t(r){var e,t=r.attr("src");(e=r).attr("src")===G.transparentSrc||Z(e.attr("data-mce-placeholder"))||Z(r.attr("data-mce-bogus"))||function(e){e=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return e?N.some({type:e[1],data:decodeURIComponent(e[2])}):N.none()}(t).filter(function(){return e=r,!(t=o).images_dataimg_filter||((n=new Image).src=e.attr("src"),Y(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n));var e,t,n}).bind(function(e){var t=e.type,n=e.data;return N.from(i.getByData(n,t)).orThunk(function(){return ty(t,n).map(function(e){e=i.create(ry(),e,n);return i.add(e),e})})}).each(function(e){r.attr("src",e.blobUri())})}var i=o.blob_cache;i&&e.addAttributeFilter("src",function(e){return X(e,t)})},by=re.each,yy=re.trim,Cy="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),wy={ftp:21,http:80,https:443,mailto:25},xy=["img","video"],Sy=(Ny.parseDataUri=function(e){var t,e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]);return{type:t=n?n[1]:t,data:e[1]}},Ny.isDomSafe=function(t,e,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;t=Mi.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{t=decodeURIComponent(t)}catch(e){t=unescape(t)}return!/((java|vb)script|mhtml):/i.test(t)&&!sy(n,t,e)},Ny.getDocumentBaseUrl=function(e){e=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},Ny.prototype.setPath=function(e){e=/^(.*?)\/?(\w+)?$/.exec(e);this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},Ny.prototype.toRelative=function(e){var t,n;return"./"===e?e:"mce_host"!==(e=new Ny(e,{base_uri:this})).host&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&""!==e.protocol?e.getURI():(t=this.getURI())===(n=e.getURI())||"/"===t.charAt(t.length-1)&&t.substr(0,t.length-1)===n?t:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},Ny.prototype.toAbsolute=function(e,t){e=new Ny(e,{base_uri:this});return e.getURI(t&&this.isSameOrigin(e))},Ny.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=wy[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},Ny.prototype.toRelPath=function(e,t){var n,r,o=0,i="",a=e.substring(0,e.lastIndexOf("/")).split("/"),u=t.split("/");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+="../";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?"/"+u[n]:u[n];return i},Ny.prototype.toAbsPath=function(e,t){var n,r=0,o=[],i=/\/$/.test(t)?"/":"",e=e.split("/"),a=t.split("/");for(by(e,function(e){e&&o.push(e)}),e=o,n=a.length-1,o=[];0<=n;n--)0!==a[n].length&&"."!==a[n]&&(".."===a[n]?r++:0<r?r--:o.push(a[n]));return 0!==(t=(n=e.length-r)<=0?ze(o).join("/"):e.slice(0,n).join("/")+"/"+ze(o).join("/")).indexOf("/")&&(t="/"+t),i&&t.lastIndexOf("/")!==t.length-1&&(t+=i),t},Ny.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(this.protocol?t+=this.protocol+"://":t+="//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},Ny);function Ny(e,t){e=yy(e),this.settings=t||{};var n,r,o,i,t=this.settings.base_uri,a=this;/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)?a.source=e:(n=0===e.indexOf("//"),0!==e.indexOf("/")||n||(e=(t&&t.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new Ny(document.location.href).directory,e=this.settings.base_uri&&""==this.settings.base_uri.protocol?"//mce_host"+a.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(t&&t.protocol||"http")+"://mce_host"+a.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,"(mce_at)"),i=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),by(Cy,function(e,t){t=(t=i[t])&&t.replace(/\(mce_at\)/g,"@@");a[e]=t}),t&&(a.protocol||(a.protocol=t.protocol),a.userInfo||(a.userInfo=t.userInfo),a.port||"mce_host"!==a.host||(a.port=t.port),a.host&&"mce_host"!==a.host||(a.host=t.host),a.source=""),n&&(a.protocol=""))}function Ey(e,t,n){for(var r=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,o=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,i=e.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var s=r.exec(t);if(null===s)return u;if("!"===s[1]){u=sn(s[2],"--")?Qy(t,!1,s.index+"!--".length):Qy(t,!0,s.index+1);break}o.lastIndex=r.lastIndex;var c=o.exec(t);if(!L(c)&&c.index===r.lastIndex){"/"===s[1]?--a:ee(i,s[2])||(a+=1),u=r.lastIndex+c[0].length;break}}return u}function ky($,W){function n(u,e){void 0===e&&(e="html");for(var t,i,s,n,r,o,c,a,l,f,d,m,g,p,h,v,b,y,C,w=u.html,x=0,S=[],N=0,E=Mi.decode,k=re.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),_="html"===e?0:1,A=function(e){for(var t,n=S.length;n--&&S[n].name!==e;);if(0<=n){for(t=S.length-1;n<=t;t--)(e=S[t]).valid&&Z(e.name);S.length=n}},R=function(e,t){return J(ay(e,u),t)},D=function(e){""!==e&&(">"===e.charAt(0)&&(e=" "+e),$.allow_conditional_comments||"[if"!==e.substr(0,3).toLowerCase()||(e=" "+e),Y(ay(e,u)))},T=function(e,t){var n=e||"",r=!sn(n,"--"),o=Qy(w,r,t);return e=w.substr(t,o-t),D(r?n+e:e),o+1},I=function(e,t,n,r,o){if(t=t.toLowerCase(),r=t in z?t:E(n||r||o||""),n=ay(r,u),B&&!c&&!1==(0===(o=t).indexOf("data-")||0===o.indexOf("aria-"))){var i=g[t];if(!i&&p){for(var a=p.length;a--&&!(i=p[a]).pattern.test(t););-1===a&&(i=null)}if(!i)return;if(i.validValues&&!(n in i.validValues))return}("name"===t||"id"===t)&&e in Yy&&(n in K||n in X)||k[t]&&!Sy.isDomSafe(n,e,$)||c&&(t in k||0===t.indexOf("on"))||(s.map[t]=n,s.push({name:t,value:n}))},O=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>))","g"),M=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,F=W.getShortEndedElements(),U=$.self_closing_elements||W.getSelfClosingElements(),z=W.getBoolAttrs(),B=$.validate,H=$.remove_internals,j=$.fix_self_closing,V=W.getSpecialElements(),q=w+">";t=O.exec(q);){var P=t[0];if(x<t.index&&R(E(w.substr(x,t.index-x))),i=t[7])A(i=":"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i);else if(i=t[8]){if(t.index+P.length>w.length){R(E(w.substr(t.index))),x=t.index+P.length;continue}a=(i=":"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i)in F,j&&U[i]&&0<S.length&&S[S.length-1].name===i&&A(i);C=M,L=t[9];var L=(C=C.exec(L))&&(L=C[1],C=C[2],"string"==typeof L)&&"data-mce-bogus"===L.toLowerCase()?C:null;if(null!==L){if("all"===L){x=Ey(W,w,O.lastIndex),O.lastIndex=x;continue}f=!1}if(!B||(l=W.getElementRule(i))){if(f=!0,B&&(g=l.attributes,p=l.attributePatterns),(m=t[9])?((c=-1!==m.indexOf("data-mce-type"))&&H&&(f=!1),(s=[]).map={},m.replace(M,function(e,t,n,r,o){return I(i,t,n,r,o),""})):(s=[]).map={},B&&!c){if(h=l.attributesRequired,v=l.attributesDefault,b=l.attributesForced,l.removeEmptyAttrs&&!s.length&&(f=!1),b)for(n=b.length;n--;)o=(d=b[n]).name,"{$uid}"===(y=d.value)&&(y="mce_"+N++),s.map[o]=y,s.push({name:o,value:y});if(v)for(n=v.length;n--;)(o=(d=v[n]).name)in s.map||("{$uid}"===(y=d.value)&&(y="mce_"+N++),s.map[o]=y,s.push({name:o,value:y}));if(h){for(n=h.length;n--&&!(h[n]in s.map););-1===n&&(f=!1)}if(d=s.map["data-mce-bogus"]){if("all"===d){x=Ey(W,w,O.lastIndex),O.lastIndex=x;continue}f=!1}}f&&Q(i,s,a)}else f=!1;if(C=V[i]){C.lastIndex=x=t.index+P.length,x=(t=C.exec(w))?(f&&(r=w.substr(x,t.index-x)),t.index+t[0].length):(r=w.substr(x),w.length),f&&(0<r.length&&R(r,!0),Z(i)),O.lastIndex=x;continue}a||(m&&m.indexOf("/")===m.length-1?f&&Z(i):S.push({name:i,valid:f}))}else if(i=t[1])D(i);else if(i=t[2]){if(!(1==_||$.preserve_cdata||0<S.length&&W.isValidChild(S[S.length-1].name,"#cdata"))){x=T("",t.index+2),O.lastIndex=x;continue}G(i)}else if(i=t[3])te(i);else{if((i=t[4])||"<!"===P){x=T(i,t.index+P.length),O.lastIndex=x;continue}if(i=t[5]){if(1!=_){x=T("?",t.index+2),O.lastIndex=x;continue}ee(i,t[6])}}x=t.index+P.length}for(x<w.length&&R(E(w.substr(x))),n=S.length-1;0<=n;n--)(i=S[n]).valid&&Z(i.name)}void 0===W&&(W=Yi()),$=$||{};var K=Gy(),X=K.createElement("form"),Y=(!1!==$.fix_self_closing&&($.fix_self_closing=!0),$.comment||ne),G=$.cdata||ne,J=$.text||ne,Q=$.start||ne,Z=$.end||ne,ee=$.pi||ne,te=$.doctype||ne;return{parse:function(e,t){void 0===t&&(t="html"),n(function(e){for(var t,n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,r=[],o={},i=El("img"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+"_"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}var l=new RegExp(i+"_[0-9]+","g");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(""),re:l})}(e),t)}}}function _y(e){function t(e){return e&&"br"===e.name}var n,e=e.lastChild;t(e)&&t(n=e.prev)&&(e.remove(),n.remove())}function Ay(e,t){return{schema:(e=function(n,r){var e=["data-mce-selected"],o=r&&r.dom?r.dom:ie.DOM,i=r&&r.schema?r.schema:Yi(n),a=(n.entity_encoding=n.entity_encoding||"named",n.remove_trailing_brs=!("remove_trailing_brs"in n)||n.remove_trailing_brs,r0(n,i));o0(a,n,o);return{schema:i,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:function(e,t){t=y({format:"html"},t=void 0===t?{}:t),e=i0(r,e,t),e=u0(o,e,t),e=s0(a,e,t);return"tree"===t.format?e:c0(r,n,i,e,t)},addRules:i.addValidElements,setRules:i.setValidElements,addTempAttr:h(a0,a,e),getTempAttrs:K(e),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}}(e,t)).schema,addNodeFilter:e.addNodeFilter,addAttributeFilter:e.addAttributeFilter,serialize:e.serialize,addRules:e.addRules,setRules:e.setRules,addTempAttr:e.addTempAttr,getTempAttrs:e.getTempAttrs,getNodeFilters:e.getNodeFilters,getAttributeFilters:e.getAttributeFilters}}function Ry(e,t){var n=(t=void 0===t?{}:t).format||"html";return t=t,n=n,$b(e).editor.getContent(t,n)}function Dy(e,t,n){return t=t,n=n=void 0===n?{}:n,$b(e).editor.setContent(t,n)}function Ty(e){N.from(e).each(function(e){return e.destroy()})}function Oy(e){var t,n,r,o;e.removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&l0.remove(o.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&r&&l0.setStyle(e.id,"display",e.orgDisplay),e.fire("detach"),l0.remove(e.getContainer()),Ty(t),Ty(n),e.destroy())}function By(e,t){var n=e.selection,r=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Ty(n),Ty(r)),(n=(t=e).formElement)&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),l0.unbind(n,"submit reset",t.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())}function Py(e){function t(e){return ee(n,e)}var n=re.makeMap(e.plugins," "),e=Ze(Ze([],b(m0,t),!0),Fe(g0,function(e){return t(e)?[e+" (moving to premium)"]:[]}),!0);return He(e)}function Ly(e){return e=P(e)?e.join(" "):e,e=v(W(e)?e.split(" "):[],cn),b(e,function(e){return 0<e.length})}function Iy(n,e){var t;return ye(e,function(e,t){return Oe(n,t)},be(e={}),be(t={})),t=(e={t:e,f:t}).f,{sections:K(e.t),settings:K(t)}}function My(e,t){return ee(e.sections(),t)}function Fy(e,t){return Ge(e,"toolbar_mode").orThunk(function(){return Ge(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)}function Uy(e,t,n,r){return e&&(a=i="mobile",u=(o=t).sections(),My(o,i))&&u[i].theme===a?b(r,h(Oe,y0)):e&&My(t,"mobile")?r:n;var o,i,a,u}function zy(e,t,n,r){var n=Ly(n.forced_plugins),o=Ly(r.plugins),i=(a=My(a=t,i="mobile")?a.sections()[i]:{}).plugins?Ly(a.plugins):o,a=Uy(e,t,o,i),t=(e=a,[].concat(Ly(n)).concat(Ly(e)));if(G.browser.isIE()&&Oe(t,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return re.extend(r,{plugins:t.join(" ")})}function Hy(e,t,n){return N.from(t.settings[n]).filter(e)}function jy(e,t,n,r){var o,i,a,u=t in e.settings?e.settings[t]:n;return"hash"===r?(a={},"string"==typeof(i=u)?X(0<i.indexOf("=")?i.split(/[;,](?![^=;,]*(?:[;,]|$))/):i.split(","),function(e){e=e.split("=");1<e.length?a[re.trim(e[0])]=re.trim(e[1]):a[re.trim(e[0])]=re.trim(e[0])}):a=i,a):"string"===r?Hy(W,e,t).getOr(n):"number"===r?Hy(F,e,t).getOr(n):"boolean"===r?Hy(I,e,t).getOr(n):"object"===r?Hy(B,e,t).getOr(n):"array"===r?Hy(P,e,t).getOr(n):"string[]"===r?Hy((o=W,function(e){return P(e)&&Ue(e,o)}),e,t).getOr(n):"function"===r?Hy(k,e,t).getOr(n):u}function Vy(e,t){return t.dom[e]}function qy(e,t){return parseInt(Tr(t,e),10)}function $y(e,t,n){var r,o,i=J.fromDom(e.getBody()),i=e.inline?i:J.fromDom(Xn(i).dom.documentElement);return e=e.inline,t=t,n=n,r=(o=i).dom.getBoundingClientRect(),n=(t={x:t-(e?r.left+o.dom.clientLeft+_0(o):0),y:n-(e?r.top+o.dom.clientTop+k0(o):0)}).x,e=t.y,o=N0(r=i),r=E0(r),0<=n&&0<=e&&n<=o&&e<=r}function Wy(n){function t(t,e){if(void 0===e&&(e=!0),!n.removed&&A0(n))return e&&n.fire("BeforeOpenNotification",{notification:t}),Ie(o,function(e){return u(i().getArgs(e),t)}).getOrThunk(function(){n.editorManager.setActive(n);var e=i().open(t,function(){l(e),s(),a().fold(function(){return n.focus()},function(e){return qm(J.fromDom(e.getEl()))})});return c(e),s(),n.fire("OpenNotification",{notification:y({},e)}),e})}var r,o=[],i=function(){var e=n.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():R0()},a=function(){return N.from(o[0])},u=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},s=function(){0<o.length&&i().reposition(o)},c=function(e){o.push(e)},l=function(t){Me(o,function(e){return e===t}).each(function(e){o.splice(e,1)})},e=K(o);return(r=n).on("SkinLoaded",function(){var e=Cf(r);e&&t({text:e,type:"warning",timeout:0},!1),s()}),r.on("show ResizeEditor ResizeWindow NodeChange",function(){co.requestAnimationFrame(s)}),r.on("remove",function(){X(o.slice(),function(e){i().close(e)})}),{open:t,close:function(){a().each(function(e){i().close(e),l(e),s()})},getNotifications:e}}var Ky,Xy,Yy=re.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),Gy=et(function(){return document.implementation.createHTMLDocument("parser")}),Jy=function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))},Qy=function(e,t,n){void 0===n&&(n=0);var r,o=e.toLowerCase();return-1!==o.indexOf("[if ",n)&&Jy(o,n)?(r=o.indexOf("[endif]",n),o.indexOf(">",r)):t?-1!==(r=o.indexOf(">",n))?r:o.length:((t=/--!?>/g).lastIndex=n,(r=t.exec(e))?r.index+r[0].length:o.length)},Zy=(ky.findEndTag=Ey,re.makeMap),e0=re.each,t0=re.explode,n0=re.extend,r0=function(W,K){void 0===K&&(K=Yi());var e,t,X={},Y=[],G={},J={},Q=((W=W||{}).validate=!("validate"in W)||W.validate,W.root_name=W.root_name||"body",function(e){for(var t=e.name,n=(t in X&&((r=G[t])?r.push(e):G[t]=[e]),Y.length);n--;){var r,o=Y[n].name;o in e.attributes.map&&((r=J[o])?r.push(e):J[o]=[e])}return e}),n={schema:K,addAttributeFilter:function(e,n){e0(t0(e),function(e){for(var t=0;t<Y.length;t++)if(Y[t].name===e)return void Y[t].callbacks.push(n);Y.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(Y)},addNodeFilter:function(e,n){e0(t0(e),function(e){var t=X[e];t||(X[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e,t=[];for(e in X)ee(X,e)&&t.push({name:e,callbacks:X[e]});return t},filterNode:Q,parse:function(I,a){function M(){function e(e){e&&((t=e.firstChild)&&3===t.type&&(t.value=t.value.replace(y,"")),t=e.lastChild)&&3===t.type&&(t.value=t.value.replace(C,""))}var t=S.firstChild,n=null;if(K.isValidChild(S.name,v.toLowerCase())){for(;t;){var r=t.next;3===t.type||1===t.type&&"p"!==t.name&&!d[t.name]&&!t.attr("data-mce-type")?(n||((n=u(v,1)).attr(W.forced_root_block_attrs),S.insert(n,t)),n.append(t)):(e(n),n=null),t=r}e(n)}}function u(e,t){var n,t=new hg(e,t);return e in X&&((n=G[e])?n.push(t):G[e]=[t]),t}function s(e){for(var t=K.getBlockElements(),n=e.prev;n&&3===n.type;){var r=n.value.replace(C,"");if(0<r.length)return n.value=r;r=n.next;if(r){if(3===r.type&&r.value.length){n=n.prev;continue}if(!t[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}r=n.prev;n.remove(),n=r}}var e,t,n,r,o,c,i,l,f=[],d=(a=a||{},G={},J={},n0(Zy("script,style,head,html,body,title,meta,param"),K.getBlockElements())),F=ko(K),m=K.getNonEmptyElements(),g=K.children,p=W.validate,h=("forced_root_block"in a?a:W).forced_root_block,v=!1===(h=h)?"":!0===h?"p":h,b=K.getWhiteSpaceElements(),y=/^[ \t\r\n]+/,C=/[ \t\r\n]+$/,U=/[ \t\r\n]+/g,w=/^[ \t\r\n]+$/,x=ee(b,a.context)||ee(b,W.root_name),h=ky({validate:p,document:W.document,allow_html_data_urls:W.allow_html_data_urls,allow_svg_data_urls:W.allow_svg_data_urls,allow_script_urls:W.allow_script_urls,allow_conditional_comments:W.allow_conditional_comments,preserve_cdata:W.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(K.getSelfClosingElements()),cdata:function(e){l.append(u("#cdata",4)).value=e},text:function(e,t){var n,r;x||(e=e.replace(U," "),n=l.lastChild,r=d,n&&(ee(r,n.name)||"br"===n.name)&&(e=e.replace(y,""))),0!==e.length&&((r=u("#text",3)).raw=!!t,l.append(r).value=e)},comment:function(e){l.append(u("#comment",8)).value=e},pi:function(e,t){l.append(u(e,7)).value=t,s(l)},doctype:function(e){l.append(u("#doctype",10)).value=e,s(l)},start:function(e,t,n){var r=p?K.getElementRule(e):{};if(r){for(var o=u(r.outputName||e,1),r=(o.attributes=t,o.shortEnded=n,l.append(o),g[l.name]),i=(r&&g[o.name]&&!r[o.name]&&f.push(o),Y.length);i--;){var a=Y[i].name;a in t.map&&((c=J[a])?c.push(o):J[a]=[o])}d[e]&&s(o),n||(l=o),!x&&b[e]&&(x=!0)}},end:function(e){var t,n,r,o=p?K.getElementRule(e):{};if(o){if(d[e]&&!x){if((t=l.firstChild)&&3===t.type)if(0<(n=t.value.replace(y,"")).length)t.value=n,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.next,0!==n.length&&!w.test(n)||(t.remove(),t=r),t=r;if((t=l.lastChild)&&3===t.type)if(0<(n=t.value.replace(C,"")).length)t.value=n,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.prev,0!==n.length&&!w.test(n)||(t.remove(),t=r),t=r}x&&b[e]&&(x=!1);var e=hy(K,m,b,l),i=l.parent;o.paddInEmptyBlock&&e&&function(e){for(var t=e;Z(t);){if(t.name in F)return hy(K,m,b,t);t=t.parent}return!1}(l)?my(W,a,d,l):o.removeEmpty&&e?d[l.name]?l.empty().remove():l.unwrap():o.paddEmpty&&(gy(o=l,"#text")&&o.firstChild.value===$o||e)&&my(W,a,d,l),l=i}}},K),S=l=new hg(a.context||W.root_name,11);if(h.parse(I,a.format),p&&f.length)if(a.context)a.invalid=!0;else for(var N=f,z=Zy("tr,td,th,tbody,thead,tfoot,table"),H=K.getNonEmptyElements(),j=K.getWhiteSpaceElements(),V=K.getTextBlockElements(),q=K.getSpecialElements(),E=function(e,t){if(void 0===t&&(t=e.parent),q[e.name])e.empty().remove();else{for(var n=0,r=e.children();n<r.length;n++){var o=r[n];K.isValidChild(t.name,o.name)||E(o,t)}e.unwrap()}},k=0;k<N.length;k++){var _=N[k],A=void 0,R=void 0;if(_.parent&&!_.fixed)if(V[_.name]&&"li"===_.parent.name){for(var D=_.next;D&&V[D.name];)D.name="li",D.fixed=!0,_.parent.insert(D,_.parent),D=D.next;_.unwrap()}else{for(var T=[_],A=_.parent;A&&!K.isValidChild(A.name,_.name)&&!z[A.name];A=A.parent)T.push(A);if(A&&1<T.length)if(K.isValidChild(A.name,_.name)){T.reverse();for(var O,B=O=Q(T[0].clone()),P=0;P<T.length-1;P++){K.isValidChild(B.name,T[P].name)?(R=Q(T[P].clone()),B.append(R)):R=B;for(var L=T[P].firstChild;L&&L!==T[P+1];){var $=L.next;R.append(L),L=$}B=R}hy(K,H,j,O)?A.insert(_,T[0],!0):(A.insert(O,T[0],!0),A.insert(_,O)),(hy(K,H,j,A=T[0])||gy(A,"br"))&&A.empty().remove()}else E(_);else _.parent&&("li"===_.name?!(D=_.prev)||"ul"!==D.name&&"ol"!==D.name?!(D=_.next)||"ul"!==D.name&&"ol"!==D.name?_.wrap(Q(new hg("ul",1))):D.insert(_,D.firstChild,!0):D.append(_):K.isValidChild(_.parent.name,"div")&&K.isValidChild("div",_.name)?_.wrap(Q(new hg("div",1))):E(_))}}if(v&&("body"===S.name||a.isRootContent)&&M(),!a.invalid){for(i in G)if(ee(G,i)){for(c=X[i],r=(e=G[i]).length;r--;)e[r].parent||e.splice(r,1);for(t=0,n=c.length;t<n;t++)c[t](e,i,a)}for(t=0,n=Y.length;t<n;t++)if((c=Y[t]).name in J){for(r=(e=J[c.name]).length;r--;)e[r].parent||e.splice(r,1);for(r=0,o=c.callbacks.length;r<o;r++)c.callbacks[r](e,c.name,a)}}return S}};return uy(n,W),e=n,(t=W).inline_styles&&fy(e,t),n},o0=function(t,s,c){t.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr("tabindex",r.attr("data-mce-tabindex")),r.attr(t,null)}}),t.addAttributeFilter("src,href,style",function(e,t){for(var n="data-mce-"+t,r=s.url_converter,o=s.url_converter_scope,i=e.length;i--;){var a=e[i],u=a.attr(n);void 0!==u?(a.attr(t,0<u.length?u:null),a.attr(n,null)):(u=a.attr(t),"style"===t?u=c.serializeStyle(c.parseStyle(u),a.name):r&&(u=r.call(o,u,t,a.name)),a.attr(t,0<u.length?u:null))}}),t.addAttributeFilter("class",function(e){for(var t=e.length;t--;){var n,r=e[t];r.attr("class")&&(n=r.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",0<n.length?n:null))}}),t.addAttributeFilter("data-mce-type",function(e,t,n){for(var r=e.length;r--;){var o=e[r];"bookmark"!==o.attr("data-mce-type")||n.cleanup||(N.from(o.firstChild).exists(function(e){return!Ko(e.value)})?o.unwrap():o.remove())}}),t.addNodeFilter("noscript",function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=Mi.decode(n.value))}}),t.addNodeFilter("script,style",function(e,t){for(var n=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},r=e.length;r--;){var o,i=e[r],a=i.firstChild?i.firstChild.value:"";"script"===t?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===s.element_format&&0<a.length&&(i.firstChild.value="// <![CDATA[\n"+n(a)+"\n// ]]>")):"xhtml"===s.element_format&&0<a.length&&(i.firstChild.value="\x3c!--\n"+n(a)+"\n--\x3e")}}),t.addNodeFilter("#comment",function(e){for(var t=e.length;t--;){var n=e[t];s.preserve_cdata&&0===n.value.indexOf("[CDATA[")?(n.name="#cdata",n.type=4,n.value=c.decode(n.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===n.value.indexOf("mce:protected ")&&(n.name="#text",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}}),t.addNodeFilter("xml:namespace,input",function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1!==r.type||"input"!==t||r.attr("type")||r.attr("type","text")}}),t.addAttributeFilter("data-mce-type",function(e){X(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},i0=function(e,t,n){return u=n,(a=e)&&a.hasEventListeners("PreProcess")&&!u.no_events?(a=t,u=n,e=(n=e).dom,a=a.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(o=i.createHTMLDocument(""),re.each("BODY"===a.nodeName?a.childNodes:[a],function(e){o.body.appendChild(o.importNode(e,!0))}),a="BODY"!==a.nodeName?o.body.firstChild:o.body,r=e.doc,e.doc=o),i=n,n=y(y({},u),{node:a}),i.fire("PreProcess",n),r&&(e.doc=r),a):t;var r,o,i,a,u},a0=function(e,t,n){-1===re.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},u0=function(e,t,n){e=Xo(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Vo(J.fromDom(t))?e:re.trim(e)},s0=function(e,t,n){n=n.selection?y({forced_root_block:!1},n):n,e=e.parse(t,n);return _y(e),e},c0=function(e,t,n,r,o){r=r;t=Og(t,n).serialize(r);return n=e,r=t,!(e=o).no_events&&n?(n=n,e=y(y({},e),{content:r}),n.fire("PostProcess",e).content):r},l0=ie.DOM,f0=(Ky=function(e,t){return B(e)&&B(t)?f0(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)ee(i,o)&&(n[o]=Ky(n[o],i[o]))}return n}),d0="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),m0="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),g0="imagetools,toc".split(","),p0=function(e,t){n=e,e=b(d0,function(e){return ee(n,e)}),!1!==(o=n.forced_root_block)&&""!==o||e.push("forced_root_block (false only)");var n,r,o=He(e),e=Py(t),i=0<e.length,a=0<o.length,t="mobile"===t.theme;(i||a||t)&&(r="\n- ",t=t?"\n\nThemes:\n- mobile":"",i=i?"\n\nPlugins:\n- "+e.join(r):"",e=a?"\n\nSettings:\n- "+o.join(r):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+t+i+e))},r=Bn().deviceType,h0=r.isTouch(),v0=r.isPhone(),b0=r.isTablet(),y0=["lists","autolink","autosave"],C0={table_grid:!1,object_resizing:!1,resize:!1},w0=function(e,t,n,r,o){t={id:t,theme:"silver",toolbar_mode:Fy(e,"floating"),plugins:"",document_base_url:n,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:o.convertURL,url_converter_scope:o};return y(y({},t),r?C0:{})},x0=function(e,t,n,r,o){t=e?{mobile:function(e,t){e={resize:!1,toolbar_mode:Fy(e,"scrolling"),toolbar_sticky:!1};return y(y(y({},C0),e),t?{menubar:!1}:{})}(o.mobile||{},t)}:{},t=Iy(["mobile"],f0(t,o)),n=re.extend(n,r,t.settings(),(o=t,e&&My(o,"mobile")?function(e,t,n){void 0===n&&(n={});e=e.sections(),e=Ge(e,t).getOr({});return re.extend({},n,e)}(t,"mobile"):{}),{validate:!0,external_plugins:function(e,t){t=t.external_plugins||{};return e&&e.external_plugins?re.extend({},e.external_plugins,t):t}(r,t.settings())});return zy(e,t,r,n)},S0=(Xy={},{add:function(e,t){Xy[e]=t},get:function(e){return Xy[e]||{icons:{}}},has:function(e){return ee(Xy,e)}}),N0=h(Vy,"clientWidth"),E0=h(Vy,"clientHeight"),k0=h(qy,"margin-top"),_0=h(qy,"margin-left"),A0=function(e){e=e.inline?e.getBody():e.getContentAreaContainer();return N.from(e).map(J.fromDom).map(lr).getOr(!1)},R0=function(){function e(){throw new Error("Theme did not provide a NotificationManager implementation.")}return{open:e,close:e,reposition:e,getArgs:e}},D0=Xu.PluginManager,T0=Xu.ThemeManager;function O0(n){function o(){var e=n.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t};function t(){throw new Error("Theme did not provide a WindowManager implementation.")}}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r?r.apply(n,e):void 0}}function r(t){e(t),0===(u=b(u,function(e){return e!==t})).length&&n.focus()}function a(e){return n.editorManager.setActive(n),Qm(n),e=e(),t(e),e}var u=[],e=function(e){n.fire("CloseWindow",{dialog:e})},t=function(e){u.push(e),n.fire("OpenWindow",{dialog:e})};return n.on("remove",function(){X(u,function(e){o().close(e)})}),{open:function(e,t){return a(function(){return o().open(e,t,r)})},openUrl:function(e){return a(function(){return o().openUrl(e,r)})},alert:function(e,t,n){var r=o();r.alert(e,i(n||r,t))},confirm:function(e,t,n){var r=o();r.confirm(e,i(n||r,t))},close:function(){N.from(u[u.length-1]).each(function(e){o().close(e),r(e)})}}}function B0(e,t){e.notificationManager.open({type:"error",text:t})}function P0(e,t){e._skinLoaded?B0(e,t):e.on("SkinLoaded",function(){B0(e,t)})}function L0(e,t,n){Id(e,t,{message:n}),console.error(n)}function I0(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t}function M0(e,t,n){L0(e,"PluginLoadError",I0("plugin",t,n))}function F0(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Ze([e],t,!1))}function U0(e){return z0(e,(t=(e=e).getParam("content_css"),W(t)?v(t.split(","),cn):P(t)?t:!1===t||e.inline?[]:["default"]));var t}function z0(t,e){var n=t.editorManager.baseURL+"/skins/content",r="content"+t.editorManager.suffix+".css",o=!0===t.inline;return v(e,function(e){return ux(e)&&!o?n+"/"+e+"/"+r:t.documentBaseURI.toAbsolute(e)})}function H0(e){e.contentCSS=e.contentCSS.concat(U0(e),z0(e,Fs(e)))}function j0(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in r}var r={};return{hasBlobUri:t,getResultUri:function(e){e=r[e];return e?e.resultUri:null},isPending:function(e){return!!t(e)&&1===r[e].status},isUploaded:function(e){return!!t(e)&&2===r[e].status},markPending:function(e){r[e]=n(1,null)},markUploaded:function(e,t){r[e]=n(2,t)},removeFailed:function(e){delete r[e]},destroy:function(){r={}}}}function V0(e){return e+sx+++("s"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}function q0(){function i(e){var t,n,r;if(e.blob&&e.base64)return t=e.id||V0("blobid"),n=e.name||t,r=e.blob,{id:K(t),name:K(n),filename:K(e.filename||n+"."+o(r.type)),blob:K(r),base64:K(e.base64),blobUri:K(e.blobUri||URL.createObjectURL(r)),uri:K(e.uri)};throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}function t(t){return e(function(e){return e.id()===t})}var n=[],o=function(e){return{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[e.toLowerCase()]||"dat"},e=function(e){return Ie(n,e).getOrUndefined()};return{create:function(e,t,n,r,o){if(W(e))return i({id:e,name:r,filename:o,blob:t,base64:n});if(B(e))return i(e);throw new Error("Unknown input type")},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()===t})},getByData:function(t,n){return e(function(e){return e.base64()===t&&e.blob().type===n})},findFirst:e,removeByUri:function(t){n=b(n,function(e){return e.blobUri()!==t||(URL.revokeObjectURL(e.blobUri()),!1)})},destroy:function(){X(n,function(e){URL.revokeObjectURL(e.blobUri())}),n=[]}}}function $0(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function W0(e,t){return cx(t,{url:mf(e),basePath:gf(e),credentials:pf(e),handler:hf(e)})}function K0(a){function o(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function t(t){return u=u||W0(a,c),h().then(d(function(i){var e=v(i,function(e){return e.blobInfo});return u.upload(e,$0(a)).then(d(function(e){var o=[],e=v(e,function(e,t){var n,r=i[t].blobInfo,t=i[t].image;return e.status&&a.getParam("images_replace_blob_uris",!0,"boolean")?(s.removeByUri(t.src),Iv(a)||p(t,e.url)):e.error&&(e.error.options.remove&&(g(t.getAttribute("src"),G.transparentSrc),o.push(t)),n=e.error.message,P0(a,gl.translate(["Failed to upload image: {0}",n]))),{element:t,status:e.status,uploadUri:e.url,blobInfo:r}});return 0<e.length&&f.fireIfChanged(),0<o.length&&(Iv(a)?console.error("Removing images on failed uploads is currently unsupported for RTC"):a.undoManager.transact(function(){X(o,function(e){a.dom.remove(e),s.removeByUri(e.src)})})),t&&t(e),e}))}))}function e(e){if(Ls(a))return t(e)}function n(t){return!1!==Ue(l,function(e){return e(t)})&&(0!==t.getAttribute("src").indexOf("data:")||a.getParam("images_dataimg_filter",se,"function")(t))}function r(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var t=c.getResultUri(n);return t?'src="'+t+'"':(t=(t=s.getByUri(n))||Le(a.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+t.blob().type+";base64,"+t.base64()+'"':e})}var u,i,s=q0(),c=j0(),l=[],f=function(n){var r=fl(null);n.on("change AddUndo",function(e){r.set(y({},e.level))});return{fireIfChanged:function(){var t=n.undoManager.data;Ve(t).filter(function(e){return!jb(r.get(),e)}).each(function(e){n.setDirty(!0),n.fire("change",{level:e,lastLevel:he(t,t.length-2).getOrNull()})})}}}(a),d=function(t){return function(e){return a.selection?t(e):[]}},m=function(e,t,n){var r='src="'+n+'"'+(n===G.transparentSrc?' data-mce-placeholder="1"':"");return e=o(e,'src="'+t+'"',r),e=o(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},g=function(t,n){X(a.undoManager.data,function(e){"fragmented"===e.type?e.fragments=v(e.fragments,function(e){return m(e,t,n)}):e.content=m(e.content,t,n)})},p=function(e,t){var n=a.convertURL(t,"src");g(e.src,t),a.$(e).attr({src:a.getParam("images_reuse_filename",!1,"boolean")?t+(-1===t.indexOf("?")?"?":"&")+(new Date).getTime():t,"data-mce-src":n})},h=function(){return(i=i||iy(c,s)).findAll(a.getBody(),n).then(d(function(e){return e=b(e,function(e){return"string"!=typeof e||(P0(a,e),!1)}),Iv(a)||X(e,function(e){g(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))};return a.on("SetContent",function(){(Ls(a)?e:h)()}),a.on("RawSaveContent",function(e){e.content=r(e.content)}),a.on("GetContent",function(e){e.source_view||"raw"===e.format||"tree"===e.format||(e.content=r(e.content))}),a.on("PostRender",function(){a.parser.addNodeFilter("img",function(e){X(e,function(e){var t=e.attr("src");s.getByUri(t)||(t=c.getResultUri(t))&&e.attr("src",t)})})}),{blobCache:s,addFilter:function(e){l.push(e)},uploadImages:t,uploadImagesAuto:e,scanForImages:h,destroy:function(){s.destroy(),c.destroy(),i=u=null}}}function X0(e){function n(e,t){e&&(W(e)?(P(t)||(t=[t]),X(t,function(e){M(e.deep)&&(e.deep=!vd(e)),M(e.split)&&(e.split=!vd(e)||bd(e)),M(e.remove)&&vd(e)&&!bd(e)&&(e.remove="none"),vd(e)&&bd(e)&&(e.mixed=!0,e.block_expand=!0),W(e.classes)&&(e.classes=e.classes.split(/\s+/))}),r[e]=t):Y(e,function(e,t){n(t,e)}))}var r={};return n(lx(e.dom)),n(wf(e)),{get:function(e){return Z(e)?r[e]:r},has:function(e){return ee(r,e)},register:n,unregister:function(e){return e&&r[e]&&delete r[e],r}}}function Y0(e){var t,i={classes:[],attrs:{}};return"*"!==(e=i.selector=re.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,n,r,o){switch(t){case"#":i.attrs.id=n;break;case".":i.classes.push(n);break;case":":-1!==re.inArray("checked disabled enabled read-only required".split(" "),n)&&(i.attrs[n]=n)}return"["===r&&(t=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(i.attrs[t[1]]=t[2]),""})),i.name=t||"div",i}function G0(n,e){var r,o="",t=xf(n);if(""===t)return"";function i(e){return e.replace(/%(\w+)/g,"")}if("string"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}if("preview"in e){var a=Ge(e,"preview");if(Nr(a,!1))return"";t=a.getOr(t)}var a=e.block||e.inline||"span",u=(u=gx(e.selector)).length?(u[0].name||(u[0].name=a),a=e.selector,mx(u,n)):mx([a],n),s=dx.select(a,u)[0]||u.firstChild;return fx(e.styles,function(e,t){e=i(e);e&&dx.setStyle(s,t,e)}),fx(e.attributes,function(e,t){e=i(e);e&&dx.setAttrib(s,t,e)}),fx(e.classes,function(e){e=i(e);dx.hasClass(s,e)||dx.addClass(s,e)}),n.fire("PreviewFormats"),dx.setStyles(u,{position:"absolute",left:-65535}),n.getBody().appendChild(u),r=dx.getStyle(n.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,fx(t.split(" "),function(e){var t=dx.getStyle(s,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(t)&&(t=dx.getStyle(n.getBody(),e,!0),"#ffffff"===dx.toHex(t).toLowerCase())||"color"===e&&"#000000"===dx.toHex(t).toLowerCase())){if("font-size"===e&&/em|%$/.test(t)){if(0===r)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*r+"px"}"border"===e&&t&&(o+="padding:0 2px;"),o+=e+":"+t+";"}}),n.fire("AfterPreviewFormats"),dx.remove(u),o}function J0(i){var t,e=X0(i),a=fl(null),n=i;n.addShortcut("meta+b","","Bold"),n.addShortcut("meta+i","","Italic"),n.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)n.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);return n.addShortcut("access+7","",["FormatBlock",!1,"p"]),n.addShortcut("access+8","",["FormatBlock",!1,"div"]),n.addShortcut("access+9","",["FormatBlock",!1,"address"]),(t=i).on("mouseup keydown",function(e){kb(t,e.keyCode)}),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(e,t,n){e=e,t=t,n=n,f(i).formatter.apply(e,t,n)},remove:function(e,t,n,r){e=e,t=t,n=n,r=r,f(i).formatter.remove(e,t,n,r)},toggle:function(e,t,n){e=e,t=t,n=n,f(i).formatter.toggle(e,t,n)},match:function(e,t,n,r){return e=e,t=t,n=n,r=r,f(i).formatter.match(e,t,n,r)},closest:function(e){return e=e,f(i).formatter.closest(e)},matchAll:function(e,t){return e=e,t=t,f(i).formatter.matchAll(e,t)},matchNode:function(e,t,n,r){return e=e,t=t,n=n,r=r,f(i).formatter.matchNode(e,t,n,r)},canApply:function(e){return e=e,f(i).formatter.canApply(e)},formatChanged:function(e,t,n,r){return o=a,e=e,t=t,n=n,r=r,f(i).formatter.formatChanged(o,e,t,n,r);var o},getCssText:h(G0,i)}}function Q0(n,r,o){function i(e){Vb(r,!1,o),r.add({},e)}var a=fl(!1);n.on("init",function(){r.add()}),n.on("BeforeExecCommand",function(e){e=e.command;px(e)||(qb(r,o),r.beforeChange())}),n.on("ExecCommand",function(e){var t=e.command;px(t)||i(e)}),n.on("ObjectResizeStart cut",function(){r.beforeChange()}),n.on("SaveContent ObjectResized blur",i),n.on("dragend",i),n.on("keyup",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(i(),n.nodeChanged()),46!==t&&8!==t||n.nodeChanged(),a.get()&&r.typing&&!1===jb(Hb(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire("change",{level:r.data[0],lastLevel:null})),n.fire("TypingUndo"),a.set(!1),n.nodeChanged()))}),n.on("keydown",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?r.typing&&i(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||r.typing||t||(r.beforeChange(),Vb(r,!0,o),r.add({},e),a.set(!0))))}),n.on("mousedown",function(e){r.typing&&i(e)}),n.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data||("insertFromPaste"===(t=e).inputType||"insertFromDrop"===t.inputType))&&i(e)}),n.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||n.nodeChanged()})}function Z0(a){var e,u=hl(),s=fl(0),c=fl(0),l={data:[],typing:!1,beforeChange:function(){var e,t;e=s,t=u,f(a).undoManager.beforeChange(e,t)},add:function(e,t){return n=l,r=c,o=s,i=u,e=e,t=t,f(a).undoManager.add(n,r,o,i,e,t);var n,r,o,i},undo:function(){return e=l,t=s,n=c,f(a).undoManager.undo(e,t,n);var e,t,n},redo:function(){return e=c,t=l.data,f(a).undoManager.redo(e,t);var e,t},clear:function(){var e,t;e=l,t=c,f(a).undoManager.clear(e,t)},reset:function(){var e;e=l,f(a).undoManager.reset(e)},hasUndo:function(){return e=l,t=c,f(a).undoManager.hasUndo(e,t);var e,t},hasRedo:function(){return e=l,t=c,f(a).undoManager.hasRedo(e,t);var e,t},transact:function(e){return t=l,n=s,e=e,f(a).undoManager.transact(t,n,e);var t,n},ignore:function(e){var t;t=s,e=e,f(a).undoManager.ignore(t,e)},extra:function(e,t){var n,r;n=l,r=c,e=e,t=t,f(a).undoManager.extra(n,r,e,t)}};return Iv(a)||Q0(a,l,s),(e=a).addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),l}function eC(e){return"keydown"===e.type||"keyup"===e.type}function tC(e){return(e=e.keyCode)===q.BACKSPACE||e===q.DELETE}function nC(s){function c(e,t){var n,r,o,i,a,u;eC(n=e)&&(u=n.keyCode,!tC(n))&&(q.metaKeyPressed(n)||n.altKey||112<=u&&u<=123||Oe(hx,u))||(n=s.getBody(),r=!(eC(u=e)&&!(tC(u)||"keyup"===u.type&&229===u.keyCode)||(e=l,r=n,o=f,!xi(J.fromDom(r),!1))||(i=""===o,(a=r.firstElementChild)&&(e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")||(i?e.isBlock(a):o!==a.nodeName.toLowerCase())))),""!==l.getAttrib(n,vx)==r&&!t)||(l.setAttrib(n,vx,r?d:null),l.setAttrib(n,"aria-placeholder",r?d:null),s.fire("PlaceholderToggle",{state:r}),s.on(r?"keydown":"keyup",c),s.off(r?"keyup":"keydown",c))}var l=s.dom,f=sf(s),d=s.getParam("placeholder",uf.getAttrib(s.getElement(),"placeholder"),"string");d&&s.on("init",function(e){c(e,!0),s.on("change SetContent ExecCommand",c),s.on("paste",function(e){return co.setEditorTimeout(s,function(){return c(e)})})})}function rC(e,t){return gt(J.fromDom(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function oC(e){return"rtl"===ie.DOM.getStyle(e,"direction",!0)||(e=e.textContent,bx.test(e))}function iC(e,t,n){return e=e,t=t,n=b(ie.DOM.getParents(n.container(),"*",t),e),N.from(n[n.length-1])}function aC(e){return Fo(e)||zo(e)}function uC(e,t){return Hn(e,t)?Gr(t,aC,(n=e,function(e){return S(n,J.fromDom(e.dom.parentNode))})):N.none();var n}function sC(e){var t;e.dom.isEmpty(e.getBody())&&(e.setContent(""),t=(t=(e=e).getBody()).firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t,e.selection.setCursorLocation(t,0))}function cC(e,t){return{from:e,to:t}}function lC(e,t){var e=J.fromDom(e),n=J.fromDom(t.container());return uC(e,n).map(function(e){return{block:e,position:t}})}function fC(o,i,e){var t=(e=lC(o,R.fromRangeStart(e))).bind(function(e){return id(i,o,e.position).bind(function(e){return lC(o,e).map(function(e){return t=o,n=i,A((r=e).position.getNode())&&!1===xi(r.block)?pc(!1,r.block.dom).bind(function(e){return e.isEqual(r.position)?id(n,t,e).bind(function(e){return lC(t,e)}):N.some(r)}).getOr(r):r;var t,n,r})})});return $t(e,t,cC).filter(function(e){return!1===S(e.from.block,e.to.block)&&Yn((n=e).from.block).bind(function(t){return Yn(n.to.block).filter(function(e){return S(t,e)})}).isSome()&&(!1===E((e=e).from.block.dom)&&!1===E(e.to.block.dom));var n})}function dC(e){t=Qn(e);var t,e=Me(t,Io).fold(K(t),function(e){return t.slice(0,e)});return X(e,cr),e}function mC(e,t){t=ab(t,e),Ie(t.reverse(),function(e){return xi(e)}).each(cr)}function gC(e,t,n,r){return xi(n)?(ob(n),cd(n.dom)):(0===b(wt(r),function(e){return!xi(e)}).length&&xi(t)&&ar(r,J.fromTag("br")),n=sd(n.dom,R.before(r.dom)),X(dC(t),function(e){ar(r,e)}),mC(e,t),n)}function pC(e,t,n){var r;return xi(n)?(cr(n),xi(t)&&ob(t),cd(t.dom)):(r=ld(n.dom),X(dC(t),function(e){ur(n,e)}),mC(e,t),r)}function hC(e,t){return Hn(t,e)?(e=ab(e=e,t),N.from(e[e.length-1])):N.none()}function vC(e,t){pc(e,t.dom).map(function(e){return e.getNode()}).map(J.fromDom).filter(Mo).each(cr)}function bC(e,t,n){return vC(!0,t),vC(!1,n),hC(t,n).fold(h(pC,e,t,n),h(gC,e,t,n))}function yC(e,t,n,r){return t?bC(e,r,n):bC(e,n,r)}function CC(t,n){var e,r,o=J.fromDom(t.getBody()),i=(i=o.dom,e=n,((r=t.selection.getRng()).collapsed?fC(i,e,r):N.none()).bind(function(e){return yC(o,n,e.from.block,e.to.block)}));return i.each(function(e){t.selection.setRng(e.toRange())}),i.isSome()}function wC(e,t){return t=J.fromDom(t),e=h(S,e),Yr(t,jo,e).isSome()}function xC(e,t){var n=sd(e.dom,R.fromRangeStart(t)).isNone(),r=ud(e.dom,R.fromRangeEnd(t)).isNone();return!(wC(e=e,(t=t).startContainer)||wC(e,t.endContainer))&&n&&r}function SC(e){var n,r,o,t=J.fromDom(e.getBody()),i=e.selection.getRng();return xC(t,i)?((i=e).setContent(""),i.selection.setCursorLocation(),!0):(n=t,r=e.selection,o=r.getRng(),$t(uC(n,J.fromDom(o.startContainer)),uC(n,J.fromDom(o.endContainer)),function(e,t){return!1===S(e,t)&&(o.deleteContents(),yC(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1))}function NC(e,t){return!e.selection.isCollapsed()&&SC(e)}function EC(e,t,n,r,o){return N.from(t._selectionOverrides.showCaret(e,n,r,o))}function kC(e,t){return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?N.none():N.some(((t=(e=t).ownerDocument.createRange()).selectNode(e),t))}function _C(e,t,n){var t=oc(1,e.getBody(),t),r=(t=R.fromRangeStart(t)).getNode();return Qs(r)?EC(1,e,r,!t.isAtEnd(),!1):(r=t.getNode(!0),Qs(r)?EC(1,e,r,!1,!1):(r=e.dom.getParent(t.getNode(),function(e){return Sx(e)||xx(e)}),Qs(r)?EC(1,e,r,!1,n):N.none()))}function AC(e,t,n){return t.collapsed?_C(e,t,n).getOr(t):t}function RC(e){return nb(e)||Qv(e)}function DC(e){return rb(e)||Zv(e)}function TC(n,r,e,t,o,i){return EC(t,n,i.getNode(!o),o,!0).each(function(e){var t;(r.collapsed?(t=r.cloneRange(),o?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t):r).deleteContents(),n.selection.setRng(e)}),t=n.dom,_(i=e)&&0===i.data.length&&t.remove(i),!0}function OC(e,t){return t=t,u=(e=e).selection.getRng(),!(!_(u.commonAncestorContainer)||(n=t?ul.Forwards:ul.Backwards,a=cc(e.getBody()),a=h(uc,t?a.next:a.prev),r=t?RC:DC,o=ac(n,e.getBody(),u),!(i=yx(t,a(o))))||!sc(o,i))&&(r(i)?TC(e,u,o.getNode(),n,t,i):!!((a=a(i))&&r(a)&&sc(i,a))&&TC(e,u,o.getNode(),n,t,a));var n,r,o,i,a,u}function BC(t,e,n,r){function o(e){return po(J.fromDom(e))&&!Vf(n,r,t)}return ic(!e,n).fold(function(){return ic(e,r).fold(l,o)},o)}function PC(e,t,n,r){var o=r.getNode(!1===t);return uC(J.fromDom(e),J.fromDom(n.getNode())).map(function(e){return xi(e)?Nx.remove(e.dom):Nx.moveToElement(o)}).orThunk(function(){return N.some(Nx.moveToElement(o))})}function LC(n,r,o){return id(r,n,o).bind(function(e){return t=e.getNode(),jo(J.fromDom(t))||zo(J.fromDom(t))||BC(n,r,o,e)?N.none():r&&E(e.getNode())||!1===r&&E(e.getNode(!0))?PC(n,r,o,e):r&&rb(o)||!1===r&&nb(o)?N.some(Nx.moveToPosition(e)):N.none();var t})}function IC(r,e,o){return function(e,t){t=t.getNode(!1===e),e=e?"after":"before";return Q(t)&&t.getAttribute("data-mce-caret")===e}(e,o)?(t=e,n=o.getNode(!1===e),(t&&E(n.nextSibling)?N.some(Nx.moveToElement(n.nextSibling)):!1===t&&E(n.previousSibling)?N.some(Nx.moveToElement(n.previousSibling)):N.none()).fold(function(){return LC(r,e,o)},N.some)):LC(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return N.some(Nx.remove(e))},function(e){return N.some(Nx.moveToElement(e))},function(e){return Vf(n,e,t)?N.none():N.some(Nx.moveToPosition(e))});var t,n});var t,n}function MC(e,t){return N.from(Pd(e.getBody(),t))}function FC(a,u){var e=a.selection.getNode();return MC(a,e).filter(E).fold(function(){return e=a.getBody(),t=u,n=a.selection.getRng(),n=oc(t?1:-1,e,n),n=R.fromRangeStart(n),r=J.fromDom(e),(!1===t&&rb(n)?N.some(Nx.remove(n.getNode(!0))):t&&nb(n)?N.some(Nx.remove(n.getNode())):!1===t&&nb(n)&&Gg(r,n)?fb(r,n).map(function(e){return Nx.remove(e.getNode())}):t&&rb(n)&&Yg(r,n)?db(r,n).map(function(e){return Nx.remove(e.getNode())}):IC(e,t,n)).exists(function(e){return e.fold(function(e){return o._selectionOverrides.hideFakeCaret(),Ep(o,i,J.fromDom(e)),!0},(r=i=u,function(e){e=r?R.before(e):R.after(e);return n.selection.setRng(e.toRange()),!0}),(t=n=o=a,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i});var e,t,n,r},se)}function UC(t,n){var e=t.selection.getNode();return!(!E(e)||xr(e))&&MC(t,e.parentNode).filter(E).fold(function(){var e;return e=J.fromDom(t.getBody()),X(bl(e,".mce-offscreen-selection"),cr),Ep(t,n,J.fromDom(t.selection.getNode())),sC(t),!0},se)}function zC(e){var t,n=e.dom,r=e.selection,e=Pd(e.getBody(),r.getNode());return wr(e)&&n.isBlock(e)&&n.isEmpty(e)&&(t=n.create("br",{"data-mce-bogus":"1"}),n.setHTML(e,""),e.appendChild(t),r.setRng(R.before(t).toRange())),!0}function HC(e,t){return(e.selection.isCollapsed()?FC:UC)(e,t)}function jC(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,e=R.fromRangeStart(n.selection.getRng()),id(r,n.getBody(),e).filter(function(e){return(r?Gv:Jv)(e)}).bind(function(e){return N.from(tc(r?0:-1,e))}).exists(function(e){return n.selection.select(e),!0}));var n,r}function VC(e,t){return e?Ex((e=t).previousSibling)?(_x(e.previousSibling)||e.previousSibling.appendData(Wo),e.previousSibling):Ex(e)?(kx(e)||e.insertData(0,Wo),e):(n=Ax(e),e.parentNode.insertBefore(n,e),n):Ex((e=t).nextSibling)?(kx(e.nextSibling)||e.nextSibling.insertData(0,Wo),e.nextSibling):Ex(e)?(_x(e)||e.appendData(Wo),e):(n=Ax(e),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n);var n}function qC(e,t){return _(e.container())?VC(t,e.container()):VC(t,e.getNode())}function $C(e,t){return(t=t.get())&&e.container()===t&&Qo(t)}function WC(t,e){return e.fold(function(e){Xs(t.get());e=Rx(e);return t.set(e),N.some(R(e,e.length-1))},function(e){return cd(e).map(function(e){return $C(e,t)?R(t.get(),1):(Xs(t.get()),e=qC(e,!0),t.set(e),R(e,1))})},function(e){return ld(e).map(function(e){return $C(e,t)?R(t.get(),t.get().length-1):(Xs(t.get()),e=qC(e,!1),t.set(e),R(e,e.length-1))})},function(e){Xs(t.get());e=Dx(e);return t.set(e),N.some(R(e,1))})}function KC(e,t){return(t=jf(t,e))||e}function XC(e,t){return null===hc(e,t)}function YC(e,t,n){return iC(e,t,n).filter(h(XC,t))}function GC(e){return e.fold(H,H,H,H)}function JC(e){return e.fold(K("before"),K("start"),K("end"),K("after"))}function QC(e){return e.fold(Ox.start,Ox.start,Ox.end,Ox.end)}function ZC(e,t){return e?t.fold(U(N.some,Ox.start),N.none,U(N.some,Ox.after),N.none):t.fold(N.none,U(N.some,Ox.before),N.none,U(N.some,Ox.end))}function e1(e,a,u,s){var t=yx(e,s),c=Fx(a,u,t);return Fx(a,u,t).bind(h(ZC,e)).orThunk(function(){return n=a,r=u,o=c,i=yx(t=e,s),id(t,r,i).map(h(yx,t)).fold(function(){return o.map(Ux)},function(e){return Fx(n,r,e).map(h(zx,t,n,r,i,e)).filter(h(Hx,o))}).filter(Mx);var t,n,r,o,i})}function t1(e,t){return e===ul.Backwards?ze(t):t}function n1(e,t,n,r){for(var o,i=cc(n),a=r,u=[];a;){c=i,s=a;var s,c=t===ul.Forwards?c.next(s):c.prev(s);if(!c)break;if(A(c.getNode(!1)))return t===ul.Forwards?{positions:t1(t,u).concat([c]),breakType:ix.Br,breakAt:N.some(c)}:{positions:t1(t,u),breakType:ix.Br,breakAt:N.some(c)};if(c.isVisible()){if(e(a,c))return s=a,s=A((o=c).getNode(t===ul.Forwards))?ix.Br:!1===Vf(s,o)?ix.Block:ix.Wrap,{positions:t1(t,u),breakType:s,breakAt:N.some(c)};u.push(c)}a=c}return{positions:t1(t,u),breakType:ix.Eol,breakAt:N.none()}}function r1(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===ul.Backwards?t.concat(e):[e].concat(t)}).getOr([])}function o1(e,o){return Le(e,function(e,r){return e.fold(function(){return N.some(r)},function(n){return $t(je(n.getClientRects()),je(r.getClientRects()),function(e,t){e=Math.abs(o-e.left);return Math.abs(o-t.left)<=e?r:n}).or(e)})},N.none())}function i1(t,e){return je(e.getClientRects()).bind(function(e){return o1(t,e.left)})}function a1(e){return Fe(e,Xx)}function u1(o,i,a,e,u,t){function n(e){var t=a1([e]);-1===o&&(t=t.reverse());for(var n=0;n<t.length;n++){var r=t[n];if(!a(r,l)){if(0<c.length&&i(r,Qe(c))&&s++,r.line=s,u(r))return!0;c.push(r)}}}var s=0,c=[],l=Qe(t.getClientRects());return l&&(n(t=t.getNode()),function(e,t,n,r){for(;r=Hf(r,e,pi,t);)if(n(r))return}(o,e,n,t)),c}function s1(e,t,n,r){function o(e){return Qe(e.getClientRects())}var i,a,u,t=cc(t),s=[],c=0,l=1===e?(i=t.next,a=gs,u=ms,R.after(r)):(i=t.prev,a=ms,u=gs,R.before(r)),f=o(l);do{if(l.isVisible()){var d=o(l);if(!u(d,f)){0<s.length&&a(d,Qe(s))&&c++;d=Rl(d);if(d.position=l,d.line=c,n(d))return s;s.push(d)}}}while(l=i(l));return s}function c1(t){return function(e){return e.line>t}}function l1(t){return function(e){return e.line===t}}function f1(e,t){return Math.abs(e.left-t)}function d1(e,t){return Math.abs(e.right-t)}function m1(e,t){return e>=t.left&&e<=t.right}function g1(e,t){return e>=t.top&&e<=t.bottom}function p1(e,o,i){return void 0===i&&(i=se),ke(e,function(e,t){var n,r;return m1(o,t)?i(t)?t:e:m1(o,e)?i(e)?e:t:(n=Math.min(f1(e,o),d1(e,o)),(r=Math.min(f1(t,o),d1(t,o)))===n&&we(t,"node")&&Jx(t.node)||r<n?t:e)})}function h1(e,t,n,r,o){var i=Qx(r,e,pi,t,!o);do{if(!i||n(i))return}while(i=Qx(i,e,pi,t))}function v1(e,n,t){function r(t,e){return e=b(a1([e]),function(e){return!t(e,n)}),o=o.concat(e),0===e.length}void 0===t&&(t=!0);var o=[];return o.push(n),h1(ax.Up,e,h(r,ms),n.node,t),h1(ax.Down,e,h(r,gs),n.node,t),o}function b1(e,t,n){function r(e){return!Vt(e.node)&&!Sr(e.node)}var o=a1(b(qe(e.getElementsByTagName("*")),Zs)),o=b(o,h(g1,n));if(n=p1(o,t,r)){o=r(n);if((n=p1(v1(e,n,o),t,r))&&Zs(n.node))return e=t,{node:(o=n).node,before:f1(o,e)<d1(o,e)}}return null}function y1(e,t){e.selection.setRng(t),Vm(e,e.selection.getRng())}function C1(e,t,n){return N.some(AC(e,t,n))}function w1(e,t,n,r,o,i){var a=t===ul.Forwards,u=cc(e.getBody()),u=h(uc,a?u.next:u.prev),r=a?r:o;if(!n.collapsed){o=ps(n);if(i(o))return EC(t,e,o,t===ul.Backwards,!1)}var i=ac(t,e.getBody(),n);return r(i)?kC(e,i.getNode(!a)):(o=yx(a,u(i)),i=oi(n),o?r(o)?EC(t,e,o.getNode(!a),a,!1):(u=u(o))&&r(u)&&sc(o,u)?EC(t,e,u.getNode(!a),a,!1):i?C1(e,o.toRange(),!1):N.none():i?N.some(n):N.none())}function x1(t,e,n,r,o,i){var a=ac(e,t.getBody(),n),u=Qe(a.getClientRects()),s=e===ax.Down;if(!u)return N.none();var c=(s?Gx:Yx)(t.getBody(),c1(1),a),c=b(c,l1(1)),u=u.left,l=p1(c,u);if(l&&i(l.node))return i=Math.abs(u-l.left),f=Math.abs(u-l.right),EC(e,t,l.node,i<f,!1);if(l=r(a)?a.getNode():o(a)?a.getNode(!0):ps(n)){var i=s1(e,t.getBody(),c1(1),l),f=p1(b(i,l1(1)),u);if(f)return C1(t,f.position.toRange(),!1);if(f=Qe(b(i,l1(0))))return C1(t,f.position.toRange(),!1)}return 0===c.length?S1(t,s).filter(s?o:r).map(function(e){return AC(t,e.toRange(),!1)}):N.none()}function S1(e,t){var n,r,o=e.selection.getRng(),e=e.getBody();return(t?(n=R.fromRangeEnd(o),r=$x(e,n),Ve):(n=R.fromRangeStart(o),r=qx(e,n),je))(r.positions)}function N1(t,e,n){return S1(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})}function E1(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function k1(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")}function _1(t,e,n){return WC(e,n).map(function(e){return E1(t,e),n})}function A1(e,t){var n,r;e.selection.isCollapsed()&&!0!==e.composing&&t.get()&&(n=R.fromRangeStart(e.selection.getRng()),R.isTextPosition(n))&&!1===(ti(r=n)||ni(r))&&(E1(e,Ks(t.get(),n)),t.set(null))}function R1(e,t,n){return!!Hs(e)&&(o=t,t=n,n=(r=e).getBody(),e=R.fromRangeStart(r.selection.getRng()),i=h(rC,r),e1(t,i,n,e).bind(function(e){return _1(r,o,e)}).isSome());var r,o,i}function D1(e,t,n){return!!Hs(t)&&(e=e,r=(t=t).selection.getRng(),r=e?R.fromRangeEnd(r):R.fromRangeStart(r),!!jx(t))&&(e&&ti(r)?Vx(!0,t.selection,r):!(e||!ni(r))&&Vx(!1,t.selection,r));var r}function T1(u){var s=fl(null),c=h(rC,u);return u.on("NodeChange",function(e){var t,n,r,o,i,a;!Hs(u)||G.browser.isIE()&&e.initial||(a=c,t=u.dom,n=e.parents,t=v(bl(J.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom}),t=b(t,a),n=b(n,a),X(pe(t,n),h(k1,!1)),X(pe(n,t),h(k1,!0)),A1(u,s),r=c,o=u,i=s,a=e.parents,o.selection.isCollapsed()&&(a=b(a,r),X(a,function(e){var t=R.fromRangeStart(o.selection.getRng());Fx(r,o.getBody(),t).bind(function(e){return _1(o,i,e)})})))}),s}function O1(t,n,r){var e;return!!Hs(t)&&(e=S1(t,n).getOrThunk(function(){var e=t.selection.getRng();return n?R.fromRangeEnd(e):R.fromRangeStart(e)}),Fx(h(rC,t),t.getBody(),e).exists(function(e){e=Ux(e);return WC(r,e).exists(function(e){return E1(t,e),!0})}))}function B1(t,n){return function(e){return WC(n,e).exists(function(e){return E1(t,e),!0})}}function P1(r,o,i,a){var u=r.getBody(),s=h(rC,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand("Delete"),Fx(s,u,R.fromRangeStart(r.selection.getRng())).map(QC).map(B1(r,o))}),r.nodeChanged()}function L1(n,r,o,i){var a=function(e,t){t=jf(t,e);return t||e}(n.getBody(),i.container()),u=h(rC,n),s=Fx(u,a,i);return s.bind(function(e){return o?e.fold(K(N.some(QC(e))),N.none,K(N.some(Ux(e))),N.none):e.fold(N.none,K(N.some(Ux(e))),N.none,K(N.some(QC(e))))}).map(B1(n,r)).getOrThunk(function(){var t=gc(o,a,i),e=t.bind(function(e){return Fx(u,a,e)});return $t(s,e,function(){return iC(u,a,i).exists(function(e){return!!$t(cd(r=e),ld(r),function(e,t){var e=yx(!0,e),n=yx(!1,t);return ud(r,e).forall(function(e){return e.isEqual(n)})}).getOr(!0)&&(Ep(n,o,J.fromDom(e)),!0);var r})}).orThunk(function(){return e.bind(function(e){return t.map(function(e){return o?P1(n,r,i,e):P1(n,r,e,i),!0})})}).getOr(!1)})}function I1(e,t,n){var r;return!(!e.selection.isCollapsed()||!Hs(e))&&(r=R.fromRangeStart(e.selection.getRng()),L1(e,t,n,r))}function M1(e){return 1===er(e)}function F1(e,t,n,r){var o=h(Bh,t);0===(r=v(b(r,o),function(e){return e.dom})).length?Ep(t,e,n):(o=n.dom,e=r,n=kh(!1),e=Dh(e,n.dom),ar(J.fromDom(o),n),cr(J.fromDom(o)),r=R(e,0),t.selection.setRng(r.toRange()))}function U1(n,r){var t,e=J.fromDom(n.getBody()),o=J.fromDom(n.selection.getStart()),u=b((t=ab(o,e),Me(t,Io).fold(K(t),function(e){return t.slice(0,e)})),M1);return Ve(u).exists(function(e){var o,i,a,t=R.fromRangeStart(n.selection.getRng());return o=r,i=t,a=e.dom,!(!$t(cd(a),ld(a),function(e,t){var n=yx(!0,e),r=yx(!1,t),e=yx(!1,i);return o?ud(a,e).exists(function(e){return e.isEqual(r)&&i.isEqual(n)}):sd(a,e).exists(function(e){return e.isEqual(n)&&i.isEqual(r)})}).getOr(!0)||dd((t=e).dom)&&Nh(t.dom)||(F1(r,n,e,u),0))})}function z1(e,t){return!!e.selection.isCollapsed()&&U1(e,t)}function H1(e,t,n){return e._selectionOverrides.hideFakeCaret(),Ep(e,t,J.fromDom(n)),!0}function j1(e,t){return e.selection.isCollapsed()?(n=e,o=(r=t)?Qv:Zv,i=r?ul.Forwards:ul.Backwards,a=ac(i,n.getBody(),n.selection.getRng()),o(a)?H1(n,r,a.getNode(!r)):N.from(yx(r,a)).filter(function(e){return o(e)&&sc(a,e)}).exists(function(e){return H1(n,r,e.getNode(!r))})):(i=t,e=(t=e).selection.getNode(),!!Sr(e)&&H1(t,i,e));var n,r,o,i,a}function V1(e){var n,t=q1(e);return!e.mode.isReadOnly()&&(1<t.length||(n=e,Ue(t,function(e){var t=rS(bf(n),e),t=Br(e,t).map(nS).getOr(0);return"false"!==n.dom.getContentEditable(e.dom)&&0<t})))}function q1(e){return b(kl(e.selection.getSelectedBlocks()),function(e){return!oS(e)&&!iS(e)&&tS(e)})}function $1(e,u){var s=e.dom,t=e.selection,n=e.formatter,r=e.getParam("indentation","40px","string"),c=/[a-z%]+$/i.exec(r)[0],l=parseInt(r,10),f=bf(e),r=sf(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==r||s.getParent(t.getNode(),s.isBlock)||n.apply("div"),X(q1(e),function(e){var t,n,r,o,i,a;t=s,n=u,r=f,o=l,i=c,e=e.dom,r=rS(r,J.fromDom(e)),"outdent"===n?(a=Math.max(0,nS(e.style[r])-o),t.setStyle(e,r,a?a+i:"")):(a=nS(e.style[r])+o+i,t.setStyle(e,r,a))})}function W1(e,t){if(e.selection.isCollapsed()&&V1(e)){var n=e.dom,r=e.selection.getRng(),o=R.fromRangeStart(r),r=n.getParent(r.startContainer,n.isBlock);if(null!==r&&ub(J.fromDom(r),o))return $1(e,"outdent"),!0}return!1}function K1(e,t){e.getDoc().execCommand(t,!1,null)}function X1(n,r){n.addCommand("delete",function(){var e,t;t=r,W1(e=n)||HC(e,!1)||OC(e,!1)||I1(e,t,!1)||CC(e,!1)||eh(e)||jC(e,!1)||j1(e,!1)||NC(e)||z1(e,!1)||(K1(e,"Delete"),sC(e))}),n.addCommand("forwardDelete",function(){var e,t;t=r,HC(e=n,!0)||OC(e,!0)||I1(e,t,!0)||CC(e,!0)||eh(e)||jC(e,!0)||j1(e,!0)||NC(e)||z1(e,!0)||K1(e,"ForwardDelete")})}function Y1(e){return void 0===e.touches||1!==e.touches.length?N.none():N.some(e.touches[0])}function G1(o){var i=hl(),a=fl(!1),n=vl(function(e){o.fire("longpress",y(y({},e),{type:"longpress"})),a.set(!0)},400);o.on("touchstart",function(t){Y1(t).each(function(e){n.cancel();e={x:e.clientX,y:e.clientY,target:t.target};n.throttle(t),a.set(!1),i.set(e)})},!0),o.on("touchmove",function(e){n.cancel(),Y1(e).each(function(r){i.on(function(e){var t,n;t=r,e=e,n=Math.abs(t.clientX-e.x),t=Math.abs(t.clientY-e.y),(5<n||5<t)&&(i.clear(),a.set(!1),o.fire("longpresscancel"))})})},!0),o.on("touchend touchcancel",function(t){n.cancel(),"touchcancel"!==t.type&&i.get().filter(function(e){return e.target.isEqualNode(t.target)}).each(function(){a.get()?t.preventDefault():o.fire("tap",y(y({},t),{type:"tap"}))})},!0)}function J1(e,t){return ee(e,t.nodeName)}function Q1(e){var t,n,r,o=e.dom,i=e.selection,a=(g=e.schema).getBlockElements(),u=i.getStart(),s=e.getBody(),c=sf(e);if(u&&Q(u)&&c){var l=s.nodeName.toLowerCase();if(g.isValidChild(l,c.toLowerCase())&&(f=a,g=s,l=u,!Be(ib(J.fromDom(l),J.fromDom(g)),function(e){return J1(f,e.dom)}))){for(var f,d,m,l=i.getRng(),g=l.startContainer,p=l.startOffset,h=l.endContainer,v=l.endOffset,b=cg(e),u=s.firstChild;u;)d=a,_(m=u)||Q(m)&&!J1(d,m)&&!gd(m)?!function(e,t){if(_(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||J1(e,t.nextSibling)))return!0}return!1}(a,u)?(t||(t=o.create(c,Ps(e)),u.parentNode.insertBefore(t,u),r=!0),u=(n=u).nextSibling,t.appendChild(n)):(u=(n=u).nextSibling,o.remove(n)):(t=null,u=u.nextSibling);r&&b&&(l.setStart(g,p),l.setEnd(h,v),i.setRng(l),e.nodeChanged())}}}function Z1(e,t){t.hasAttribute("data-mce-caret")&&(ri(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))}function ew(e,t){var n=ao(J.fromDom(e.getBody()),"*[data-mce-caret]").map(function(e){return e.dom}).getOrNull();n&&("compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),Z1(e,n)):ei(n)&&(Z1(e,n),e.undoManager.add()))}function tw(e,t,n){var r,o=cc(e.getBody()),o=h(uc,1===t?o.next:o.prev);n.collapsed&&""!==sf(e)&&(r=e.dom.getParent(n.startContainer,"PRE"))&&!o(R.fromRangeStart(n))&&(o=function(e){e=e.dom.create(sf(e));return(!G.ie||11<=G.ie)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(e),1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}function nw(e,t){var n=t?ul.Forwards:ul.Backwards,r=e.selection.getRng();return w1(e,n,r,nb,rb,aS).orThunk(function(){return tw(e,n,r),N.none()})}function rw(e,t){var n=t?1:-1,r=e.selection.getRng();return x1(e,n,r,function(e){return nb(e)||eb(e)},function(e){return rb(e)||tb(e)},aS).orThunk(function(){return tw(e,n,r),N.none()})}function ow(t,e){return nw(t,e).exists(function(e){return y1(t,e),!0})}function iw(t,e){return rw(t,e).exists(function(e){return y1(t,e),!0})}function aw(e,t){return N1(e,t,t?rb:nb)}function uw(e){return Oe(["figcaption"],jn(e))}function sw(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}function cw(e,t,n){(n?ur:_t)(e,t)}function lw(e,t,n,r){return""===t?(o=e,i=r,a=J.fromTag("br"),cw(o,a,i),sw(a)):(o=e,i=r,a=t,e=n,a=J.fromTag(a),r=J.fromTag("br"),_r(a,e),ur(a,r),cw(o,a,i),sw(r));var o,i,a}function fw(e,t,n){return(t?(t=e.dom,$x(t,n)):(t=e.dom,qx(t,n))).breakAt.isNone()}function dw(t,n){var r=J.fromDom(t.getBody()),o=R.fromRangeStart(t.selection.getRng()),i=sf(t),a=Ps(t);return function(e,t){t=h(S,t);return Gr(J.fromDom(e.container()),Io,t).filter(uw)}(o,r).exists(function(){var e;return!!fw(r,n,o)&&(e=lw(r,i,a,n),t.selection.setRng(e),!0)})}function mw(e,t){return!!e.selection.isCollapsed()&&dw(e,t)}function gw(e,r){return Fe(v(e,function(e){return y({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ne},e)}),function(e){return t=e,(n=r).keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey?[e]:[];var t,n})}function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}}function pw(e,t){return Ie(gw(e,t),function(e){return e.action()})}function hw(t,e){var e=e?ul.Forwards:ul.Backwards,n=t.selection.getRng();return w1(t,e,n,Qv,Zv,Sr).exists(function(e){return y1(t,e),!0})}function vw(t,e){var e=e?1:-1,n=t.selection.getRng();return x1(t,e,n,Qv,Zv,Sr).exists(function(e){return y1(t,e),!0})}function bw(e,t){return N1(e,t,t?Zv:Qv)}function yw(e,t,n,r,o){var i,a,u,n=bl(J.fromDom(n),"td,th,caption").map(function(e){return e.dom}),e=b((i=e,Fe(n,function(e){var t=uS(Rl(e.getBoundingClientRect()),-1);return[{x:t.left,y:i(t),cell:e},{x:t.right,y:i(t),cell:e}]})),function(e){return t(e,o)});return a=r,u=o,Le(e,function(e,r){return e.fold(function(){return N.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-a)+Math.abs(e.y-u)),n=Math.sqrt(Math.abs(r.x-a)+Math.abs(r.y-u));return N.some(n<t?r:e)})},N.none()).map(function(e){return e.cell})}function Cw(t,n){return je(n.getClientRects()).bind(function(e){return sS(t,e.left,e.top)}).bind(function(e){return i1(ld(t=e).map(function(e){return qx(t,e).positions.concat(e)}).getOr([]),n);var t})}function ww(t,n){return Ve(n.getClientRects()).bind(function(e){return cS(t,e.left,e.top)}).bind(function(e){return i1(cd(t=e).map(function(e){return[e].concat($x(t,e).positions)}).getOr([]),n);var t})}function xw(e,t,n){var r,o,i,a=e(t,n);return(i=a).breakType===ix.Wrap&&0===i.positions.length||!A(n.getNode())&&(i=a).breakType===ix.Br&&1===i.positions.length?(r=e,o=t,!a.breakAt.exists(function(e){return r(o,e).breakAt.isSome()})):a.breakAt.isNone()}function Sw(t,e,n,r){var o,i,a,u=t.selection.getRng(),s=e?1:-1;return!(!Js()||(o=e,i=n,a=R.fromRangeStart(u),!pc(!o,i).exists(function(e){return e.isEqual(a)}))||(EC(s,t,n,!e,!1).each(function(e){y1(t,e)}),0))}function Nw(e,t){return t=t.getNode(e),Q(t)&&"TABLE"===t.nodeName?N.some(t):N.none()}function Ew(u,s,c){var e=Nw(!!s,c),t=!1===s;e.fold(function(){return y1(u,c.toRange())},function(a){return pc(t,u.getBody()).filter(function(e){return e.isEqual(c)}).fold(function(){return y1(u,c.toRange())},function(e){var n,r,o,t,i;n=s,o=a,t=c,(i=sf(r=u))?r.undoManager.transact(function(){var e=J.fromTag(i),t=(_r(e,Ps(r)),ur(e,J.fromTag("br")),(n?kt:ar)(J.fromDom(o),e),r.dom.createRng());t.setStart(e.dom,0),t.setEnd(e.dom,0),y1(r,t)}):y1(r,t.toRange())})})}function kw(e,t,n,r){var o,i,a,u,s,c,l,f=e.selection.getRng(),f=R.fromRangeStart(f),d=e.getBody();return!t&&lS(r,f)?(s=d,o=Cw(c=n,l=f).orThunk(function(){return je(l.getClientRects()).bind(function(e){return o1(Wx(s,R.before(c)),e.left)})}).getOr(R.before(c)),Ew(e,t,o),!0):!(!t||!fS(r,f)||(i=d,o=ww(a=n,u=f).orThunk(function(){return je(u.getClientRects()).bind(function(e){return o1(Kx(i,R.after(a)),e.left)})}).getOr(R.after(a)),Ew(e,t,o),0))}function _w(n,r,o){return N.from(n.dom.getParent(n.selection.getNode(),"td,th")).bind(function(t){return N.from(n.dom.getParent(t,"table")).map(function(e){return o(n,r,e,t)})}).getOr(!1)}function Aw(e,t){return _w(e,t,Sw)}function Rw(e,t){return _w(e,t,kw)}function Dw(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,e=Bn().os,pw([{keyCode:q.RIGHT,action:u(ow,t,!0)},{keyCode:q.LEFT,action:u(ow,t,!1)},{keyCode:q.UP,action:u(iw,t,!1)},{keyCode:q.DOWN,action:u(iw,t,!0)},{keyCode:q.RIGHT,action:u(Aw,t,!0)},{keyCode:q.LEFT,action:u(Aw,t,!1)},{keyCode:q.UP,action:u(Rw,t,!1)},{keyCode:q.DOWN,action:u(Rw,t,!0)},{keyCode:q.RIGHT,action:u(hw,t,!0)},{keyCode:q.LEFT,action:u(hw,t,!1)},{keyCode:q.UP,action:u(vw,t,!1)},{keyCode:q.DOWN,action:u(vw,t,!0)},{keyCode:q.RIGHT,action:u(R1,t,n,!0)},{keyCode:q.LEFT,action:u(R1,t,n,!1)},{keyCode:q.RIGHT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:u(Zx,t,n)},{keyCode:q.LEFT,ctrlKey:!e.isOSX(),altKey:e.isOSX(),action:u(eS,t,n)},{keyCode:q.UP,action:u(mw,t,!1)},{keyCode:q.DOWN,action:u(mw,t,!0)}],r).each(function(e){r.preventDefault()}))})}function Tw(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,pw([{keyCode:q.BACKSPACE,action:u(W1,t,!1)},{keyCode:q.BACKSPACE,action:u(HC,t,!1)},{keyCode:q.DELETE,action:u(HC,t,!0)},{keyCode:q.BACKSPACE,action:u(OC,t,!1)},{keyCode:q.DELETE,action:u(OC,t,!0)},{keyCode:q.BACKSPACE,action:u(I1,t,n,!1)},{keyCode:q.DELETE,action:u(I1,t,n,!0)},{keyCode:q.BACKSPACE,action:u(eh,t,!1)},{keyCode:q.DELETE,action:u(eh,t,!0)},{keyCode:q.BACKSPACE,action:u(jC,t,!1)},{keyCode:q.DELETE,action:u(jC,t,!0)},{keyCode:q.BACKSPACE,action:u(j1,t,!1)},{keyCode:q.DELETE,action:u(j1,t,!0)},{keyCode:q.BACKSPACE,action:u(NC,t,!1)},{keyCode:q.DELETE,action:u(NC,t,!0)},{keyCode:q.BACKSPACE,action:u(CC,t,!1)},{keyCode:q.DELETE,action:u(CC,t,!0)},{keyCode:q.BACKSPACE,action:u(z1,t,!1)},{keyCode:q.DELETE,action:u(z1,t,!0)}],r).each(function(e){r.preventDefault()}))}),o.on("keyup",function(e){var t;!1===e.isDefaultPrevented()&&(t=o,e=e,pw([{keyCode:q.BACKSPACE,action:u(zC,t)},{keyCode:q.DELETE,action:u(zC,t)}],e))})}function Ow(e){return N.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function Bw(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function Pw(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}function Lw(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function Iw(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Q(r);)r=r[n?"nextSibling":"previousSibling"];return r===t}function Mw(a,e){function t(e){var t,n=u,r=p.getTextInlineElements(),o=e||"TABLE"===d||"HR"===d?g.create(e||s):l.cloneNode(!1),i=o;if(!1===cf(a))g.setAttrib(o,"style",null),g.setAttrib(o,"class",null);else for(;!r[n.nodeName]||dd(n)||gd(n)||(t=n.cloneNode(!1),g.setAttrib(t,"id",""),o.hasChildNodes()?t.appendChild(o.firstChild):i=t,o.appendChild(t)),(n=n.parentNode)&&n!==y;);return SS(a,o),pS(i),o}function n(e){var t,n,r=yS(e,u,i);if(!_(u)||!(e?0<r:r<u.nodeValue.length)){if((u.parentNode!==l||!c||e)&&(!e||!Q(u)||u!==l.firstChild)){if(hS(u,"TABLE")||hS(u,"HR"))return c&&!e||!c&&e;var o=new fo(u,l);for(_(u)&&(e&&0===r?o.prev():e||r!==u.nodeValue.length||o.next());t=o.current();){if(Q(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),h[n])&&"br"!==n)return}else if(_(t)&&!vi(t.nodeValue))return;e?o.prev():o.next()}}return 1}}function r(){o=/^(H[1-6]|PRE|FIGURE)$/.test(d)&&"HGROUP"!==m?t(s):t(),lf(a)&&vS(g,f)&&g.isEmpty(l)?o=g.split(f,l):g.insertAfter(o,l),dS(a,o)}var u,i,o,s,c,l,f,d,m,g=a.dom,p=a.schema,h=p.getNonEmptyElements(),v=a.selection.getRng(),b=(rm(g,v).each(function(e){v.setStart(e.startContainer,e.startOffset),v.setEnd(e.endContainer,e.endOffset)}),u=v.startContainer,i=v.startOffset,s=sf(a),!(!e||!e.shiftKey)),e=!(!e||!e.ctrlKey),y=(Q(u)&&u.hasChildNodes()&&(c=i>u.childNodes.length-1,u=u.childNodes[Math.min(i,u.childNodes.length-1)]||u,i=c&&_(u)?u.nodeValue.length:0),xS(g,u));y&&((s&&!b||!s&&b)&&(u=NS(a,s,v,u,i)),f=(l=g.getParent(u,g.isBlock))?g.getParent(l.parentNode,g.isBlock):null,d=l?l.nodeName.toUpperCase():"","LI"!==(m=f?f.nodeName.toUpperCase():"")||e||(f=(l=f).parentNode,d=m),/^(LI|DT|DD)$/.test(d)&&g.isEmpty(l)?mS(a,t,f,l,s):s&&l===a.getBody()||(s=s||"P",Jo(l)?(o=ri(l),g.isEmpty(l)&&pS(l),SS(a,o),dS(a,o)):n()?r():n(!0)?(o=l.parentNode.insertBefore(t(),l),dS(a,hS(l,"HR")?o:l)):((b=CS(v).cloneRange()).setEndAfter(l),e=b.extractContents(),gS(e),wS(e),o=e.firstChild,g.insertAfter(e,l),bS(g,h,o),ES(g,l),g.isEmpty(l)&&pS(l),o.normalize(),g.isEmpty(o)?(g.remove(o),r()):(SS(a,o),dS(a,o))),g.setAttrib(o,"id",""),a.fire("NewBlock",{newBlock:o})))}function Fw(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Vm(e,r)}function Uw(e,t){var n=J.fromTag("br");ar(J.fromDom(t),n),e.undoManager.add()}function zw(e,t){!function(e,t){if(_S(R.after(t)))return true;else return ud(e,R.after(t)).map(function(e){return A(e.getNode())}).getOr(false)}(e.getBody(),t)&&kt(J.fromDom(t),J.fromTag("br"));var n=J.fromTag("br");kt(J.fromDom(t),n),Fw(e,n.dom,!1),e.undoManager.add()}function Hw(e){return e&&"A"===e.nodeName&&"href"in e}function jw(e){return e.fold(l,Hw,Hw,l)}function Vw(e,t){var n=AS(e);n.isSome()?n.each(h(RS,e)):kS(e,t)}function qw(e,t){return Ow(e).filter(function(e){return 0<t.length&&gt(J.fromDom(e),t)}).isSome()}function $w(n,r){return function(e,t){return Ow(e).fold(K(""),function(e){return e.nodeName.toUpperCase()})===n.toUpperCase()===r}}function Ww(e,t){var n,r;n=e,r=t,Tx([zS([TS],DS.none()),zS([LS()],DS.br()),zS([PS(!0),IS(!1),FS],DS.br()),zS([PS(!0),IS(!1)],DS.block()),zS([PS(!0),IS(!0),FS],DS.block()),zS([PS(!0),IS(!0)],DS.br()),zS([BS(!0),FS],DS.br()),zS([BS(!0)],DS.block()),zS([OS(!0),FS,US],DS.block()),zS([OS(!0)],DS.br()),zS([MS],DS.br()),zS([OS(!1),FS],DS.br()),zS([US],DS.block())],[n,!(!r||!r.shiftKey)]).getOr(DS.none()).fold(function(){Vw(e,t)},function(){Mw(e,t)},ne)}function Kw(r){r.on("keydown",function(e){var t,n;e.keyCode===q.ENTER&&(t=r,(n=e).isDefaultPrevented()||(n.preventDefault(),(e=t.undoManager).typing&&(e.typing=!1,e.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),Ww(t,n)})))})}function Xw(o,i){o.on("keydown",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,pw([{keyCode:q.END,action:u(aw,t,!0)},{keyCode:q.HOME,action:u(aw,t,!1)},{keyCode:q.END,action:u(bw,t,!0)},{keyCode:q.HOME,action:u(bw,t,!1)},{keyCode:q.END,action:u(O1,t,!0,n)},{keyCode:q.HOME,action:u(O1,t,!1,n)}],r).each(function(e){r.preventDefault()}))})}function Yw(t){var e,n;e=t,n=Yu(function(){e.composing||lp(e)},0),HS.isIE()&&(e.on("keypress",function(e){n.throttle()}),e.on("remove",function(e){n.cancel()})),t.on("input",function(e){!1===e.isComposing&&lp(t)})}function Gw(e){return e.stopImmediatePropagation()}function Jw(e){return e.keyCode===q.PAGE_UP||e.keyCode===q.PAGE_DOWN}function Qw(e,t,n){n&&!e.get()?t.on("NodeChange",Gw,!0):!n&&e.get()&&t.off("NodeChange",Gw),e.set(n)}function Zw(o,i){var a;jS.os.isOSX()||(a=fl(!1),o.on("keydown",function(e){Jw(e)&&Qw(a,o,!0)}),o.on("keyup",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(t=o,n=i,r=e,pw([{keyCode:q.PAGE_UP,action:u(O1,t,!1,n)},{keyCode:q.PAGE_DOWN,action:u(O1,t,!0,n)}],r)),Jw(e)&&a.get()&&(Qw(a,o,!1),o.nodeChanged())}))}function ex(n,r){var e=r.container(),t=r.offset();return _(e)?(e.insertData(t,n),N.some(R(e,t+n.length))):Wf(r).map(function(e){var t=J.fromText(n);return(r.isAtEnd()?kt:ar)(e,t),R(t.dom,n.length)})}function tx(n,r){return function(e){return t=n,(!tp(e=e)&&(np(t,e)||Zg(t,e)||ep(t,e))?VS:qS)(r);var t}}function nx(e){var t,n,r,o,i=R.fromRangeStart(e.selection.getRng()),a=J.fromDom(e.getBody());return!!e.selection.isCollapsed()&&(t=h(rC,e),n=R.fromRangeStart(e.selection.getRng()),Fx(t,e.getBody(),n).bind((o=a,function(e){return e.fold(function(e){return sd(o.dom,R.before(e))},function(e){return cd(e)},function(e){return ld(e)},function(e){return ud(o.dom,R.after(e))})})).bind(tx(a,i)).exists((r=e,function(e){return r.selection.setRng(e.toRange()),r.nodeChanged(),!0})))}function rx(n){n.on("keydown",function(e){var t;!1===e.isDefaultPrevented()&&(t=e,pw([{keyCode:q.SPACEBAR,action:u(nx,n)}],t).each(function(e){t.preventDefault()}))})}function ox(e){var t=T1(e);return e.on("keyup compositionstart",h(ew,e)),Dw(e,t),Tw(e,t),Kw(e),rx(e),Yw(e),Xw(e,t),Zw(e,t),t}var ix,ax,ux=function(e){return/^[a-z0-9\-]+$/i.test(e)},sx=0,cx=function(u,a){function t(e,t){return{url:t,blobInfo:e,status:!0}}function s(e,t,n){return{url:"",blobInfo:e,status:!1,error:{message:t,options:n}}}function c(e,t){re.each(n[e],function(e){e(t)}),delete n[e]}var n={},o=function(e,n,r,t){var o=new XMLHttpRequest,i=(o.open("POST",a.url),o.withCredentials=a.credentials,o.upload.onprogress=function(e){t(e.loaded/e.total*100)},o.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var e,t;o.status<200||300<=o.status?r("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((e=a.basePath,t=t.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):r("Invalid JSON: "+o.responseText)},new FormData);i.append("file",e.blob(),e.filename()),o.send(i)},i=function(i,e,a){return u.markPending(i.blobUri()),new so(function(n){var r;try{var o=function(){r&&(r.close(),0)};e(i,function(e){o(),u.markUploaded(i.blobUri(),e),c(i.blobUri(),t(i,e)),n(t(i,e))},function(e,t){t=t||{};o(),u.removeFailed(i.blobUri()),c(i.blobUri(),s(i,e,t)),n(s(i,e,t))},function(t){t<0||100<t||N.from(r).orThunk(function(){return N.from(a).map(V)}).each(function(e){(r=e).progressBar.value(t)})})}catch(e){n(s(i,e.message,{}))}})},l=function(e){var t=e.blobUri();return new so(function(e){n[t]=n[t]||[],n[t].push(e)})};return!1===k(a.handler)&&(a.handler=o),{upload:function(e,t){return a.url||a.handler!==o?(n=e,r=t,n=re.grep(e,function(e){return!u.isUploaded(e.blobUri())}),so.all(re.map(n,function(e){return u.isPending(e.blobUri())?l(e):i(e,a.handler,r)}))):new so(function(e){e([])});var n,r}}},lx=function(r){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(e,t,n){return Q(e)&&e.hasAttribute("href")},onformat:function(n,e,t){re.each(t,function(e,t){r.setAttrib(n,t,e)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(e){return null!=(e=null==e?void 0:e.customValue)?e:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return re.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},fx=re.each,dx=ie.DOM,mx=function(e,t){function s(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n,e=dx.create(r.name);return t=e,(n=r).classes.length&&dx.addClass(t,n.classes.join(" ")),dx.setAttribs(t,n.attrs),e}function c(t,e,n){var r,o,i=0<e.length&&e[0],a=i&&i.name,u=function(e,t){e="string"!=typeof e?e.nodeName.toLowerCase():e,e=l.getElementRule(e),e=e&&e.parentsRequired;return!(!e||!e.length)&&(t&&-1!==re.inArray(e,t)?t:e[0])}(t,a);if(u)a===u?(o=e[0],e=e.slice(1)):o=u;else if(i)o=e[0],e=e.slice(1);else if(!n)return t;return o&&(r=s(o)).appendChild(t),n&&(r||(r=dx.create("div")).appendChild(t),re.each(n,function(e){e=s(e);r.insertBefore(e,t)})),c(r,e,o&&o.siblings)}var r,n,l=t&&t.schema||Yi({});return e&&e.length?(r=e[0],t=s(r),(n=dx.create("div")).appendChild(c(t,e.slice(1),r.siblings)),n):""},gx=function(e){return e&&"string"==typeof e?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),re.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var e=re.map(e.split(/(?:~\+|~|\+)/),Y0),t=e.pop();return e.length&&(t.siblings=e),t}).reverse()):[]},px=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},hx=[9,27,q.HOME,q.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,q.DOWN,q.UP,q.LEFT,q.RIGHT].concat(G.browser.isFirefox()?[224]:[]),vx="data-mce-placeholder",bx=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yx=function(e,t){var n,r;return t&&(n=t.container(),r=t.offset(),e?Qo(n)?_(n.nextSibling)?R(n.nextSibling,0):R.after(n):ti(t)?R(n,r+1):t:Qo(n)?_(n.previousSibling)?R(n.previousSibling,n.previousSibling.data.length):R.before(n):ni(t)?R(n,r-1):t)},Cx=h(yx,!0),wx=h(yx,!1),xx=wr,Sx=E,Nx=Ln([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Ex=_,kx=function(e){return Ex(e)&&e.data[0]===Wo},_x=function(e){return Ex(e)&&e.data[e.data.length-1]===Wo},Ax=function(e){return e.ownerDocument.createTextNode(Wo)},Rx=h(VC,!0),Dx=h(VC,!1),Tx=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return N.none()},Ox=Ln([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Bx=function(e,t,n){var r=Cx(n),o=KC(t,r.container());return iC(e,o,r).fold(function(){return ud(o,r).bind(h(iC,e,o)).map(function(e){return Ox.before(e)})},N.none)},Px=function(e,t,n){var r=wx(n);return YC(e,t,r).bind(function(e){return sd(e,r).isNone()?N.some(Ox.start(e)):N.none()})},Lx=function(e,t,n){var r=Cx(n);return YC(e,t,r).bind(function(e){return ud(e,r).isNone()?N.some(Ox.end(e)):N.none()})},Ix=function(e,t,n){var r=wx(n),o=KC(t,r.container());return iC(e,o,r).fold(function(){return sd(o,r).bind(h(iC,e,o)).map(function(e){return Ox.after(e)})},N.none)},Mx=function(e){return!1===oC(GC(e))},Fx=function(e,t,n){return Tx([Bx,Px,Lx,Ix],[e,t,n]).filter(Mx)},Ux=function(e){return e.fold(Ox.before,Ox.before,Ox.after,Ox.after)},zx=function(n,e,r,t,o,i){return $t(iC(e,r,t),iC(e,r,o),function(e,t){return e!==t&&function(e,t,n){t=jf(t,e),n=jf(n,e);return t&&t===n}(r,e,t)?Ox.after(n?e:t):i}).getOr(i)},Hx=function(e,n){return e.fold(se,function(e){return t=n,!(JC(e=e)===JC(t)&&GC(e)===GC(t));var t})},jx=(h(e1,!1),h(e1,!0),function(e){return k(e.selection.getSel().modify)}),Vx=function(e,t,n){var r=e?1:-1;return t.setRng(R(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},qx=((t=ix=ix||{})[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol",h(n1,R.isAbove,-1)),$x=h(n1,R.isBelow,1),Wx=h(r1,-1,qx),Kx=h(r1,1,$x),Xx=function(t){function e(e){return v(e,function(e){e=Rl(e);return e.node=t,e})}var n;return Q(t)?e(t.getClientRects()):_(t)?((n=t.ownerDocument.createRange()).setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())):void 0},Yx=((e=ax=ax||{})[e.Up=-1]="Up",e[e.Down=1]="Down",h(u1,ax.Up,ms,gs)),Gx=h(u1,ax.Down,gs,ms),Jx=E,Qx=Hf,Zx=h(D1,!0),eS=h(D1,!1),tS=function(e){return Gr(e,function(e){return wr(e.dom)||E(e.dom)}).exists(function(e){return wr(e.dom)})},nS=function(e){e=parseInt(e,10);return isNaN(e)?0:e},rS=function(e,t){return(e||"table"===jn(t)?"margin":"padding")+("rtl"===Tr(t,"direction")?"-right":"-left")},oS=function(e){return Uo(e)||zo(e)},iS=function(e){return Yn(e).exists(oS)},aS=E,uS=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},sS=h(yw,function(e){return e.bottom},function(e,t){return e.y<t}),cS=h(yw,function(e){return e.top},function(e,t){return e.y>t}),lS=h(xw,qx),fS=h(xw,$x),dS=function(e,t){var n,r=t,o=e.dom,i=e.schema.getMoveCaretBeforeOnEnterElements();if(t){/^(LI|DT|DD)$/.test(t.nodeName)&&(a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(o.doc.createTextNode($o),t.firstChild);var a,u=o.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new fo(t,t);n=s.current();){if(_(n)){u.setStart(n,0),u.setEnd(n,0);break}if(i[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}r=n,n=s.next()}n||(u.setStart(r,0),u.setEnd(r,0))}else A(t)?t.nextSibling&&o.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Vm(e,u)}},mS=function(e,t,n,r,o){var i,a,u,s=e.dom,c=e.selection.getRng();n!==e.getBody()&&(i=(o=Pw(i=n)&&Pw(i.parentNode)?"LI":o)?t(o):s.create("BR"),Iw(n,r,!0)&&Iw(n,r,!1)?Bw(n,"LI")?(t=Lw(n),s.insertAfter(i,t),(null==(u=(a=n).parentNode)?void 0:u.firstChild)===a?s.remove(t):s.remove(n)):s.replace(i,n):(Iw(n,r,!0)?Bw(n,"LI")?(s.insertAfter(i,Lw(n)),i.appendChild(s.doc.createTextNode(" ")),i.appendChild(n)):n.parentNode.insertBefore(i,n):Iw(n,r,!1)?s.insertAfter(i,Lw(n)):(n=Lw(n),(u=c.cloneRange()).setStartAfter(r),u.setEndAfter(n),a=u.extractContents(),"LI"===o&&(t="LI",(c=a).firstChild)&&c.firstChild.nodeName===t?(i=a.firstChild,s.insertAfter(a,n)):(s.insertAfter(a,n),s.insertAfter(i,n))),s.remove(r)),dS(e,i))},gS=function(e){X(rs(J.fromDom(e),qn),function(e){e=e.dom;e.nodeValue=Xo(e.nodeValue)})},pS=function(e){e.innerHTML='<br data-mce-bogus="1">'},hS=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},vS=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},bS=function(e,t,n){var r,o,i,a=n,u=[];if(a){for(;a=a.firstChild;){if(e.isBlock(a))return;Q(a)&&!t[a.nodeName.toLowerCase()]&&u.push(a)}for(r=u.length;r--;)(!(a=u[r]).hasChildNodes()||a.firstChild===a.lastChild&&""===a.firstChild.nodeValue||(o=e,(i=a)&&"A"===i.nodeName&&o.isEmpty(i)))&&e.remove(a)}},yS=function(e,t,n){return!1===_(t)?n:e?1===n&&t.data.charAt(n-1)===Wo?0:n:n===t.data.length-1&&t.data.charAt(n)===Wo?t.data.length:n},CS=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,yS(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,yS(!1,e.endContainer,e.endOffset)),t},wS=function(e){for(;_(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);},xS=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r},SS=function(e,t){var n,r,o,i=sf(e);i&&i.toLowerCase()===t.tagName.toLowerCase()&&(i=Ps(e),n=t,t=i,r=(i=e).dom,N.from(t.style).map(r.parseStyle).each(function(e){var t=Yt(J.fromDom(n)),t=y(y({},t),e);r.setStyles(n,t)}),i=N.from(t.class).map(function(e){return e.split(/\s+/)}),e=N.from(n.className).map(function(e){return b(e.split(/\s+/),function(e){return""!==e})}),$t(i,e,function(t,e){e=b(e,function(e){return!Oe(t,e)}),e=Ze(Ze([],t,!0),e,!0);r.setAttrib(n,"class",e.join(" "))}),o=["style","class"],i=Ye(t,function(e,t){return!Oe(o,t)}),r.setAttribs(n,i))},NS=function(e,t,n,r,o){var i,a,u,s,t=t||"P",c=e.dom,l=xS(c,r),f=c.getParent(r,c.isBlock);if(!f||!vS(c,f)){if(l=((f=f||l)===e.getBody()||(l=f)&&/^(TD|TH|CAPTION)$/.test(l.nodeName)?f:f.parentNode).nodeName.toLowerCase(),!f.hasChildNodes())return i=c.create(t),SS(e,i),f.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(u=r;u.parentNode!==f;)u=u.parentNode;for(;u&&!c.isBlock(u);)u=(a=u).previousSibling;if(a&&e.schema.isValidChild(l,t.toLowerCase())){for(i=c.create(t),SS(e,i),a.parentNode.insertBefore(i,a),u=a;u&&!c.isBlock(u);)s=u.nextSibling,i.appendChild(u),u=s;n.setStart(r,o),n.setEnd(r,o)}}return r},ES=function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},kS=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng(),o=(rm(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)}),a.startOffset),u=a.startContainer,s=(1===u.nodeType&&u.hasChildNodes()&&(s=o>u.childNodes.length-1,u=u.childNodes[Math.min(o,u.childNodes.length-1)]||u,o=s&&3===u.nodeType?u.nodeValue.length:0),i.getParent(u,i.isBlock)),c=s?i.getParent(s.parentNode,i.isBlock):null,l=c?c.nodeName.toUpperCase():"",t=!(!t||!t.ctrlKey);"LI"!==l||t||(s=c),u&&3===u.nodeType&&o>=u.nodeValue.length&&!function(e,t,n){for(var r,o=new fo(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||0<r.length)return!0}(e.schema,u,s)&&(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create("br"),ys(i,a,n),Fw(e,n,r),e.undoManager.add()},_S=function(e){return A(e.getNode())},AS=function(e){var t=h(rC,e),n=R.fromRangeStart(e.selection.getRng());return Fx(t,e.getBody(),n).filter(jw)},RS=function(e,t){t.fold(ne,h(Uw,e),h(zw,e),ne)},DS=Ln([{br:[]},{block:[]},{none:[]}]),TS=function(e,t){return qw(e,e.getParam("no_newline_selector",""))},OS=function(n){return function(e,t){return""===sf(e)===n}},BS=function(n){return function(e,t){return Ow(e).filter(function(e){return zo(J.fromDom(e))}).isSome()===n}},PS=function(e){return $w("pre",e)},LS=function(){return $w("summary",!0)},IS=function(n){return function(e,t){return e.getParam("br_in_pre",!0)===n}},MS=function(e,t){return qw(e,e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))},FS=function(e,t){return t},US=function(e){var t=sf(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&"false"!==e.getContentEditable(o);)"true"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},zS=function(e,t){return function(n,r){return Le(e,function(e,t){return e&&t(n,r)},!0)?N.some(t):N.none()}},HS=Bn().browser,jS=Bn(),VS=h(ex,$o),qS=h(ex," "),$S=(WS.prototype.nodeChanged=function(e){var t,n,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(n=this.editor.getBody(),(r=r.getStart(!0)||n).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(r,n)||(r=n),t=[],this.editor.dom.getParent(r,function(e){if(e===n)return!0;t.push(e)}),(e=e||{}).element=r,e.parents=t,this.editor.fire("NodeChange",e))},WS.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},WS);function WS(n){this.lastPath=[],this.editor=n;var r,t=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(e){var t=n.selection.getRng(),t={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};"nodechange"!==e.type&&tm(t,r)||n.fire("SelectionChange"),r=t}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var e=n.selection.getStart(!0);!e||!G.range&&n.selection.isCollapsed()||al(n)&&!t.isSameElementPath(e)&&n.dom.isChildOf(e,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(e){!e.isDefaultPrevented()&&al(n)&&("IMG"===n.selection.getNode().nodeName?co.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}function KS(e){var t;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}),(e=e).parser.addNodeFilter("details",function(e){X(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){X(e,function(e){var t=e.attr("data-mce-open");e.attr("open",W(t)?t:null),e.attr("data-mce-open",null)})})}function XS(e){return Q(e)&&Fo(J.fromDom(e))}function YS(i){i.on("click",function(e){var t,n,r,o;3<=e.detail&&(n=(e=i).selection.getRng(),r=R.fromRangeStart(n),o=R.fromRangeEnd(n),R.isElementPosition(r)&&(t=r.container(),XS(t))&&cd(t).each(function(e){return n.setStart(e.container(),e.offset())}),R.isElementPosition(o)&&(t=r.container(),XS(t))&&ld(t).each(function(e){return n.setEnd(e.container(),e.offset())}),e.selection.setRng(nh(n)))})}function GS(e){var t=e.getBoundingClientRect(),n=(e=e.ownerDocument).documentElement,e=e.defaultView;return{top:t.top+e.pageYOffset-n.clientTop,left:t.left+e.pageXOffset-n.clientLeft}}function JS(e,t){return u=(u=e).inline?GS(u.getBody()):{left:0,top:0},a=(i=e).getBody(),i=i.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},a=e,{pageX:(a=(e=t).target.ownerDocument!==a.getDoc()?(t=GS(a.getContentAreaContainer()),n=(a=a).getBody(),r=a.getDoc().documentElement,o={left:n.scrollLeft,top:n.scrollTop},n={left:n.scrollLeft||r.scrollLeft,top:n.scrollTop||r.scrollTop},r=a.inline?o:n,{left:e.pageX-t.left+r.left,top:e.pageY-t.top+r.top}):{left:e.pageX,top:e.pageY}).left-u.left+i.left,pageY:a.top-u.top+i.top};var n,r,o,i,a,u}function QS(i,a){return function(e){var t,n,r,o;0===e.button&&(n=Ie(a.dom.getParents(e.target),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(IN,MN)).getOr(null),r=a.getBody(),IN(o=n))&&o!==r&&(o=a.dom.getPos(n),r=a.getBody(),t=a.getDoc().documentElement,i.set({element:n,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(a.inline?r.scrollWidth:t.offsetWidth)-2,maxY:(a.inline?r.scrollHeight:t.offsetHeight)-2,relX:e.pageX-o.x,relY:e.pageY-o.y,width:n.offsetWidth,height:n.offsetHeight,ghost:(r=a,e=(t=n).offsetWidth,o=n.offsetHeight,r=r.dom,t=t.cloneNode(!0),r.setStyles(t,{width:e,height:o}),r.setAttrib(t,"data-mce-selected",null),n=r.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}),r.setStyles(n,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:e,height:o}),r.setStyles(t,{margin:0,boxSizing:"border-box"}),n.appendChild(t),n)}))}}function ZS(e,c){var l=co.throttle(function(e,t){c._selectionOverrides.hideFakeCaret(),c.selection.placeCaretAt(e,t)},0);return c.on("remove",l.stop),function(s){return e.on(function(e){var t,n,r,o,i,a,u=Math.max(Math.abs(s.screenX-e.screenX),Math.abs(s.screenY-e.screenY));if(!e.dragging&&10<u){if(c.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,c.focus()}e.dragging&&(u=e,u={pageX:(a=JS(c,s)).pageX-u.relX,pageY:a.pageY+5},a=e.ghost,i=c.getBody(),a.parentNode!==i&&i.appendChild(a),i=e.ghost,a=u,u=e.width,t=e.height,n=e.maxX,e=e.maxY,o=r=0,i.style.left=a.pageX+"px",i.style.top=a.pageY+"px",a.pageX+u>n&&(r=a.pageX+u-n),a.pageY+t>e&&(o=a.pageY+t-e),i.style.width=u-r+"px",i.style.height=t-o+"px",l(s.clientX,s.clientY))})}}function eN(e,a){return function(i){e.on(function(e){var t,n,r,o;e.dragging&&(r=function(e){e=e.getSel().getRangeAt(0).startContainer;return 3===e.nodeType?e.parentNode:e}((n=a).selection),o=e.element,r===o||n.dom.isChildOf(r,o)||IN(r)||(t=function(e){e=e.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e}(e.element),a.fire("drop",{clientX:i.clientX,clientY:i.clientY}).isDefaultPrevented())||a.undoManager.transact(function(){FN(e.element),a.insertContent(a.dom.getOuterHTML(t)),a._selectionOverrides.hideFakeCaret()}),a.fire("dragend"))}),tN(e)}}function tN(e){e.on(function(e){FN(e.ghost)}),e.clear()}function nN(e){var t,n,r=hl(),o=ie.DOM,i=document,a=QS(r,e),u=ZS(r,e),s=eN(r,e),c=(t=r,function(){t.on(function(e){e.dragging&&n.fire("dragend")}),tN(t)});(n=e).on("mousedown",a),e.on("mousemove",u),e.on("mouseup",s),o.bind(i,"mousemove",u),o.bind(i,"mouseup",c),e.on("remove",function(){o.unbind(i,"mousemove",u),o.unbind(i,"mouseup",c)}),e.on("keydown",function(e){e.keyCode===q.ESC&&c()})}function rN(i){function a(e){rg(i,e.target)&&u(e)}function e(){var t=ie.DOM,n=i.dom,r=document,o=i.inline?i.getBody():i.getDoc(),e=["drop","dragover"];X(e,function(e){t.bind(r,e,a),n.bind(o,e,u)}),i.on("remove",function(){X(e,function(e){t.unbind(r,e,a),n.unbind(o,e,u)})})}var u=function(e){var t;e.isDefaultPrevented()||(t=e.dataTransfer)&&(Oe(t.types,"Files")||0<t.files.length)&&(e.preventDefault(),"drop"===e.type)&&P0(i,"Dropped file type is not supported")};i.on("init",function(){co.setEditorTimeout(i,e,0)})}function oN(e){var n;nN(e),(n=e).on("drop",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;!IN(t)&&"false"!==n.dom.getContentEditableParent(t)||e.preventDefault()}),e.getParam("block_unsupported_drop",!0,"boolean")&&rN(e)}function iN(e,t){return Pd(e.getBody(),t)}function aN(s){function o(e){return nb(e)||rb(e)||Qv(e)||Zv(e)}function i(e){e&&f.setRng(e)}function e(){function r(e,t){var n=d.getParent(e,m),t=d.getParent(t,m);return!ae(n)&&(!(e===t||!d.isChildOf(n,t)||!1!==zN(iN(s,n)))||!d.isChildOf(t,n)&&(e=t,!(d.getParent(n,m)===d.getParent(e,m)))&&(e=(t=n).firstChild,!ae(e)&&(e=R.before(e),A(e.getNode())&&1===t.childNodes.length?!o(e):(t=cc(t).next(e))&&!o(t))))}var t,e,n;s.on("mouseup",function(e){var t=y();t.collapsed&&$y(s,e.clientX,e.clientY)&&_C(s,t,!1).each(i)}),s.on("click",function(e){var t=iN(s,e.target);t&&(zN(t)&&(e.preventDefault(),s.focus()),UN(t))&&d.isChildOf(t,f.getNode())&&u()}),s.on("blur NewBlock",u),s.on("ResizeWindow FullscreenStateChanged",p.reposition),s.on("tap",function(e){var t=e.target,n=iN(s,t);zN(n)?(e.preventDefault(),kC(s,n).each(a)):b(t)&&kC(s,t).each(a)},!0),s.on("mousedown",function(e){var t,n=e.target;n!==g&&"HTML"!==n.nodeName&&!d.isChildOf(n,g)||!1===$y(s,e.clientX,e.clientY)||((t=iN(s,n))?zN(t)?(e.preventDefault(),kC(s,t).each(a)):(u(),UN(t)&&e.shiftKey||Ld(e.clientX,e.clientY,f.getRng())||(c(),f.placeCaretAt(e.clientX,e.clientY))):b(n)?kC(s,n).each(a):!1===Zs(n)&&(u(),c(),t=b1(g,e.clientX,e.clientY))&&!r(n,t.node)&&(e.preventDefault(),n=C(1,t.node,t.before,!1),i(n),s.getBody().focus()))}),s.on("keypress",function(e){q.modifierPressed(e)||zN(f.getNode())&&e.preventDefault()}),s.on("GetSelectionRange",function(e){var t=e.range;l&&(l.parentNode?((t=t.cloneRange()).selectNode(l),e.range=t):l=null)}),s.on("SetSelectionRange",function(e){e.range=function(e){var t=s.schema.getShortEndedElements(),n=d.createRng(),r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset;if(ee(t,r.nodeName.toLowerCase()))if(o===0)n.setStartBefore(r);else n.setStartAfter(r);else n.setStart(r,o);if(ee(t,i.nodeName.toLowerCase()))if(a===0)n.setEndBefore(i);else n.setEndAfter(i);else n.setEnd(i,a);return n}(e.range);var t=a(e.range,e.forward);t&&(e.range=t)}),s.on("AfterSetSelectionRange",function(e){var e=e.range,t=e.startContainer.parentNode;w(e)||"mcepastebin"===t.id||c(),d.hasClass(t,"mce-offscreen-selection")||u()}),s.on("copy",function(e){var t,n=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||G.ie||(t=(t=d.get(h))&&t.getElementsByTagName("*")[0])&&(e.preventDefault(),n.clearData(),n.setData("text/html",t.outerHTML),n.setData("text/plain",t.outerText||t.innerText))}),oN(s),e=Yu(function(){var e;!t.removed&&t.getBody().contains(document.activeElement)&&(e=t.selection.getRng()).collapsed&&(e=AC(t,e,!1),t.selection.setRng(e))},0),(t=s).on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()}),(n=s).on("init",function(){n.on("focusin",function(e){var t,e=e.target;Sr(e)&&(t=Pd(n.getBody(),e),t=E(t)?t:e,n.selection.getNode()!==t)&&kC(n,t).each(function(e){return n.selection.setRng(e)})})})}function a(e,t){if(e)if(e.collapsed){if(!w(e)){var n=t?1:-1,r=ac(n,g,e),o=r.getNode(!t);if(Zs(o))return C(n,o,!!t&&!r.isAtEnd(),!1);o=r.getNode(t);if(Zs(o))return C(n,o,!t&&!r.isAtEnd(),!1)}}else{n=e.startContainer,o=e.startOffset,t=e.endOffset;if(3===n.nodeType&&0===o&&zN(n.parentNode)&&(n=n.parentNode,o=d.nodeIndex(n),n=n.parentNode),1===n.nodeType&&t===o+1&&n===e.endContainer){r=n.childNodes[o];if(b(r))return x(r)}}return null}function u(){l&&l.removeAttribute(v),ao(J.fromDom(s.getBody()),"#"+h).each(cr),l=null}function c(){p.hide()}var l,f=s.selection,d=s.dom,m=d.isBlock,g=s.getBody(),p=Gs(s,g,m,function(){return cg(s)}),h="sel-"+d.uniqueId(),v="data-mce-selected",b=function(e){return e!==g&&(zN(e)||Sr(e))&&d.isChildOf(e,g)},y=f.getRng,C=function(e,t,n,r){return void 0===r&&(r=!0),s.fire("ShowCaret",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r&&f.scrollIntoView(t,-1===e),p.show(n,t))},t=function(e){return Zo(e)||vo(e)||bo(e)},w=function(e){return t(e.startContainer)||t(e.endContainer)},x=function(e){var t,n,r,o,i,a=e.cloneNode(!0),u=s.fire("ObjectSelected",{target:e,targetClone:a});return u.isDefaultPrevented()?null:(t=e,u=u.targetClone,a=a,n=s.$,0===(r=ao(J.fromDom(s.getBody()),"#"+h).fold(function(){return n([])},function(e){return n([e.dom])})).length&&(r=n('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",h)).appendTo(s.getBody()),o=d.createRng(),u===a&&G.ie?(r.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(u),o.setStartAfter(r[0].firstChild.firstChild),o.setEndAfter(u)):(r.empty().append($o).append(u).append($o),o.setStart(r[0].firstChild,1),o.setEnd(r[0].lastChild,0)),r.css({top:d.getPos(t,s.getBody()).y}),r[0].focus(),(a=f.getSel()).removeAllRanges(),a.addRange(o),u=o,i=J.fromDom(e),X(bl(J.fromDom(s.getBody()),"*[data-mce-selected]"),function(e){S(i,e)||Kt(e,v)}),d.getAttrib(e,v)||e.setAttribute(v,"1"),l=e,c(),u)};return G.ceFalse&&!Iv(s)&&e(),{showCaret:C,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(ri(e),i(y()),f.scrollIntoView(e))},hideFakeCaret:c,destroy:function(){p.destroy(),l=null}}}function uN(i){function e(){function o(e){var t=C.create("body"),e=e.cloneContents();return t.appendChild(e),w.serializer.serialize(t,{format:"html"})}i.on("keydown",function(e){var t,n,r=e.keyCode;R(e)||r!==y&&r!==b||(r=i.selection.isCollapsed(),t=i.getBody(),r&&!C.isEmpty(t))||!r&&(r=i.selection.getRng(),r=o(r),(n=C.createRng()).selectNode(i.getBody()),r!==o(n))||(e.preventDefault(),i.setContent(""),t.firstChild&&C.isBlock(t.firstChild)?i.selection.setCursorLocation(t.firstChild,0):i.selection.setCursorLocation(t,0),i.nodeChanged())})}function t(){i.shortcuts.add("meta+a",null,"SelectAll")}function n(){i.inline||C.bind(i.getDoc(),"mousedown mouseup",function(e){var t;e.target===i.getDoc().documentElement&&(t=w.getRng(),i.getBody().focus(),"mousedown"===e.type?Zo(t.startContainer)||w.placeCaretAt(e.clientX,e.clientY):w.setRng(t))})}function r(){Range.prototype.getClientRects||i.on("mousedown",function(e){var t;R(e)||"HTML"!==e.target.nodeName||((t=i.getBody()).blur(),co.setEditorTimeout(i,function(){t.focus()}))})}function o(){i.on("click",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&"false"!==C.getContentEditableParent(t)&&(e.preventDefault(),i.selection.select(t),i.nodeChanged()),"A"===t.nodeName&&C.hasClass(t,"mce-item-anchor")&&(e.preventDefault(),w.select(t))})}function a(){function n(){var e=C.getAttribs(w.getStart().cloneNode(!1));return function(){var t=w.getStart();t!==i.getBody()&&(C.setAttrib(t,"style",null),v(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function r(){return!w.isCollapsed()&&C.getParent(w.getStart(),C.isBlock)!==C.getParent(w.getEnd(),C.isBlock)}i.on("keypress",function(e){var t;if(!R(e)&&(8===e.keyCode||46===e.keyCode)&&r())return t=n(),i.getDoc().execCommand("delete",!1,null),t(),e.preventDefault(),!1}),C.bind(i.getDoc(),"cut",function(e){var t;!R(e)&&r()&&(t=n(),co.setEditorTimeout(i,function(){t()}))})}function u(){i.on("keydown",function(e){if(!R(e)&&e.keyCode===b&&w.isCollapsed()&&0===w.getRng().startOffset){var t=w.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function s(){i.getParam("readonly")||i.on("BeforeExecCommand mousedown",function(){A("StyleWithCSS",!1),A("enableInlineTableEditing",!1),Us(i)||A("enableObjectResizing",!1)})}function c(){i.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||v(C.select("a"),function(e){var t=e.parentNode,n=C.getRoot();if(t.lastChild===e){for(;t&&!C.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}C.add(t,"br",{"data-mce-bogus":1})}})})}function l(){i.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function f(){i.inline||i.on("keydown",function(){document.activeElement===document.body&&i.getWin().focus()})}function d(){i.inline||(i.contentStyles.push("body {min-height: 150px}"),i.on("click",function(e){"HTML"===e.target.nodeName&&(11<G.ie?i.getBody().focus():(e=i.selection.getRng(),i.getBody().focus(),i.selection.setRng(e),i.selection.normalize(),i.nodeChanged()))}))}function m(){G.mac&&i.on("keydown",function(e){!q.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),i.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})}function g(){i.on("click",function(e){var t=e.target;do{if("A"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),i.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function p(){i.on("init",function(){i.dom.bind(i.getBody(),"submit",function(e){e.preventDefault()})})}function h(){i.on("keydown",function(e){if(!R(e)&&e.keyCode===q.BACKSPACE){var t=(e=w.getRng()).startContainer,n=e.startOffset,r=C.getRoot(),o=t;if(e.collapsed&&0===n){for(;o&&o.parentNode&&o.parentNode.firstChild===o&&o.parentNode!==r;)o=o.parentNode;"BLOCKQUOTE"===o.tagName&&(i.formatter.toggle("blockquote",null,o),(e=C.createRng()).setStart(t,0),e.setEnd(t,0),w.setRng(e))}}}),e(),G.windowsPhone||i.on("keyup focusin mouseup",function(e){q.modifierPressed(e)||w.normalize()},!0),E&&(n(),o(),sf(i)&&i.on("init",function(){A("DefaultParagraphSeparator",sf(i))}),p(),u(),x.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),(G.iOS?(f(),d(),g):t)()),11<=G.ie&&(d(),u()),G.ie&&(t(),A("AutoUrlDetect",!1),i.on("dragstart",function(e){D(e)}),i.on("drop",function(e){var t;R(e)||(t=T(e))&&t.id!==i.id&&(e.preventDefault(),e=zd(e.x,e.y,i.getDoc()),w.setRng(e),O(t.html,!0))})),S&&(i.on("keydown",function(e){var t,n;R(e)||e.keyCode!==b||i.getBody().getElementsByTagName("hr").length&&w.isCollapsed()&&0===w.getRng().startOffset&&(n=(t=w.getNode()).previousSibling,"HR"===t.nodeName?(C.remove(t),e.preventDefault()):n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(C.remove(n),e.preventDefault()))}),r(),a(),s(),c(),l(),m(),u())}var v=re.each,b=q.BACKSPACE,y=q.DELETE,C=i.dom,w=i.selection,x=i.parser,S=G.gecko,N=G.ie,E=G.webkit,k="data:text/mce-internal,",_=N?"Text":"URL",A=function(e,t){try{i.getDoc().execCommand(e,!1,t)}catch(e){}},R=function(e){return e.isDefaultPrevented()},D=function(e){var t;e.dataTransfer&&(i.selection.isCollapsed()&&"IMG"===e.target.tagName&&w.select(e.target),0<(t=i.selection.getContent()).length)&&(t=k+escape(i.id)+","+escape(t),e.dataTransfer.setData(_,t))},T=function(e){return e.dataTransfer&&(e=e.dataTransfer.getData(_))&&0<=e.indexOf(k)?(e=e.substr(k.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null},O=function(e,t){i.queryCommandSupported("mceInsertClipboardContent")?i.execCommand("mceInsertClipboardContent",!1,{content:e,internal:t}):i.execCommand("mceInsertContent",!1,e)},N=ne;return Iv(i)?(E&&(n(),o(),p(),t(),G.iOS)&&(f(),d(),g()),S&&(r(),s(),l(),m())):h(),{refreshContentEditable:N,isHidden:function(){var e;return!(!S||i.removed||(e=i.selection.getSel())&&e.rangeCount&&0!==e.rangeCount)}}}function sN(e){return Ye(e,function(e){return!1===M(e)})}function cN(e){return e=e.settings,sN({block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements,padd_empty_block_inline_children:e.format_empty_lines})}function lN(e){var t,n=e.settings,r=e.editorUpload.blobCache;return sN({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:r,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})}function fN(o){var e=o.dom.getRoot();o.inline||al(o)&&o.selection.getStart(!0)!==e||cd(e).each(function(e){var t,n,r=e.getNode(),r=Vt(r)?cd(r).getOr(e):e;G.browser.isIE()?(e=o,t=r.toRange(),n=J.fromDom(e.getBody()),t=(Sm(e)?N.from(t):N.none()).map(Nm).filter(xm(n)),e.bookmark=t.isSome()?t:e.bookmark):o.selection.setRng(r.toRange())})}function dN(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("Init"),e.focus(!0),fN(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&co.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)}function mN(e){return(e.inline?e.ui:e.dom).styleSheetLoader}function gN(e){function t(){f.unloadAll(m),e.inline||e.ui.styleSheetLoader.unloadAll(d)}function n(){e.removed?t():e.on("remove",t)}var r,o,i,a,u,s,c,l,f=mN(e),d=Fs(e),m=e.contentCSS,g=(0<e.contentStyles.length&&(r="",re.each(e.contentStyles,function(e){r+=e+"\r\n"}),e.dom.addStyle(r)),so.all((o=e,i=m,a=d,g=[new so(function(e,t){return mN(o).loadAll(i,e,t)})],o.inline?g:g.concat([new so(function(e,t){return o.ui.styleSheetLoader.loadAll(a,e,t)})]))).then(n).catch(n));return e.settings.content_style&&(s=(u=e).settings.content_style,c=J.fromDom(u.getBody()),c=or(rr(c)),l=J.fromTag("style"),kr(l,"type","text/css"),ur(l,J.fromText(s)),ur(c,l),u.on("remove",function(){cr(l)})),g}function pN(t){var e=t.settings,n=t.getDoc(),r=t.getBody();t.fire("PreInit"),e.browser_spellcheck||e.gecko_spellcheck||(n.body.spellcheck=!1,HN.setAttrib(r,"spellcheck","false")),t.quirks=uN(t),t.fire("PostRender"),void 0!==(n=t.getParam("directionality",gl.isRtl()?"rtl":void 0))&&(r.dir=n),e.protect&&t.on("BeforeSetContent",function(t){re.each(e.protect,function(e){t.content=t.content.replace(e,function(e){return"\x3c!--mce:protected "+escape(e)+"--\x3e"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type})}function hN(e){var t;!0!==e.removed&&(Iv(t=e)||t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),dN(e))}function vN(t,e){var u,n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(HN.addClass(r,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);(e=t.getBody()).disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&"static"===HN.getStyle(e,"position",!0)&&(e.style.position="relative"),e.contentEditable=t.getParam("content_editable_state",!0)),e.disabled=!1,t.editorUpload=K0(t),t.schema=Yi(cN(t)),t.dom=ie(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam("content_css_cors",!1,"boolean"),referrerPolicy:vf(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=((r=r0(lN(u=t),u.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,r,o=e.length,i=u.dom,a="data-mce-"+t;o--;)(r=(n=e[o]).attr(t))&&!n.attr(a)&&0!==r.indexOf("data:")&&0!==r.indexOf("blob:")&&("style"===t?((r=i.serializeStyle(i.parseStyle(r),n.name)).length||(r=null),n.attr(a,r),n.attr(t,r)):"tabindex"===t?(n.attr(a,r),n.attr(t,null)):n.attr(a,u.convertURL(r,t,n.name)))}),r.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr("type")||"no/type";0!==r.indexOf("mce-")&&n.attr("type","mce-"+r)}}),u.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name="#comment",n.value="[CDATA["+u.dom.encode(n.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,n=u.schema.getNonEmptyElements();t--;){var r=e[t];r.isEmpty(n)&&0===r.getAll("br").length&&(r.append(new hg("br",1)).shortEnded=!0)}}),r),t.serializer=Ay((o=(e=t).settings,y(y(y({},lN(e)),cN(e)),sN({url_converter:o.url_converter,url_converter_scope:o.url_converter_scope,element_format:o.element_format,entities:o.entities,entity_encoding:o.entity_encoding,indent:o.indent,indent_after:o.indent_after,indent_before:o.indent_before}))),t),t.selection=Qb(t.dom,t.getWin(),t.serializer,t),t.annotator=Od(t),t.formatter=J0(t),t.undoManager=Z0(t),t._nodeChangeDispatcher=new $S(t),t._selectionOverrides=aN(t),G1(t),KS(t),Iv(t)||YS(t),r=Iv(n=t)?fl(null):ox(n),X1(t,r),sf(e=t)&&e.on("NodeChange",h(Q1,e)),nC(t),o=Mv(t);pN(t),o.fold(function(){gN(t).then(function(){return hN(t)})},function(e){t.setProgressState(!0),gN(t).then(function(){e().then(function(e){t.setProgressState(!1),hN(t)},function(e){t.notificationManager.open({type:"error",text:String(e)}),hN(t)})})})}function bN(e){var t=e.getParam("doctype","<!DOCTYPE html>")+"<html><head>",n=(e.getParam("document_base_url","")!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',Os(e,"body_id","tinymce")),r=Os(e,"body_class",""),o=e.translate(e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return Bs(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+Bs(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+r+'" data-id="'+e.id+'" aria-label="'+o+'"><br></body></html>'}function yN(e,t){var n,r,o,i,a=e.translate("Rich Text Area"),u=(i=e.id,a=a,t.height,o=e.getParam("iframe_attrs",{}),n=J.fromTag("iframe"),_r(n,o),_r(n,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:a}),es(n,"tox-edit-area__iframe"),n.dom),a=(u.onload=function(){u.onload=null,e.fire("load")},r=e,o=u,!(document.domain===window.location.hostname||!G.browser.isIE()||(i=V0("mce"),r[i]=function(){vN(r)},i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+r.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()",jN.setAttrib(o,"src",i),0)));return e.contentAreaContainer=t.iframeContainer,e.iframeElement=u,e.iframeHTML=bN(e),jN.add(t.iframeContainer,u),a}function CN(t,n,r){var o=D0.get(r),i=D0.urls[r]||t.documentBaseUrl.replace(/\/$/,"");if(r=re.trim(r),o&&-1===re.inArray(n,r)&&(re.each(D0.dependencies(r),function(e){CN(t,n,e)}),!t.plugins[r]))try{var a=new o(t,i,t.$);(t.plugins[r]=a).init&&(a.init(t,i),n.push(r))}catch(e){o=t,a=r,i=e;a=gl.translate(["Failed to initialize plugin: {0}",a]),Id(o,"PluginLoadError",{message:a}),F0(a,i),P0(o,a)}}function wN(e){return e.replace(/^\-/,"")}function xN(e){return{editorContainer:e,iframeContainer:e,api:{}}}function SN(e){var t=e.getElement();return e.inline?xN(null):(e=t,t=VN.create("div"),VN.insertAfter(t,e),xN(t))}function NN(e){var t,n,r=e.getElement();return e.orgDisplay=r.style.display,W(zs(e))?e.theme.renderUI():k(zs(e))?(t=(r=e).getElement(),(n=zs(r)(r,t)).editorContainer.nodeType&&(n.editorContainer.id=n.editorContainer.id||r.id+"_parent"),n.iframeContainer&&n.iframeContainer.nodeType&&(n.iframeContainer.id=n.iframeContainer.id||r.id+"_iframecontainer"),n.height=n.iframeHeight||t.offsetHeight,n):SN(e)}function EN(e){return"-"===e.charAt(0)}function kN(t,e,n){return N.from(e).filter(function(e){return 0<e.length&&!S0.has(e)}).map(function(e){return{url:t.editorManager.baseURL+"/icons/"+e+"/icons"+n+".js",name:N.some(e)}})}function _N(t){function e(){$N.unbind(window,"ready",e),t.render()}var n,r,o,i,a,u,s,c=t.id;gl.setCode(Ms(t)),ra.Event.domLoaded?t.getElement()&&G.contentEditable&&(n=J.fromDom(t.getElement()),r=Le(n.dom.attributes,function(e,t){return e[t.name]=t.value,e},{}),t.on("remove",function(){de(n.dom.attributes,function(e){Kt(n,e.name)}),_r(n,r)}),t.ui.styleSheetLoader=(o=t,lo.forElement(n,{contentCssCors:Sf(o),referrerPolicy:vf(o)})),t.getParam("inline")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(i=t.getElement().form||$N.getParent(c,"form"))&&(t.formElement=i,t.getParam("hidden_input")&&!hr(t.getElement())&&($N.insertAfter($N.create("input",{type:"hidden",name:c}),c),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},$N.bind(i,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!t.getParam("submit_patch")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=O0(t),t.notificationManager=Wy(t),"xml"===t.getParam("encoding")&&t.on("GetContent",function(e){e.save&&(e.content=$N.encode(e.content))}),t.getParam("add_form_submit_trigger")&&t.on("submit",function(){t.initialized&&t.save()}),t.getParam("add_unload_trigger")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),u=(a=t).suffix,s=$u.ScriptLoader,KN(s,a,u,function(){WN(s,a),XN(s,a,u),YN(a,u),s.loadQueue(function(){a.removed||qN(a)},a,function(){a.removed||qN(a)})})):$N.bind(window,"ready",e)}function AN(e,t){t=t,f(e).editor.addVisual(t)}function RN(n,t,e){return Cb(J.fromDom(e),function(e){return Br(t=e,n).orThunk(function(){return"font"===jn(t)?Ge(GN,n).bind(function(e){return Rr(t,e)}):N.none()});var t},function(e){return S(J.fromDom(t),e)})}function DN(n){return function(t,e){return N.from(e).map(J.fromDom).filter(Vn).bind(function(e){return RN(n,t,e.dom).or((e=e.dom,N.from(ie.DOM.getStyle(e,n,!0))))}).getOr("")}}function TN(e){return cd(e.getBody()).map(function(e){e=e.container();return _(e)?e.parentNode:e})}function ON(e,t){return ZN(e,z(N.some,t))}function BN(e,t){var n,r;return/^[0-9.]+$/.test(t)&&1<=(n=parseInt(t,10))&&n<=7?(r=ff(e),(e=df(e))?e[n-1]||t:r[n-1]||t):t}function PN(e,t){t=BN(e,t),e.formatter.toggle("fontname",{value:function(e){e=e.split(/\s*,\s*/);return v(e,function(e){return-1===e.indexOf(" ")||sn(e,'"')||sn(e,"'")?e:"'"+e+"'"}).join(",")}(t)}),e.nodeChanged()}function LN(e,t){var n,r="string"!=typeof(t=t)?(r=re.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:r}):{content:t,details:{}};t=r.content,n=r.details,$b(e).editor.insertContent(t,n)}var IN=E,MN=wr,FN=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},UN=wr,zN=E,HN=ie.DOM,jN=ie.DOM,VN=ie.DOM,qN=function(e){e.fire("ScriptsLoaded"),n=e,c=re.trim(Is(n)),r=n.ui.registry.getAll().icons,c=y(y({},S0.get("default").icons),S0.get(c).icons),Y(c,function(e,t){ee(r,t)||n.ui.registry.addIcon(t,e)}),u=zs(c=e),W(u)?(c.settings.theme=wN(u),s=T0.get(u),c.theme=new s(c,T0.urls[u]),c.theme.init&&c.theme.init(c,T0.urls[u]||c.documentBaseUrl.replace(/\/$/,""),c.$)):c.theme={},t=e,o=[],re.each(js(t).split(/[ ,]/),function(e){CN(t,o,wN(e))});var n,r,t,o,i,a,u,s=NN(e),c=(i=e,a=N.from(s.api).getOr({}),u={show:N.from(a.show).getOr(ne),hide:N.from(a.hide).getOr(ne),disable:N.from(a.disable).getOr(ne),isDisabled:N.from(a.isDisabled).getOr(l),enable:function(){i.mode.isReadOnly()||N.from(a.enable).map($)}},i.ui=y(y({},i.ui),u),{editorContainer:s.editorContainer,iframeContainer:s.iframeContainer});return e.editorContainer=c.editorContainer||null,H0(e),e.inline?vN(e):(c=yN(u=e,e=c),e.editorContainer&&(jN.get(e.editorContainer).style.display=u.orgDisplay,u.hidden=jN.isHidden(e.editorContainer)),u.getElement().style.display="none",jN.setAttrib(u.id,"aria-hidden","true"),void(c||vN(u)))},$N=ie.DOM,WN=function(e,t){var n,r=Ms(t),o=t.getParam("language_url","","string");!1===gl.hasCode(r)&&"en"!==r&&(n=""!==o?o:t.editorManager.baseURL+"/langs/"+r+".js",e.add(n,ne,void 0,function(){L0(t,"LanguageLoadError",I0("language",n,r))}))},KN=function(e,t,n,r){var o,i=zs(t);W(i)?(EN(i)||ee(T0.urls,i)||((o=t.getParam("theme_url"))?T0.load(i,t.documentBaseURI.toAbsolute(o)):T0.load(i,"themes/"+i+"/theme"+n+".js")),e.loadQueue(function(){T0.waitFor(i,r)})):r()},XN=function(e,o,t){var t=kN(o,"default",t),n=N.from(o.getParam("icons_url","","string")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:N.none()}}).orThunk(function(){return kN(o,Is(o),"")});X(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([t,n]),function(r){e.add(r.url,ne,void 0,function(){var e,t,n;e=o,t=r.url,n=r.name.getOrUndefined(),L0(e,"IconsLoadError",I0("icons",t,n))})})},YN=function(r,o){re.each(r.getParam("external_plugins"),function(e,t){D0.load(t,e,ne,void 0,function(){M0(r,e,t)}),r.settings.plugins+=" "+t}),re.each(js(r).split(/[ ,]/),function(e){var t,n;(e=re.trim(e))&&!D0.urls[e]&&(EN(e)?(e=e.substr(1,e.length),t=D0.dependencies(e),re.each(t,function(e){var t=D0.createUrl({prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"},e);D0.load(t.resource,t,ne,void 0,function(){M0(r,t.prefix+t.resource+t.suffix,t.resource)})})):(n={prefix:"plugins/",resource:e,suffix:"/plugin"+o+".js"},D0.load(e,n,ne,void 0,function(){M0(r,n.prefix+n.resource+n.suffix,e)})))})},GN={"font-size":"size","font-family":"face"},JN=DN("font-size"),QN=U(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},DN("font-family")),ZN=function(e,t){return n=e,N.from(n.selection.getRng()).bind(function(e){var t=n.getBody();return e.startContainer===t&&0===e.startOffset?N.none():N.from(n.selection.getStart(!0))}).orThunk(h(TN,e)).map(J.fromDom).filter(Vn).bind(t);var n},eE=re.each,tE=re.map,nE=re.inArray,rE=(oE.prototype.execCommand=function(t,n,r,e){var o,i,a=!1,u=this;if(!u.editor.removed){if("mcefocus"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?(i=u.editor,Zm(i).each(function(e){return i.selection.setRng(e)})):u.editor.focus()),(e=u.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;e=t.toLowerCase();if(o=u.commands.exec[e])return o(e,n,r),u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(eE(this.editor.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{a=u.editor.getDoc().execCommand(t,n,r)}catch(e){}return!!a&&(u.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},oE.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},oE.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},oE.prototype.addCommands=function(e,n){void 0===n&&(n="exec");var r=this;eE(e,function(t,e){eE(e.toLowerCase().split(","),function(e){r.commands[n][e]=t})})},oE.prototype.addCommand=function(e,o,i){var a=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,t,n,r){return o.call(i||a.editor,t,n,r)}},oE.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},oE.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},oE.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},oE.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},oE.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},oE.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},oE.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},oE.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},oE.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},oE.prototype.setupCommands=function(o){function e(t){return function(){var e=o.selection,e=e.isCollapsed()?[o.dom.getParent(e.getNode(),o.dom.isBlock)]:e.getSelectedBlocks(),e=tE(e,function(e){return!!o.formatter.matchNode(e,t)});return-1!==nE(e,!0)}}var r=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ne,"mceEndUndoLevel,mceAddUndoLevel":function(){o.undoManager.add()},mceFocus:function(e,t,n){Tm(o,n)},"Cut,Copy,Paste":function(e){var t,n=o.getDoc();try{r.execNativeCommand(e)}catch(e){t=!0}!(t="paste"!==e||n.queryCommandEnabled(e)?t:!0)&&n.queryCommandSupported(e)||(t=o.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),G.mac&&(t=t.replace(/Ctrl\+/g,"⌘+")),o.notificationManager.open({text:t,type:"error"}))},unlink:function(){var e;o.selection.isCollapsed()?(e=o.dom.getParent(o.selection.getStart(),"a"))&&o.dom.remove(e,!0):o.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),eE("left,center,right,justify".split(","),function(e){t!==e&&o.formatter.remove("align"+e)}),"none"!==t&&r.toggleFormat("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){r.execNativeCommand(e);var t,e=o.dom.getParent(o.selection.getNode(),"ol,ul");e&&(t=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName))&&(r.storeSelection(),o.dom.split(t,e),r.restoreSelection())},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){r.toggleFormat(e)},"ForeColor,HiliteColor":function(e,t,n){r.toggleFormat(e,{value:n})},FontName:function(e,t,n){PN(o,n)},FontSize:function(e,t,n){var r;(r=o).formatter.toggle("fontsize",{value:BN(r,n)}),r.nodeChanged()},LineHeight:function(e,t,n){var r;(r=o).formatter.toggle("lineheight",{value:String(n)}),r.nodeChanged()},Lang:function(e,t,n){r.toggleFormat(e,{value:n.code,customValue:n.customCode})},RemoveFormat:function(e){o.formatter.remove(e)},mceBlockQuote:function(){r.toggleFormat("blockquote")},FormatBlock:function(e,t,n){return r.toggleFormat(n||"p")},mceCleanup:function(){var e=o.selection.getBookmark();o.setContent(o.getContent()),o.selection.moveToBookmark(e)},mceRemoveNode:function(e,t,n){n=n||o.selection.getNode();n!==o.getBody()&&(r.storeSelection(),o.dom.remove(n,!0),r.restoreSelection())},mceSelectNodeDepth:function(e,t,n){var r=0;o.dom.getParent(o.selection.getNode(),function(e){if(1===e.nodeType&&r++===n)return o.selection.select(e),!1},o.getBody())},mceSelectNode:function(e,t,n){o.selection.select(n)},mceInsertContent:function(e,t,n){LN(o,n)},mceInsertRawHTML:function(e,t,n){o.selection.setContent("tiny_mce_marker");var r=o.getContent();o.setContent(r.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(e,t,n){Ww(o,n)},mceToggleFormat:function(e,t,n){r.toggleFormat(n)},mceSetContent:function(e,t,n){o.setContent(n)},"Indent,Outdent":function(e){$1(o,e)},mceRepaint:ne,InsertHorizontalRule:function(){o.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){o.hasVisual=!o.hasVisual,o.addVisual()},mceReplaceContent:function(e,t,n){o.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,o.selection.getContent({format:"text"})))},mceInsertLink:function(e,t,n){"string"==typeof n&&(n={href:n});var r=o.dom.getParent(o.selection.getNode(),"a");n.href=n.href.replace(/ /g,"%20"),r&&n.href||o.formatter.remove("link"),n.href&&o.formatter.apply("link",n,r)},selectAll:function(){var e,t=o.dom.getParent(o.selection.getStart(),wr);t&&((e=o.dom.createRng()).selectNodeContents(t),o.selection.setRng(e))},mceNewDocument:function(){o.setContent("")},InsertLineBreak:function(e,t,n){return Vw(o,n),!0}});r.addCommands({JustifyLeft:e("alignleft"),JustifyCenter:e("aligncenter"),JustifyRight:e("alignright"),JustifyFull:e("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return r.isFormatMatch(e)},mceBlockQuote:function(){return r.isFormatMatch("blockquote")},Outdent:function(){return V1(o)},"InsertUnorderedList,InsertOrderedList":function(e){var t=o.dom.getParent(o.selection.getNode(),"ul,ol");return t&&("insertunorderedlist"===e&&"UL"===t.tagName||"insertorderedlist"===e&&"OL"===t.tagName)}},"state"),r.addCommands({Undo:function(){o.undoManager.undo()},Redo:function(){o.undoManager.redo()}}),r.addQueryValueHandler("FontName",function(){return ON(t=o,function(e){return QN(t.getBody(),e.dom)}).getOr("");var t},this),r.addQueryValueHandler("FontSize",function(){return ON(t=o,function(e){return JN(t.getBody(),e.dom)}).getOr("");var t},this),r.addQueryValueHandler("LineHeight",function(){return ON(t=o,function(n){var e=J.fromDom(t.getBody());return Cb(n,function(e){return Br(e,"line-height")},h(S,e)).getOrThunk(function(){var e=parseFloat(Tr(n,"line-height")),t=parseFloat(Tr(n,"font-size"));return String(e/t)})}).getOr("");var t},this)},oE);function oE(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function iE(e,t,n){var r,o;ns(e,t)&&!1===n?(o=t,Ju(r=e)?r.dom.classList.remove(o):Zu(r,o),ts(r)):n&&es(e,t)}function aE(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}}function uE(e,t){e.dom.contentEditable=t?"true":"false"}function sE(e,t){var n=J.fromDom(e.getBody());iE(n,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),N.from(e.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")}),e.readonly=!0,uE(n,!1),X(bl(n,'*[contenteditable="true"]'),function(e){kr(e,lE,"true"),uE(e,!1)})):(e.readonly=!1,uE(n,!0),X(bl(n,"*["+lE+'="true"]'),function(e){Kt(e,lE),uE(e,!0)}),aE(e,"StyleWithCSS",!1),aE(e,"enableInlineTableEditing",!1),aE(e,"enableObjectResizing",!1),Dm(e)&&e.focus(),e.selection.setRng(e.selection.getRng()),e.nodeChanged())}function cE(t){t.parser.addAttributeFilter("contenteditable",function(e){fE(t)&&X(e,function(e){e.attr(lE,e.attr("contenteditable")),e.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(lE,function(e){fE(t)&&X(e,function(e){e.attr("contenteditable",e.attr(lE))})}),t.serializer.addTempAttr(lE)}var lE="data-mce-contenteditable",fE=function(e){return e.readonly},dE=function(e){e.serializer?cE(e):e.on("PreInit",function(){cE(e)})},mE=function(r,o){var e,t;"click"!==o.type||q.metaKeyPressed(o)||(e=J.fromDom(o.target),t=r,uo(e,"a",function(e){return S(e,J.fromDom(t.getBody()))}).bind(function(e){return Rr(e,"href")}).each(function(e){var t,n;o.preventDefault(),/^#/.test(e)?(n=r.dom.select(e+',[name="'+(sn(t=e,n="#")?(n=n.length,t.substring(n)):t)+'"]')).length&&r.selection.scrollIntoView(n[0],!0):window.open(e,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))},gE=function(t){t.on("ShowCaret",function(e){fE(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){fE(t)&&e.preventDefault()})},pE=re.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),hE=(vE.isNative=function(e){return!!pE[e.toLowerCase()]},vE.prototype.fire=function(e,t){var n=e.toLowerCase(),r=Ao(n,t||{},this.scope),o=(this.settings.beforeFire&&this.settings.beforeFire(r),this.bindings[n]);if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},vE.prototype.on=function(e,t,n,r){if(t=!1===t?l:t)for(var o={func:t,removed:!1},i=(r&&re.extend(o,r),e.toLowerCase().split(" ")),a=i.length;a--;){var u=i[a],s=this.bindings[u];s||(s=[],this.toggleEvent(u,!0)),s=n?Ze([o],s,!0):Ze(Ze([],s,!0),[o],!1),this.bindings[u]=s}return this},vE.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(" "),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return Y(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;u&&(t?(u=(i=Pe(u,function(e){return e.func===t})).fail,this.bindings[a]=u,X(i.pass,function(e){e.removed=!0})):u.length=0,u.length||(this.toggleEvent(e,!1),delete this.bindings[a]))}else Y(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},vE.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},vE.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},vE);function vE(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||l}function bE(n){return n._eventDispatcher||(n._eventDispatcher=new hE({scope:n,toggleEvent:function(e,t){hE.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}function yE(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:(t=yf(e))?(e.eventRoot||(e.eventRoot=EE.select(t)[0]),e.eventRoot):e.getBody()}function CE(e,t,n){kE(e)?e.fire(t,n):fE(e)&&mE(e,n)}function wE(i,a){var e,t;i.delegates||(i.delegates={}),i.delegates[a]||i.removed||(t=yE(i,a),yf(i)?(NE||(NE={},i.editorManager.on("removeEditor",function(){i.editorManager.activeEditor||NE&&(Y(NE,function(e,t){i.dom.unbind(yE(i,t))}),NE=null)})),NE[a]||(NE[a]=e=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();o!==t&&!EE.isChildOf(t,o)||CE(n[r],a,e)}},EE.bind(t,a,e))):(EE.bind(t,a,e=function(e){CE(i,a,e)}),i.delegates[a]=e))}function xE(e,t,n,r){var o=n[t.get()],n=n[r];try{n.activate()}catch(e){return void console.error("problem while activating editor mode "+r+":",e)}o.deactivate(),o.editorReadOnly!==n.editorReadOnly&&sE(e,n.editorReadOnly),t.set(r),e.fire("SwitchMode",{mode:r})}function SE(e){var t,n={},r=(TE(OE(e.toLowerCase(),"+"),function(e){e in PE?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=BE[e]||e.toUpperCase().charCodeAt(0))}),[n.keyCode]);for(t in PE)n[t]?r.push(t):n[t]=!1;return n.id=r.join(","),n.access&&(n.alt=!0,G.mac?n.ctrl=!0:n.shift=!0),n.meta&&(G.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}var NE,n={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var r=bE(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return bE(this).on(e,t,n)},off:function(e,t){return bE(this).off(e,t)},once:function(e,t){return bE(this).once(e,t)},hasEventListeners:function(e){return bE(this).has(e)}},EE=ie.DOM,kE=function(e){return!e.hidden&&!fE(e)},_E=y(y({},n),{bindPendingEventDelegates:function(){var t=this;re.each(t._pendingNativeEvents,function(e){wE(t,e)})},toggleNativeEvent:function(e,t){var n=this;"focus"===e||"blur"===e||n.removed||(t?n.initialized?wE(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(yE(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var n=this,e=n.getBody(),t=n.dom;n.delegates&&(Y(n.delegates,function(e,t){n.dom.unbind(yE(n,t),t,e)}),delete n.delegates),!n.inline&&e&&t&&(e.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc())),t&&(t.unbind(e),t.unbind(n.getContainer()))}}),AE=["design","readonly"],RE=function(e,t,n,r){if(r!==n.get()){if(!ee(t,r))throw new Error("Editor mode '"+r+"' is invalid");e.initialized?xE(e,n,t,r):e.on("init",function(){return xE(e,n,t,r)})}},DE=function(e,t,n){if(Oe(AE,t))throw new Error("Cannot override default mode "+t);return y(y({},e),((e={})[t]=y(y({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error("problem while deactivating editor mode "+t+":",e)}}}),e))},TE=re.each,OE=re.explode,BE={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},PE=re.makeMap("alt,ctrl,shift,meta,access"),LE=(IE.prototype.add=function(e,t,n,r){var o=this,i=o.normalizeCommandFunc(n);return TE(OE(re.trim(e)),function(e){e=o.createShortcut(e,t,i,r);o.shortcuts[e.id]=e}),!0},IE.prototype.remove=function(e){e=this.createShortcut(e);return!!this.shortcuts[e.id]&&(delete this.shortcuts[e.id],!0)},IE.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return"string"==typeof n?function(){t.editor.execCommand(n,!1,null)}:re.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},IE.prototype.createShortcut=function(e,t,n,r){e=re.map(OE(e,">"),SE);return e[e.length-1]=re.extend(e[e.length-1],{func:n,scope:r||this.editor}),re.extend(e[0],{desc:this.editor.translate(t),subpatterns:e.slice(1)})},IE.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},IE.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},IE.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},IE.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},IE);function IE(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on("keyup keypress keydown",function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(TE(n.shortcuts,function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),"keydown"===t.type&&n.executeShortcutAction(e),!0}),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&"keydown"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}var ME=function(){function e(n,r){return function(e,t){return n[e.toLowerCase()]=y(y({},t),{type:r})}}var t={},n={},r={},o={},i={},a={},u={};return{addButton:e(t,"button"),addGroupToolbarButton:e(t,"grouptoolbarbutton"),addToggleButton:e(t,"togglebutton"),addMenuButton:e(t,"menubutton"),addSplitButton:e(t,"splitbutton"),addMenuItem:e(n,"menuitem"),addNestedMenuItem:e(n,"nestedmenuitem"),addToggleMenuItem:e(n,"togglemenuitem"),addAutocompleter:e(r,"autocompleter"),addContextMenu:e(i,"contextmenu"),addContextToolbar:e(a,"contexttoolbar"),addContextForm:e(a,"contextform"),addSidebar:e(u,"sidebar"),addIcon:function(e,t){return o[e.toLowerCase()]=t},getAll:function(){return{buttons:t,menuItems:n,icons:o,popups:r,contextMenus:i,contextToolbars:a,sidebars:u}}}},FE=ie.DOM,UE=re.extend,zE=re.each,HE=re.resolve,jE=G.ie,VE=(i.prototype.render=function(){_N(this)},i.prototype.focus=function(e){this.execCommand("mceFocus",!1,e)},i.prototype.hasFocus=function(){return cg(this)},i.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),"string"==typeof o&&(r=(r=o.replace(/\.\w+$/,""))?HE(r):0,o=HE(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},i.prototype.translate=function(e){return gl.translate(e)},i.prototype.getParam=function(e,t,n){return jy(this,e,t,n)},i.prototype.hasPlugin=function(e,t){return!(!Oe(js(this).split(/[ ,]/),e)||t&&void 0===D0.get(e))},i.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},i.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},i.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},i.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},i.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},i.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},i.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},i.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},i.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},i.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(FE.show(this.getContainer()),FE.hide(this.id)),this.load(),this.fire("show"))},i.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(jE&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(FE.hide(e.getContainer()),FE.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},i.prototype.isHidden=function(){return!!this.hidden},i.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},i.prototype.load=function(e){var t,n=this.getElement();return this.removed?"":n?((e=e||{}).load=!0,t=hr(n)?n.value:n.innerHTML,t=this.setContent(t,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=null,t):void 0},i.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,hr(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=FE.getParent(r.id,"form"))&&zE(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},i.prototype.setContent=function(e,t){return Dy(this,e,t)},i.prototype.getContent=function(e){return Ry(this,e)},i.prototype.insertContent=function(e,t){t&&(e=UE({content:e},t)),this.execCommand("mceInsertContent",!1,e)},i.prototype.resetContent=function(e){void 0===e?Dy(this,this.startContent,{format:"raw"}):Dy(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},i.prototype.isDirty=function(){return!this.isNotDirty},i.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},i.prototype.getContainer=function(){return this.container||(this.container=FE.get(this.editorContainer||this.id+"_parent")),this.container},i.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},i.prototype.getElement=function(){return this.targetElm||(this.targetElm=FE.get(this.id)),this.targetElm},i.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},i.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},i.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},i.prototype.convertURL=function(e,t,n){var r=this.settings;if(r.urlconverter_callback)return this.execCallback("urlconverter_callback",e,n,!0,t);if(r.convert_urls&&(!n||"LINK"!==n.nodeName)&&0!==e.indexOf("file:")&&0!==e.length){if(r.relative_urls)return this.documentBaseURI.toRelative(e);e=this.documentBaseURI.toAbsolute(e,r.remove_script_host)}return e},i.prototype.addVisual=function(e){AN(this,e)},i.prototype.remove=function(){Oy(this)},i.prototype.destroy=function(e){By(this,e)},i.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},i.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},i.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},i.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},i.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},i.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},i);function i(e,t,n){var r,o,i,a=this,e=(this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,UE(this,_E),this.settings=function(e,t,n,r,o){t=w0(o,t,n,h0,e),n=x0(v0||b0,v0,t,r,o);return!1!==n.deprecation_warnings&&p0(o,n),n}(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&($u.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),ie.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Xu.languageLoad=this.settings.language_load,Xu.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Sy(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new LE(this),this.editorCommands=new rE(this),this.settings.cache_suffix&&(G.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(t=ME()).addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll},styleSheetLoader:void 0,show:ne,hide:ne,enable:ne,disable:ne,isDisabled:l},r=this,o=fl("design"),i=fl({design:{activate:ne,deactivate:ne,editorReadOnly:!1},readonly:{activate:ne,deactivate:ne,editorReadOnly:!0}}),dE(r),gE(r),{isReadOnly:function(){return fE(r)},set:function(e){return RE(r,i.get(),o,e)},get:function(){return o.get()},register:function(e,t){i.set(DE(i.get(),e,t))}});this.mode=e,this.setMode=e.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=oe.overrideDefaults(function(){return{context:a.inline?a.getBody():a.getDoc(),element:a.getBody()}})}function qE(t){var n=t.type;rk(fk.get(),function(e){switch(n){case"scroll":e.fire("ScrollWindow",t);break;case"resize":e.fire("ResizeWindow",t)}})}function $E(e){e!==ak&&(e?oe(window).on("resize scroll",qE):oe(window).off("resize scroll",qE),ak=e)}function WE(e,t,n){var r=t.x,o=t.y,i=e.w,e=e.h,a=t.w,t=t.h;return"b"===(n=(n||"").split(""))[0]&&(o+=t),"r"===n[1]&&(r+=a),"c"===n[0]&&(o+=gk(t/2)),"c"===n[1]&&(r+=gk(a/2)),"b"===n[3]&&(o-=e),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=gk(e/2)),"c"===n[4]&&(r-=gk(i/2)),KE(r,o,i,e)}function KE(e,t,n,r){return{x:e,y:t,w:n,h:r}}function XE(e,t,n){function r(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||(o=!0,null!==i&&(clearTimeout(i),i=null),n.apply(null,e))}}void 0===n&&(n=1e3);var o=!1,i=null,e=r(e),a=r(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=setTimeout(function(){return a.apply(null,e)},n))},resolve:e,reject:a}}function YE(){}var GE,JE,QE,ZE,ek,tk=ie.DOM,nk=re.explode,rk=re.each,ok=re.extend,ik=0,ak=!1,uk=[],sk=[],ck=function(t){var e=sk;delete uk[t.id];for(var n=0;n<uk.length;n++)if(uk[n]===t){uk.splice(n,1);break}return sk=b(sk,function(e){return t!==e}),fk.activeEditor===t&&(fk.activeEditor=0<sk.length?sk[0]:null),fk.focusedEditor===t&&(fk.focusedEditor=null),e.length!==sk.length},lk="CSS1Compat"!==document.compatMode,fk=y(y({},n),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:oe,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:uk,i18n:gl,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t="",n=Sy.getDocumentBaseUrl(document.location),r=(/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),window.tinymce||window.tinyMCEPreInit);if(r)e=r.base||r.baseURL,t=r.suffix;else{for(var o=document.getElementsByTagName("script"),i=0;i<o.length;i++){var a=o[i].src||"";if(""!==a){var u=a.substring(a.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(a)){-1!==u.indexOf(".min")&&(t=".min"),e=a.substring(0,a.lastIndexOf("/"));break}}}!e&&document.currentScript&&(-1!==(a=document.currentScript.src).indexOf(".min")&&(t=".min"),e=a.substring(0,a.lastIndexOf("/")))}this.baseURL=new Sy(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Sy(this.baseURL),this.suffix=t,(r=this).on("AddEditor",h(_m,r)),r.on("RemoveEditor",h(Am,r))},overrideDefaults:function(e){var t=e.base_url,t=(t&&this._setBaseUrl(t),e.suffix),t=(e.suffix&&(this.suffix=t),(this.defaultSettings=e).plugin_base_urls);void 0!==t&&Y(t,function(e,t){Xu.PluginManager.urls[t]=e})},init:function(a){var n,u=this,r=re.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),t=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},s=function(e){var t=e.id;return t||(t=Ge(e,"name").filter(function(e){return!tk.get(e)}).getOrThunk(tk.uniqueId),e.setAttribute("id",t)),t},e=function(e){e=a[e];if(e)return e.apply(u,[])},o=function(e,t){return t.constructor===RegExp?t.test(e.className):tk.hasClass(e,t)},c=function(t){var n=[];if(G.browser.isIE()&&G.browser.version.major<11)return F0("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(lk)return F0("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)rk(t.types,function(e){n=n.concat(tk.select(e.selector))});else{if(t.selector)return tk.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var e=t.elements||"";0<e.length&&rk(nk(e),function(t){var e=tk.get(t);e?n.push(e):rk(document.forms,function(e){rk(e.elements,function(e){e.name===t&&(t="mce_editor_"+ik++,tk.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":rk(tk.select("textarea"),function(e){t.editor_deselector&&o(e,t.editor_deselector)||t.editor_selector&&!o(e,t.editor_selector)||n.push(e)})}}return n},l=function(e){n=e},f=function(){function n(e,t,n){e=new VE(e,t,u),i.push(e),e.on("init",function(){++o===r.length&&l(i)}),e.targetElm=e.targetElm||n,e.render()}var r,o=0,i=[];tk.unbind(window,"ready",f),e("onpageload"),r=oe.unique(c(a)),a.types?rk(a.types,function(t){re.each(r,function(e){return!tk.is(e,t.selector)||(n(s(e),ok({},a,t),e),!1)})}):(re.each(r,function(e){(e=u.get(e.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(ck(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)}),0===(r=re.grep(r,function(e){return!u.get(e.id)})).length?l([]):rk(r,function(e){t(a,e)?F0("Could not initialize inline editor on invalid inline target element",e):n(s(e),a,e)}))};return u.settings=a,tk.bind(window,"ready",f),new so(function(t){n?t(n):l=function(e){t(e)}})},get:function(t){return 0===arguments.length?sk.slice(0):W(t)?Ie(sk,function(e){return e.id===t}).getOr(null):F(t)&&sk[t]||null},add:function(e){var n=this;return uk[e.id]===e||(null===n.get(e.id)&&("length"!==e.id&&(uk[e.id]=e),uk.push(e),sk.push(e)),$E(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),GE)||(GE=function(e){var t=n.fire("BeforeUnload");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener("beforeunload",GE)),e},createEditor:function(e,t){return this.add(new VE(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!W(e))return n=e,L(r.get(n.id))?null:(ck(n)&&r.fire("RemoveEditor",{editor:n}),0===sk.length&&window.removeEventListener("beforeunload",GE),n.remove(),$E(0<sk.length),n);rk(tk.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=sk.length-1;0<=t;t--)r.remove(sk[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new VE(n,this.settings,this).render(),!0;case"mceRemoveEditor":return r&&r.remove(),!0;case"mceToggleEditor":return r?r.isHidden()?r.show():r.hide():this.execCommand("mceAddEditor",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){rk(sk,function(e){e.save()})},addI18n:function(e,t){gl.add(e,t)},translate:function(e){return gl.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Sy(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Sy(this.baseURL)}}),dk=(fk.setup(),Math.min),mk=Math.max,gk=Math.round,Pn={inflate:function(e,t,n){return KE(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:WE,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=WE(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=mk(e.x,t.x),r=mk(e.y,t.y),o=dk(e.x+e.w,t.x+t.w),e=dk(e.y+e.h,t.y+t.h);return o-n<0||e-r<0?null:KE(n,r,o-n,e-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,e=e.y+e.h,a=t.x+t.w,u=t.y+t.h,s=mk(0,t.x-r),t=mk(0,t.y-o),a=mk(0,i-a),u=mk(0,e-u);return r+=s,o+=t,n&&(i+=s,e+=t,r-=a,o-=u),KE(r,o,(i-=a)-r,(e-=u)-o)},create:KE,fromClientRect:function(e){return KE(e.left,e.top,e.width,e.height)}},r=(JE={},QE={},{load:function(r,o){var e,i='Script at URL "'+o+'" failed to load',a='Script at URL "'+o+"\" did not call `tinymce.Resource.add('"+r+"', data)` within 1 second";return void 0!==JE[r]?JE[r]:(e=new so(function(e,t){var n=XE(e,t);QE[r]=n.resolve,$u.ScriptLoader.loadScript(o,function(){return n.start(a)},function(){return n.reject(i)})}),JE[r]=e)},add:function(e,t){void 0!==QE[e]&&(QE[e](t),delete QE[e]),JE[e]=so.resolve(t)}}),pk=re.each,hk=re.extend,vk=(YE.extend=ZE=function(n){function r(){var e,t,n;if(!ek&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}var o=this.prototype,i=(ek=!0,new this);return ek=!1,n.Mixins&&(pk(n.Mixins,function(e){for(var t in e)"init"!==t&&(n[t]=e[t])}),o.Mixins)&&(n.Mixins=o.Mixins.concat(n.Mixins)),n.Methods&&pk(n.Methods.split(","),function(e){n[e]=t}),n.Properties&&pk(n.Properties.split(","),function(e){var t="_"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&pk(n.Statics,function(e,t){r[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=hk({},o.Defaults,n.Defaults)),Y(n,function(e,t){var n,r;"function"==typeof e&&o[t]?i[t]=(n=t,r=e,function(){var e=this._super,t=(this._super=o[n],r.apply(this,arguments));return this._super=e,t}):i[t]=e}),r.prototype=i,(r.constructor=r).extend=ZE,r},Math.min),bk=Math.max,yk=Math.round,Ck={serialize:function(e){e=JSON.stringify(e);return W(e)?e.replace(/[\u0080-\uFFFF]/g,function(e){e=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(e.length)+e}):e},parse:function(e){try{return JSON.parse(e)}catch(e){}}},t={callbacks:{},count:0,send:function(t){var n=this,r=ie.DOM,o=(void 0!==t.count?t:n).count,i="tinymce_jsonp_"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,"script",{id:i,src:t.url,type:"text/javascript"}),n.count++}},wk=y(y({},n),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?"TIMED_OUT":"GENERAL",t,e),t=null):co.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||"",wk.fire("beforeInitialize",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&re.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),(t=wk.fire("beforeSend",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();co.setTimeout(r,10)}}),xk=re.extend,e=(Sk.sendRPC=function(e){return(new Sk).send(e)},Sk.prototype.send=function(e){var n=e.error,r=e.success,o=xk(this.settings,e);o.success=function(e,t){(e=void 0===(e=Ck.parse(e))?{error:"JSON Parse error."}:e).error?n.call(o.error_scope||o.scope,e.error,t):r.call(o.success_scope||o.scope,e.result)},o.error=function(e,t){n&&n.call(o.error_scope||o.scope,e,t)},o.data=Ck.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),o.content_type="application/json",wk.send(o)},Sk);function Sk(e){this.settings=xk({},e),this.count=0}var Nk,Ek;try{var kk,_k="__storage_test__";(kk=window.localStorage).setItem(_k,_k),kk.removeItem(_k)}catch(e){Nk={},Ek=[],Ln={getItem:function(e){e=Nk[e];return e||null},setItem:function(e,t){Ek.push(e),Nk[e]=String(t)},key:function(e){return Ek[e]},removeItem:function(t){Ek=Ek.filter(function(e){return e===t}),delete Nk[t]},clear:function(){Ek=[],Nk={}},length:0},Object.defineProperty(Ln,"length",{get:function(){return Ek.length},configurable:!1,enumerable:!1}),kk=Ln}_k={geom:{Rect:Pn},util:{Promise:so,Delay:co,Tools:re,VK:q,URI:Sy,Class:YE,EventDispatcher:hE,Observable:n,I18n:gl,XHR:wk,JSON:Ck,JSONRequest:e,JSONP:t,LocalStorage:kk,Color:function(e){function t(e){if("object"==typeof e){if("r"in e)u=e.r,s=e.g,c=e.b;else if("v"in e){var t=e.h,n=e.s,r=e.v;if(t=(parseInt(t,10)||0)%360,n=parseInt(n,10)/100,r=parseInt(r,10)/100,n=bk(0,vk(n,1)),r=bk(0,vk(r,1)),0===n)u=s=c=yk(255*r);else{var t=t/60,o=r*n,i=o*(1-Math.abs(t%2-1)),n=r-o;switch(Math.floor(t)){case 0:u=o,s=i,c=0;break;case 1:u=i,s=o,c=0;break;case 2:u=0,s=o,c=i;break;case 3:u=0,s=i,c=o;break;case 4:u=i,s=0,c=o;break;case 5:u=o,s=0,c=i;break;default:u=s=c=0}u=yk(255*(u+n)),s=yk(255*(s+n)),c=yk(255*(c+n))}}}else(r=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(u=parseInt(r[1],10),s=parseInt(r[2],10),c=parseInt(r[3],10)):(r=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(r[1],16),s=parseInt(r[2],16),c=parseInt(r[3],16)):(r=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(r[1]+r[1],16),s=parseInt(r[2]+r[2],16),c=parseInt(r[3]+r[3],16));return u=u<0?0:255<u?255:u,s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,a}var a={},u=0,s=0,c=0;return e&&t(e),a.toRgb=function(){return{r:u,g:s,b:c}},a.toHsv=function(){return e=u,t=s,n=c,o=0,i=vk(e/=255,vk(t/=255,n/=255)),a=bk(e,bk(t,n)),i===a?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:yk(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:yk(100*r),v:yk(100*o)});var e,t,n,r,o,i,a},a.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e}return"#"+e(u)+e(s)+e(c)},a.parse=t,a},ImageUploader:function(n){var e=j0(),r=W0(n,e);return{upload:function(e,t){return r.upload(e,(t=void 0===t?!0:t)?$0(n):void 0)}}}},dom:{EventUtils:ra,Sizzle:te,DomQuery:oe,TreeWalker:fo,TextSeeker:ls,DOMUtils:ie,ScriptLoader:$u,RangeUtils:Wd,Serializer:Ay,StyleSheetLoader:ro,ControlSelection:Ud,BookmarkManager:Bd,Selection:Qb,Event:ra.Event},html:{Styles:_o,Entities:Mi,Node:hg,Schema:Yi,SaxParser:ky,DomParser:r0,Writer:Tg,Serializer:Og},Env:G,AddOnManager:Xu,Annotator:Od,Formatter:J0,UndoManager:Z0,EditorCommands:rE,WindowManager:O0,NotificationManager:Wy,EditorObservable:_E,Shortcuts:LE,Editor:VE,FocusManager:eg,EditorManager:fk,DOM:ie.DOM,ScriptLoader:$u.ScriptLoader,PluginManager:D0,ThemeManager:T0,IconManager:S0,Resource:r,trim:re.trim,isArray:re.isArray,is:re.is,toArray:re.toArray,makeMap:re.makeMap,each:re.each,map:re.map,grep:re.grep,inArray:re.inArray,extend:re.extend,create:re.create,walk:re.walk,createNS:re.createNS,resolve:re.resolve,explode:re.explode,_addCacheSuffix:re._addCacheSuffix,isOpera:G.opera,isWebKit:G.webkit,isIE:G.ie,isGecko:G.gecko,isMac:G.mac},Ln=re.extend(fk,_k),Pn=Ln,window.tinymce=Pn,window.tinyMCE=Pn,n=Ln;if("object"==typeof module)try{module.exports=n}catch(e){}}();